(self.webpackChunkangular_tailwind=self.webpackChunkangular_tailwind||[]).push([[164],{6297:(at,J,C)=>{"use strict";C.d(J,{C:()=>Xo});var a=C(3953);let F=(()=>{class l{constructor(){this.year=(new Date).getFullYear()}ngOnInit(){}static#t=this.\u0275fac=function(f){return new(f||l)};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-footer"]],standalone:!0,features:[a.aNF],decls:7,vars:1,consts:[[1,"flex","h-16","items-center","bg-background"],[1,"flex","w-full","items-center","justify-between","px-7","text-[13px]","font-medium"],[1,"text-muted-foreground/50"],[1,"mr-2"],["href","#","target","_blank",1,"hover:text-primary"]],template:function(f,_){1&f&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a.EFF(4),a.k0s(),a.j41(5,"a",4),a.EFF(6," GISMDS "),a.k0s()()()()),2&f&&(a.R7$(4),a.SpI("",_.year,"\xa9"))}})}return l})();var U=C(5559);const M=JSON.parse('{"name":"gismds-angular","displayName":"GISMDS","version":"0.1.0","keywords":["angular","tailwind","starter-kit","tailwind-template","dark mode","open source"],"license":"MIT","scripts":{"ng":"ng","start":"ng serve --open","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","e2e-ui":"npx playwright test --ui","prettier":"prettier --config ./.prettierrc --write \\"src/{app,environments}/**/*{.ts,.html,.scss,.json}\\"","prettier:verify":"prettier --config ./.prettierrc --check \\"src/{app,environments}/**/*{.ts,.html,.scss,.json}\\"","prettier:staged":"pretty-quick --staged","lint":"ng lint"},"private":true,"dependencies":{"@angular/animations":"^18.1.0","@angular/cdk":"^18.2.8","@angular/common":"^18.1.0","@angular/compiler":"^18.1.0","@angular/core":"^18.1.0","@angular/forms":"^18.1.0","@angular/material":"^18.2.8","@angular/platform-browser":"^18.1.0","@angular/platform-browser-dynamic":"^18.1.0","@angular/router":"^18.1.0","@asymmetrik/ngx-leaflet":"^18.0.1","@tailwindcss/aspect-ratio":"^0.4.0","@tailwindcss/forms":"^0.5.2","@tailwindcss/typography":"^0.5.4","@types/d3":"^7.4.3","@types/maplibre-gl":"^1.14.0","angular-svg-icon":"^13.0.0","apexcharts":"^3.35.3","bootstrap":"^5.3.3","d3":"^7.9.0","intro.js":"^7.2.0","leaflet":"^1.9.4","leaflet-betterscale":"^1.0.0","leaflet-fullscreen":"^1.0.2","leaflet-groupedlayercontrol":"^0.6.1","leaflet-minimap":"^3.6.1","leaflet.awesome-markers":"^2.0.5","maplibre-gl":"^1.15.2","ng-apexcharts":"^1.7.1","ngx-sonner":"^2.0.1","rxjs":"~7.4.0","tslib":"^2.3.0","zone.js":"~0.14.2"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.0","@angular/cli":"^18.1.0","@angular/compiler-cli":"^18.1.0","@playwright/test":"^1.42.1","@types/intro.js":"^5.1.5","@types/jasmine":"~3.10.0","@types/leaflet":"^1.9.12","@types/node":"^12.11.1","angular-cli-ghpages":"^2.0.3","autoprefixer":"^10.4.7","cz-conventional-changelog":"^3.3.0","jasmine-core":"~3.10.0","karma":"~6.3.0","karma-chrome-launcher":"~3.1.0","karma-coverage":"~2.0.3","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"~1.7.0","postcss":"^8.4.14","prettier":"^2.7.1","prettier-plugin-tailwindcss":"^0.1.12","tailwind-scrollbar":"^1.3.1","tailwindcss":"^3.1.6","typescript":"~5.4.5"},"config":{"commitizen":{"path":"./node_modules/cz-conventional-changelog"}}}');var B=C(6216),P=C(177),z=C(8359);let ot=(()=>{class l{static#t=this.pages=[{group:"",separator:!1,items:[{icon:"assets/icons/heroicons/outline/exclamation-triangle.svg",label:"Typhoon Category",route:"/typhoon-category",children:[{label:"Category 1",route:"/typhoon-category/1",slug:"category1"},{label:"Category 2",route:"/typhoon-category/2",slug:"category2"},{label:"Category 3",route:"/typhoon-category/3",slug:"category3"},{label:"Category 4",route:"/typhoon-category/4",slug:"category4"},{label:"Category 5",route:"/typhoon-category/5",slug:"category5"}]}]}]}return l})(),I=(()=>{class l{constructor(h){this.router=h,this._showSidebar=(0,a.vPA)(!0),this._showMobileMenu=(0,a.vPA)(!1),this._pagesMenu=(0,a.vPA)([]),this._subscription=new z.yU,this._pagesMenu.set(ot.pages);let f=this.router.events.subscribe(_=>{_ instanceof U.wF&&this._pagesMenu().forEach(y=>{let b=!1;y.items.forEach(T=>{const D=this.isActive(T.route);T.expanded=D,T.active=D,D&&(b=!0),T.children&&this.expand(T.children)}),y.active=b})});this._subscription.add(f)}get showSideBar(){return this._showSidebar()}get showMobileMenu(){return this._showMobileMenu()}get pagesMenu(){return this._pagesMenu()}set showSideBar(h){this._showSidebar.set(h)}set showMobileMenu(h){this._showMobileMenu.set(h)}toggleSidebar(){this._showSidebar.set(!this._showSidebar())}toggleMenu(h){this.showSideBar=!0,h.expanded=!h.expanded}toggleSubMenu(h){h.expanded=!h.expanded}expand(h){h.forEach(f=>{f.expanded=this.isActive(f.route),f.children&&this.expand(f.children)})}isActive(h){return this.router.isActive(this.router.createUrlTree([h]),{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}ngOnDestroy(){this._subscription.unsubscribe()}static#t=this.\u0275fac=function(f){return new(f||l)(a.KVO(U.Ix))};static#e=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ut=(l,u)=>({hidden:l,"rotate-90":u}),It=l=>({hidden:l});function gt(l,u){1&l&&(a.j41(0,"div",23),a.nrm(1,"hr",32),a.k0s())}function st(l,u){if(1&l){const h=a.RV6();a.j41(0,"div",1)(1,"div",2)(2,"small",3),a.EFF(3," Hazards "),a.k0s()(),a.j41(4,"ul",4)(5,"li")(6,"div",5),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.toggleHazardMenu("flood-categories"))}),a.j41(7,"div",6),a.nrm(8,"svg-icon",7),a.k0s(),a.j41(9,"div",8)(10,"a",9),a.EFF(11," Flood Hazard Map "),a.k0s()(),a.j41(12,"button",10),a.nrm(13,"svg-icon",11),a.k0s()(),a.j41(14,"div",12)(15,"div",13)(16,"a",14),a.EFF(17," Typhoon Categories "),a.k0s()(),a.j41(18,"ul",4)(19,"li")(20,"div",15)(21,"div",16)(22,"ul",17)(23,"li")(24,"div",18)(25,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("typhoon","category1"))}),a.EFF(26," Tropical Depression (TD) "),a.k0s()()(),a.j41(27,"li")(28,"div",18)(29,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("typhoon","category2"))}),a.EFF(30," Tropical Storm (TS) "),a.k0s()()(),a.j41(31,"li")(32,"div",18)(33,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("typhoon","category3"))}),a.EFF(34," Severe Tropical Storm (STS) "),a.k0s()()(),a.j41(35,"li")(36,"div",18)(37,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("typhoon","category4"))}),a.EFF(38," Typhoon (TY) "),a.k0s()()(),a.j41(39,"li")(40,"div",18)(41,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("typhoon","category5"))}),a.EFF(42," Super Typhoon (ST) "),a.k0s()()()()()()()()()(),a.j41(43,"li")(44,"div",5),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.toggleHazardMenu("landslide-categories"))}),a.j41(45,"div",6),a.nrm(46,"svg-icon",20),a.k0s(),a.j41(47,"div",8)(48,"a",21),a.EFF(49," Landslide Hazard Map "),a.k0s()(),a.j41(50,"button",10),a.nrm(51,"svg-icon",11),a.k0s()(),a.j41(52,"div",22)(53,"div",13)(54,"a",14),a.EFF(55," Landslide Categories "),a.k0s()(),a.j41(56,"ul",4)(57,"li")(58,"div",15)(59,"div",16)(60,"ul",17)(61,"li")(62,"div",18)(63,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("landslide","category1"))}),a.EFF(64," Less Likely to Experience "),a.k0s()()(),a.j41(65,"li")(66,"div",18)(67,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("landslide","category3"))}),a.EFF(68," Moderately Susceptible "),a.k0s()()(),a.j41(69,"li")(70,"div",18)(71,"a",19),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("landslide","category4"))}),a.EFF(72," High Susceptible "),a.k0s()()()()()()()()()()(),a.j41(73,"div",23),a.nrm(74,"hr",24),a.k0s(),a.j41(75,"div",25)(76,"small",3),a.EFF(77," Layers "),a.k0s()(),a.j41(78,"ul",26)(79,"li")(80,"div",15)(81,"ul",4)(82,"li")(83,"div",15)(84,"div",16)(85,"ul",17)(86,"li")(87,"div",27)(88,"label",28)(89,"input",29),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("layer","barangay"))}),a.k0s(),a.j41(90,"span"),a.EFF(91,"Barangays"),a.k0s()()()(),a.j41(92,"li")(93,"div",27)(94,"label",28)(95,"input",30),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("layer","water"))}),a.k0s(),a.j41(96,"span"),a.EFF(97,"Water Bodies"),a.k0s()()()(),a.j41(98,"li")(99,"div",27)(100,"label",28)(101,"input",30),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("layer","building"))}),a.k0s(),a.j41(102,"span"),a.EFF(103,"Buildings"),a.k0s()()()(),a.j41(104,"li")(105,"div",27)(106,"label",28)(107,"input",30),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("layer","road"))}),a.k0s(),a.j41(108,"span"),a.EFF(109,"Roads"),a.k0s()()()(),a.j41(110,"li")(111,"div",27)(112,"label",28)(113,"input",29),a.bIt("click",function(){a.eBV(h);const _=a.XpG();return a.Njj(_.onMenuClick("layer","forest"))}),a.k0s(),a.j41(114,"span"),a.EFF(115,"Forests"),a.k0s()()()()()()()()()()()(),a.DNE(116,gt,2,0,"div",31),a.k0s()}if(2&l){const h=u.$implicit,f=a.XpG();a.R7$(8),a.Y8G("svgClass","h-5 w-5"),a.R7$(4),a.Y8G("ngClass",a.l_i(9,ut,!f.menuService.showSideBar,f.isFloodCategoriesVisible)),a.R7$(),a.Y8G("svgClass","h-5 w-5"),a.R7$(),a.Y8G("ngClass",a.eq3(12,It,!f.isFloodCategoriesVisible)),a.R7$(32),a.Y8G("svgClass","h-5 w-5"),a.R7$(4),a.Y8G("ngClass",a.l_i(14,ut,!f.menuService.showSideBar,f.isLandslideCategoriesVisible)),a.R7$(),a.Y8G("svgClass","h-5 w-5"),a.R7$(),a.Y8G("ngClass",a.eq3(17,It,!f.isLandslideCategoriesVisible)),a.R7$(64),a.Y8G("ngIf",h.separator)}}let Et=(()=>{class l{constructor(h){this.menuService=h,this.menuClicked=new a.bkB,this.isDropdownOpen=!1,this.isFloodCategoriesVisible=!1,this.isLandslideCategoriesVisible=!1}toggleMenu(h){this.menuService.toggleMenu(h)}onMenuClick(h,f){this.menuClicked.emit({type:h,category:f})}toggleLayer(h){}toggleHazardMenu(h){"flood-categories"===h?this.isFloodCategoriesVisible=!this.isFloodCategoriesVisible:"landslide-categories"===h&&(this.isLandslideCategoriesVisible=!this.isLandslideCategoriesVisible)}ngOnInit(){}static#t=this.\u0275fac=function(f){return new(f||l)(a.rXU(I))};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-sidebar-menu"]],outputs:{menuClicked:"menuClicked"},standalone:!0,features:[a.aNF],decls:1,vars:1,consts:[["class","pt-4",4,"ngFor","ngForOf"],[1,"pt-4"],[1,"mx-1","mb-2","flex","items-center","justify-between"],[1,"text-xs","font-semibold","text-muted-foreground/50"],[1,"flex","flex-col","space-y-1"],[1,"group","relative","text-muted-foreground",3,"click"],[1,"text-muted-foreground/50","pointer-events-none","absolute","m-2"],["src","assets/icons/heroicons/outline/Flood-Fill--Streamline-Sharp-Fill-Material-Symbols.svg",3,"svgClass"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],[1,"pointer-events-none","absolute","top-1","right-0","flex","items-center","p-1","text-muted-foreground/50","transition-all","duration-500",3,"ngClass"],["src","assets/icons/heroicons/solid/chevron-right.svg",3,"svgClass"],["id","flood-categories",1,"group","relative","text-muted-foreground","transition-all","duration-500",3,"ngClass"],[1,"flex","flex-1","h-9","cursor-pointer","items-center","justify-start","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground"],[1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none","text-muted-foreground/50"],[1,"group","relative","text-muted-foreground"],[1,"pt-1","pl-4","transition-all","duration-500"],[1,"flex","flex-col","border-l","border-dashed","border-border","pl-2","text-muted-foreground"],[1,"flex","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground"],["routerLinkActive","text-primary",1,"inline-block","w-full","px-4","py-2","text-xs","font-semibold","cursor-pointer",3,"click"],["src","assets/icons/heroicons/outline/Landslide-Fill--Streamline-Sharp-Fill-Material-Symbols.svg",3,"svgClass"],["routerLinkActive","text-primary",1,"ml-10","truncate","text-xs","font-semibold","tracking-wide","focus:outline-none"],["id","landslide-categories",1,"group","relative","text-muted-foreground",3,"ngClass"],[1,"pt-3"],[1,"border-dashed","border-muted"],[1,"mx-1","mt-2","mb-2","flex","items-center","justify-between"],[1,"flex","flex-1","space-y-1"],[1,"flex","items-center","justify-between","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground","px-4","py-2","cursor-pointer"],[1,"flex","items-center","w-full","text-xs","font-semibold"],["type","checkbox","checked","",1,"mr-2",3,"click"],["type","checkbox",1,"mr-2",3,"click"],["class","pt-3",4,"ngIf"],[1,"border-dashed","border-border"]],template:function(f,_){1&f&&a.DNE(0,st,117,19,"div",0),2&f&&a.Y8G("ngForOf",_.menuService.pagesMenu)},dependencies:[P.pM,P.YU,B.iu,B.DM,U.wQ,P.bT],changeDetection:0})}return l})();var Me=C(4412);let Ne=(()=>{class l{constructor(){this.disasterTypeSource=new Me.t(null),this.disasterType$=this.disasterTypeSource.asObservable()}setDisasterType(h){this.disasterTypeSource.next(h)}static#t=this.\u0275fac=function(f){return new(f||l)};static#e=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Tt(l,u){if(1&l&&(a.j41(0,"div",13)(1,"div",14),a.nrm(2,"svg-icon",15),a.k0s(),a.j41(3,"b",16),a.EFF(4),a.k0s()()),2&l){const h=a.XpG();a.R7$(4),a.SpI(" ",h.appJson.displayName," ")}}function je(l,u){if(1&l&&(a.j41(0,"div",17)(1,"span",18),a.EFF(2),a.k0s()()),2&l){const h=a.XpG();a.R7$(2),a.SpI(" v",h.appJson.version," ")}}let ze=(()=>{class l{constructor(h,f){this.menuService=h,this.disasterService=f,this.disasterTypeChange=new a.bkB,this.appJson=M}ngOnInit(){}toggleSidebar(){this.menuService.toggleSidebar()}onSidebarMenuClick(h){this.disasterService.setDisasterType(h)}static#t=this.\u0275fac=function(f){return new(f||l)(a.rXU(I),a.rXU(Ne))};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-sidebar"]],outputs:{disasterTypeChange:"disasterTypeChange"},standalone:!0,features:[a.aNF],decls:14,vars:5,consts:[[1,"scrollbar-thumb-rounded","scrollbar-track-rounded","h-full","flex","flex-col","justify-between","overflow-auto","bg-background","pt-3","transition-all","duration-300","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-card","sm:flex","lg:flex",3,"ngClass"],["id","hazard-section",1,"px-4"],[1,"relative","h-10"],["class","flex items-center justify-center h-full space-x-2",4,"ngIf"],[1,"pt-3"],[1,"border-dashed","border-muted"],["id","layers-section",3,"menuClicked"],[1,"mx-4","my-4","space-y-1","hidden","sm:block"],["target","_blank","href","#",1,"group","flex","h-9","cursor-pointer","items-center","justify-start","rounded","p-2","hover:bg-card"],["src","assets/icons/heroicons/outline/information-circle.svg",3,"svgClass"],[1,"ml-3","truncate","text-[10px]","font-semibold","tracking-wide","focus:outline-none"],[1,"rounded-lg","bg-primary/10","px-2","font-semibold","text-primary"],["class","fixed w-full","id","welcome",4,"ngIf"],[1,"flex","items-center","justify-center","h-full","space-x-2"],[1,"icon-wrapper"],["src","assets/icons/compass-symbol-svgrepo-com.svg"],[1,"text-lg","font-bold","text-center","text-foreground"],["id","welcome",1,"fixed","w-full"],[1,"z-1","absolute","left-12","-top-4","w-auto","min-w-max","origin-left","scale-0","rounded-md","bg-foreground","p-2","text-xs","font-bold","text-background","shadow-md","transition-all","duration-200","group-hover:scale-100"]],template:function(f,_){1&f&&(a.j41(0,"nav",0)(1,"div",1)(2,"div",2),a.DNE(3,Tt,5,1,"div",3),a.k0s(),a.j41(4,"div",4),a.nrm(5,"hr",5),a.k0s(),a.j41(6,"app-sidebar-menu",6),a.bIt("menuClicked",function(b){return _.onSidebarMenuClick(b)}),a.k0s()(),a.j41(7,"div",7)(8,"a",8),a.nrm(9,"svg-icon",9),a.j41(10,"div",10)(11,"span",11),a.EFF(12),a.k0s()(),a.DNE(13,je,3,1,"div",12),a.k0s()()()),2&f&&(a.Y8G("ngClass",_.menuService.showSideBar?"w-full":"w-[70px]"),a.R7$(3),a.Y8G("ngIf",_.menuService.showSideBar),a.R7$(6),a.Y8G("svgClass","h-5 w-5 text-muted-foreground/50"),a.R7$(3),a.SpI("v",_.appJson.version,""),a.R7$(),a.Y8G("ngIf",!_.menuService.showSideBar))},dependencies:[P.YU,P.bT,B.iu,B.DM,Et],styles:[".icon-wrapper[_ngcontent-%COMP%]{width:24px;height:24px}.icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return l})();var x=C(8244);function tt(l,u){1&l&&(a.j41(0,"div",14),a.nrm(1,"svg-icon",15),a.k0s()),2&l&&(a.R7$(),a.Y8G("svgClass","h-5 w-5"))}function pt(l,u){1&l&&(a.j41(0,"div",14),a.nrm(1,"svg-icon",16),a.k0s()),2&l&&(a.R7$(),a.Y8G("svgClass","h-5 w-5"))}function Q(l,u){if(1&l&&(a.j41(0,"p",29),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.flood.risk," %")}}function Rt(l,u){if(1&l&&(a.j41(0,"p",30),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.flood.risk," %")}}function Ht(l,u){if(1&l&&(a.j41(0,"p",31),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.flood.risk," %")}}function me(l,u){if(1&l&&(a.j41(0,"p",29),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Flood Level: ",h.flood.level,"")}}function St(l,u){if(1&l&&(a.j41(0,"p",30),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Flood Level: ",h.flood.level,"")}}function Kt(l,u){if(1&l&&(a.j41(0,"p",31),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Flood Level: ",h.flood.level,"")}}function q(l,u){if(1&l&&(a.j41(0,"div"),a.DNE(1,Q,2,1,"p",26)(2,Rt,2,1,"p",27)(3,Ht,2,1,"p",28)(4,me,2,1,"p",26)(5,St,2,1,"p",27)(6,Kt,2,1,"p",28),a.k0s()),2&l){const h=a.XpG(4);a.R7$(),a.Y8G("ngIf","category5"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category4"==h.disasterType.category||"category3"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category2"==h.disasterType.category||"category1"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category5"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category4"==h.disasterType.category||"category3"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category2"==h.disasterType.category||"category1"==h.disasterType.category)}}function Pi(l,u){if(1&l&&(a.j41(0,"p",36),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.landslide.risk," %")}}function et(l,u){if(1&l&&(a.j41(0,"p",37),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.landslide.risk," %")}}function Pt(l,u){if(1&l&&(a.j41(0,"p",38),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Risk: ",h.landslide.risk," %")}}function Vt(l,u){if(1&l&&(a.j41(0,"p",36),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Landslide Level: ",h.landslide.level,"")}}function Ut(l,u){if(1&l&&(a.j41(0,"p",37),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Landslide Level: ",h.landslide.level,"")}}function Lt(l,u){if(1&l&&(a.j41(0,"p",38),a.EFF(1),a.k0s()),2&l){const h=a.XpG(3).$implicit;a.R7$(),a.SpI("Landslide Level: ",h.landslide.level,"")}}function bt(l,u){if(1&l&&(a.j41(0,"div",32),a.DNE(1,Pi,2,1,"p",33)(2,et,2,1,"p",34)(3,Pt,2,1,"p",35)(4,Vt,2,1,"p",33)(5,Ut,2,1,"p",34)(6,Lt,2,1,"p",35),a.k0s()),2&l){const h=a.XpG(4);a.R7$(),a.Y8G("ngIf","category5"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category4"==h.disasterType.category||"category3"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category2"==h.disasterType.category||"category1"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category5"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category4"==h.disasterType.category||"category3"==h.disasterType.category),a.R7$(),a.Y8G("ngIf","category2"==h.disasterType.category||"category1"==h.disasterType.category)}}function lt(l,u){if(1&l&&(a.j41(0,"td",24),a.DNE(1,q,7,6,"div",13)(2,bt,7,6,"div",25),a.k0s()),2&l){const h=a.XpG(3);a.R7$(),a.Y8G("ngIf","typhoon"==h.disasterType.type),a.R7$(),a.Y8G("ngIf","landslide"==h.disasterType.type)}}function ae(l,u){if(1&l&&(a.j41(0,"td",24)(1,"div")(2,"p"),a.EFF(3),a.k0s(),a.j41(4,"p"),a.EFF(5),a.k0s()(),a.j41(6,"div",32)(7,"p"),a.EFF(8),a.k0s(),a.j41(9,"p"),a.EFF(10),a.k0s()()()),2&l){const h=a.XpG().$implicit;a.R7$(3),a.SpI("Risk: ",h.flood.risk,"%"),a.R7$(2),a.SpI("Flood Level: ",h.flood.level,""),a.R7$(3),a.SpI("Risk: ",h.flood.risk,"%"),a.R7$(2),a.SpI("Landslide Level: ",h.flood.level,"")}}function Ie(l,u){if(1&l&&(a.j41(0,"ul")(1,"li",39),a.EFF(2),a.k0s()()),2&l){const h=u.$implicit;a.R7$(2),a.JRh(h)}}function Yn(l,u){if(1&l){const h=a.RV6();a.qex(0),a.j41(1,"tr",18),a.bIt("click",function(){const _=a.eBV(h).$implicit,y=a.XpG(2);return a.Njj(y.toggleRemarks(_))}),a.j41(2,"td",19),a.EFF(3),a.k0s(),a.DNE(4,lt,3,2,"td",20)(5,ae,11,4,"ng-template",null,0,a.C5r),a.k0s(),a.j41(7,"tr",21)(8,"td",22)(9,"p",23),a.EFF(10,"Risk Factors"),a.k0s(),a.DNE(11,Ie,3,1,"ul",17),a.k0s()(),a.bVm()}if(2&l){const h=u.$implicit,f=a.sdS(6),_=a.XpG(2);a.R7$(3),a.JRh(h.barangay),a.R7$(),a.Y8G("ngIf",_.disasterType)("ngIfElse",f),a.R7$(3),a.AVh("hidden",!h.showremarks),a.R7$(4),a.Y8G("ngForOf",h.remarks)}}function Ki(l,u){if(1&l&&(a.j41(0,"tbody"),a.DNE(1,Yn,12,6,"ng-container",17),a.k0s()),2&l){const h=a.XpG();a.R7$(),a.Y8G("ngForOf",h.floodLandslideDetails)}}C(8910),C(6116),C(4757);let Xi=(()=>{class l{constructor(){this.rowClicked=new a.bkB}fetchGeoJson(h){return fetch(h).then(f=>{if(!f.ok)throw new Error("Network response was not ok");return f.json()}).catch(f=>{throw console.error(`Error fetching the GeoJSON data from ${h}:`,f),f})}loadFloodLandslideDetails(){var h="./assets/data/hazard_flood_landslide.geojson";this.fetchGeoJson(h).then(f=>{x.geoJson(f,{onEachFeature:(y,b)=>{const T=y.properties.barangay,D=y.properties.remarks.split("."),j=y.geometry.coordinates;if(D.pop(),!this.floodLandslideDetailsBarangayList.includes(T)){var O="Low";y.properties.flood_level.includes(",")&&((Z=y.properties.flood_level.split(",")).includes("Moderate")?O="Moderate":Z.includes("High")&&(O="High"));var R=25;"Moderate"==O?R=50:"High"==O&&(R=100);var Z,Y="Low";y.properties.landslide_level.includes(",")&&((Z=y.properties.landslide_level.split(",")).includes("Moderate")?Y="Moderate":Z.includes("High")&&(Y="High"));var vt=25;if("Moderate"==Y?vt=50:"High"==Y&&(vt=100),typeof this.disasterType>"u")this.floodLandslideDetails.push({barangay:T,flood:{risk:R,level:O},landslide:{risk:vt,level:Y},coordinates:j,remarks:D,showremarks:!1});else{var ft=!1;"typhoon"===this.disasterType.type?"category1"===this.disasterType.category&&"Low"===O||"category2"===this.disasterType.category&&"Low"===O?ft=!0:"category3"===this.disasterType.category||"category4"===this.disasterType.category?"Moderate"===O?(ft=!0,R=70):"Low"===O&&(ft=!0,R=50):"category5"===this.disasterType.category&&("High"===O?(ft=!0,R=100):"Moderate"===O&&(ft=!0,R=70)):"landslide"===this.disasterType.type&&("category1"===this.disasterType.category&&"Low"===Y||"category3"===this.disasterType.category&&"Moderate"===Y||"category4"===this.disasterType.category&&"High"===Y)&&(ft=!0),ft&&this.floodLandslideDetails.push({barangay:T,flood:{risk:R,level:O},landslide:{risk:vt,level:Y},coordinates:j,remarks:D,showremarks:!1})}this.floodLandslideDetailsBarangayList.push(T)}}})}).catch(f=>{console.error(`Failed to load GeoJSON from ${h}:`,f)})}toggleRemarks(h){h.showremarks=!h.showremarks,this.rowClicked.emit({barangay:h.barangay,coordinates:h.coordinates})}ngOnInit(){}ngOnChanges(){this.floodLandslideDetailsBarangayList=[],this.floodLandslideDetails=[],this.loadFloodLandslideDetails()}static#t=this.\u0275fac=function(f){return new(f||l)};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-sidebar-details"]],inputs:{disasterType:"disasterType"},outputs:{rowClicked:"rowClicked"},standalone:!0,features:[a.OA$,a.aNF],decls:21,vars:3,consts:[["noDisasterType",""],["id","sidebar-details",1,""],[1,"pt-6"],[1,"flex","flex-col","space-y-1"],[1,"p-4"],[1,"group","relative","text-muted-foreground"],["class","text-muted-foreground/50 pointer-events-none absolute m-2",4,"ngIf","ngIfElse"],[1,"flex","h-9","cursor-pointer","items-center","justify-start","rounded","text-muted-foreground","hover:bg-card","hover:text-foreground"],[1,"ml-10","truncate","text-sm","font-semibold","tracking-wide","focus:outline-none"],[1,"p-4","text-muted-foreground","text-xs"],[1,"h-screen","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"min-w-full"],[1,"text-left","py-4","px-4","border-b","border-gray-800","font-bold","text-gray-200"],[4,"ngIf"],[1,"text-muted-foreground/50","pointer-events-none","absolute","m-2"],["src","assets/icons/heroicons/outline/Landslide-Fill--Streamline-Sharp-Fill-Material-Symbols.svg",3,"svgClass"],["src","assets/icons/heroicons/outline/Flood-Fill--Streamline-Sharp-Fill-Material-Symbols.svg",3,"svgClass"],[4,"ngFor","ngForOf"],[1,"hover:bg-gray-600",3,"click"],[1,"py-2","px-4","border-b","border-gray-800","text-gray-200"],["class","py-2 px-4 border-b border-gray-800",4,"ngIf","ngIfElse"],[1,"risk-factors"],["colspan","2",1,"py-2","px-4","border-b","border-gray-800","text-gray-400"],[1,"mb-2","font-bold"],[1,"py-2","px-4","border-b","border-gray-800"],["class","pt-2",4,"ngIf"],["class","text-customFloodHigh",4,"ngIf"],["class","text-customFloodModerate",4,"ngIf"],["class","text-customFloodLow",4,"ngIf"],[1,"text-customFloodHigh"],[1,"text-customFloodModerate"],[1,"text-customFloodLow"],[1,"pt-2"],["class","text-customLandslideHigh",4,"ngIf"],["class","text-customLandslideModerate",4,"ngIf"],["class","text-customLandslideLow",4,"ngIf"],[1,"text-customLandslideHigh"],[1,"text-customLandslideModerate"],[1,"text-customLandslideLow"],[1,"m-2"]],template:function(f,_){if(1&f&&(a.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),a.DNE(5,tt,2,1,"div",6)(6,pt,2,1,"ng-template",null,0,a.C5r),a.j41(8,"div",7)(9,"a",8),a.EFF(10," Barangays Susceptible to Hazards "),a.k0s()()()(),a.j41(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead")(15,"tr")(16,"th",12),a.EFF(17,"Barangay"),a.k0s(),a.j41(18,"th",12),a.EFF(19,"Risk Factor"),a.k0s()()(),a.DNE(20,Ki,2,1,"tbody",13),a.k0s()()()()()()),2&f){const y=a.sdS(7);a.R7$(5),a.Y8G("ngIf",_.disasterType&&"landslide"==_.disasterType.type)("ngIfElse",y),a.R7$(15),a.Y8G("ngIf",_.floodLandslideDetails.length>0)}},dependencies:[P.pM,P.bT,B.iu,B.DM],styles:["#sidebar-details[_ngcontent-%COMP%]{overflow:auto;max-width:350px}.hidden[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:circle}"]})}return l})();function _e(l){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(l)}function mt(l,u,h,f){return new(h||(h=Promise))(function(_,y){function b(j){try{D(f.next(j))}catch(O){y(O)}}function T(j){try{D(f.throw(j))}catch(O){y(O)}}function D(j){var O;j.done?_(j.value):(O=j.value,O instanceof h?O:new h(function(Z){Z(O)})).then(b,T)}D((f=f.apply(l,u||[])).next())})}function yt(l,u){var h,f,_,y,b={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return y={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function T(D){return function(j){return function(O){if(h)throw new TypeError("Generator is already executing.");for(;y&&(y=0,O[0]&&(b=0)),b;)try{if(h=1,f&&(_=2&O[0]?f.return:O[0]?f.throw||((_=f.return)&&_.call(f),0):f.next)&&!(_=_.call(f,O[1])).done)return _;switch(f=0,_&&(O=[2&O[0],_.value]),O[0]){case 0:case 1:_=O;break;case 4:return b.label++,{value:O[1],done:!1};case 5:b.label++,f=O[1],O=[0];continue;case 7:O=b.ops.pop(),b.trys.pop();continue;default:if(!((_=(_=b.trys).length>0&&_[_.length-1])||6!==O[0]&&2!==O[0])){b=0;continue}if(3===O[0]&&(!_||O[1]>_[0]&&O[1]<_[3])){b.label=O[1];break}if(6===O[0]&&b.label<_[1]){b.label=_[1],_=O;break}if(_&&b.label<_[2]){b.label=_[2],b.ops.push(O);break}_[2]&&b.ops.pop(),b.trys.pop();continue}O=u.call(l,b)}catch(Z){O=[6,Z],f=0}finally{h=_=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([D,j])}}}function qi(l,u,h){var f,_=((f={})[l]=u,f.path="/",f.expires=void 0,f);if(h){var y=new Date;y.setTime(y.getTime()+24*h*60*60*1e3),_.expires=y.toUTCString()}var b=[];for(var T in _)b.push("".concat(T,"=").concat(_[T]));return document.cookie=b.join("; "),Ji(l)}function Ji(l){return(u={},document.cookie.split(";").forEach(function(h){var f=h.split("="),y=f[1];u[f[0].trim()]=y}),u)[l];var u}"function"==typeof SuppressedError&&SuppressedError;var He,tn=(He={},function(l,u){return void 0===u&&(u="introjs-stamp"),He[u]=He[u]||0,void 0===l[u]&&(l[u]=He[u]++),l[u]}),ie=new(function(){function l(){this.events_key="introjs_event"}return l.prototype._id=function(u,h,f){return u+tn(h)+(f?"_".concat(tn(f)):"")},l.prototype.on=function(u,h,f,_,y){var b=this._id(h,f,_),T=function(D){return f(_||u,D||window.event)};"addEventListener"in u?u.addEventListener(h,T,y):"attachEvent"in u&&u.attachEvent("on".concat(h),T),u[this.events_key]=u[this.events_key]||{},u[this.events_key][b]=T},l.prototype.off=function(u,h,f,_,y){var b=this._id(h,f,_),T=u[this.events_key]&&u[this.events_key][b];T&&("removeEventListener"in u?u.removeEventListener(h,T,y):"detachEvent"in u&&u.detachEvent("on".concat(h),T),u[this.events_key][b]=null)},l}()),Ct=function(l){return"function"==typeof l};function ne(l,u){if(l instanceof SVGElement){var h=l.getAttribute("class")||"";h.match(u)||l.setAttribute("class","".concat(h," ").concat(u))}else if(void 0!==l.classList)for(var f=0,_=u.split(" ");f<_.length;f++)l.classList.add(_[f]);else l.className.match(u)||(l.className+=" ".concat(u))}function Si(l,u){var h="";return"currentStyle"in l?h=l.currentStyle[u]:document.defaultView&&document.defaultView.getComputedStyle&&(h=document.defaultView.getComputedStyle(l,null).getPropertyValue(u)),h&&h.toLowerCase?h.toLowerCase():h}function $n(l,u){if(l){var h=function(f){var _=window.getComputedStyle(f),y="absolute"===_.position,b=/(auto|scroll)/;if("fixed"===_.position)return document.body;for(var T=f;T=T.parentElement;)if(_=window.getComputedStyle(T),(!y||"static"!==_.position)&&b.test(_.overflow+_.overflowY+_.overflowX))return T;return document.body}(u);h!==document.body&&(h.scrollTop=u.offsetTop-h.offsetTop)}}function en(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var l=document.documentElement;return{width:l.clientWidth,height:l.clientHeight}}function Mi(l,u,h,f,_){var y,D;if("off"!==u&&l&&(y="tooltip"===u?_.getBoundingClientRect():f.getBoundingClientRect(),!((D=f.getBoundingClientRect()).top>=0&&D.left>=0&&D.bottom+80<=window.innerHeight&&D.right<=window.innerWidth))){var b=en().height;y.bottom-(y.bottom-y.top)<0||f.clientHeight>b?window.scrollBy(0,y.top-(b/2-y.height/2)-h):window.scrollBy(0,y.top-(b/2-y.height/2)+h)}}function qe(l){l.setAttribute("role","button"),l.tabIndex=0}function di(l){var u=l.parentElement;return!(!u||"HTML"===u.nodeName)&&("fixed"===Si(l,"position")||di(u))}function Je(l,u){var h=document.body,f=document.documentElement,_=window.pageYOffset||f.scrollTop||h.scrollTop,y=window.pageXOffset||f.scrollLeft||h.scrollLeft;u=u||h;var b=l.getBoundingClientRect(),T=u.getBoundingClientRect(),D=Si(u,"position"),j={width:b.width,height:b.height};return"body"!==u.tagName.toLowerCase()&&"relative"===D||"sticky"===D?Object.assign(j,{top:b.top-T.top,left:b.left-T.left}):di(l)?Object.assign(j,{top:b.top,left:b.left}):Object.assign(j,{top:b.top+_,left:b.left+y})}function Ii(l,u){if(l instanceof SVGElement){var h=l.getAttribute("class")||"";l.setAttribute("class",h.replace(u,"").replace(/^\s+|\s+$/g,""))}else l.className=l.className.replace(u,"").replace(/^\s+|\s+$/g,"")}function ge(l,u){var h="";if(l.style.cssText&&(h+=l.style.cssText),"string"==typeof u)h+=u;else for(var f in u)h+="".concat(f,":").concat(u[f],";");l.style.cssText=h}function ve(l,u,h){if(h&&u){var f=Je(u.element,l._targetElement),_=l._options.helperElementPadding;u.element instanceof Element&&di(u.element)?ne(h,"introjs-fixedTooltip"):Ii(h,"introjs-fixedTooltip"),"floating"===u.position&&(_=0),ge(h,{width:"".concat(f.width+_,"px"),height:"".concat(f.height+_,"px"),top:"".concat(f.top-_/2,"px"),left:"".concat(f.left-_/2,"px")})}}function ui(l,u,h,f,_){return l.left+u+h.width>f.width?(_.style.left="".concat(f.width-h.width-l.left,"px"),!1):(_.style.left="".concat(u,"px"),!0)}function Qe(l,u,h,f){return l.left+l.width-u-h.width<0?(f.style.left="".concat(-l.left,"px"),!1):(f.style.right="".concat(u,"px"),!0)}function oe(l,u){l.includes(u)&&l.splice(l.indexOf(u),1)}function ye(l,u,h,f,_){if(void 0===_&&(_=!1),u){var y,b,T,D;h.style.top="",h.style.right="",h.style.bottom="",h.style.left="",h.style.marginLeft="",h.style.marginTop="",f.style.display="inherit",h.className=["introjs-tooltip","string"==typeof u.tooltipClass?u.tooltipClass:l._options.tooltipClass].filter(Boolean).join(" "),h.setAttribute("role","dialog"),"floating"!==(D=u.position)&&l._options.autoPosition&&(D=function Go(l,u,h,f){var R,Y,ft,_t,Gt,_=l.slice(),y=en(),b=Je(h).height+10,T=Je(h).width+20,D=u.getBoundingClientRect(),j="floating";if(D.bottom+b>y.height&&oe(_,"bottom"),D.top-b<0&&oe(_,"top"),D.right+T>y.width&&oe(_,"right"),D.left-T<0&&oe(_,"left"),f&&(f=f.split("-")[0]),_.length&&(j=_[0],_.includes(f)&&(j=f)),"top"===j||"bottom"===j){var O=void 0,Z=[];"top"===j?(O="top-middle-aligned",Z=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(O="bottom-middle-aligned",Z=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),R=D.left,ft=Z,_t=(Y=T)/2,(Gt=Math.min(y.width,window.screen.width))-R<Y&&(oe(ft,"top-left-aligned"),oe(ft,"bottom-left-aligned")),(R<_t||Gt-R<_t)&&(oe(ft,"top-middle-aligned"),oe(ft,"bottom-middle-aligned")),R<Y&&(oe(ft,"top-right-aligned"),oe(ft,"bottom-right-aligned")),j=(ft.length?ft[0]:null)||O}return j}(l._options.positionPrecedence,u.element,h,D)),b=Je(u.element),y=Je(h),T=en(),ne(h,"introjs-".concat(D));var O=b.width/2-y.width/2;switch(D){case"top-right-aligned":f.className="introjs-arrow bottom-right";var Z=0;Qe(b,Z,y,h),h.style.bottom="".concat(b.height+20,"px");break;case"top-middle-aligned":f.className="introjs-arrow bottom-middle",_&&(O+=5),Qe(b,O,y,h)&&(h.style.right="",ui(b,O,y,T,h)),h.style.bottom="".concat(b.height+20,"px");break;case"top-left-aligned":case"top":f.className="introjs-arrow bottom",ui(b,_?0:15,y,T,h),h.style.bottom="".concat(b.height+20,"px");break;case"right":h.style.left="".concat(b.width+20,"px"),b.top+y.height>T.height?(f.className="introjs-arrow left-bottom",h.style.top="-".concat(y.height-b.height-20,"px")):f.className="introjs-arrow left";break;case"left":_||!0!==l._options.showStepNumbers||(h.style.top="15px"),b.top+y.height>T.height?(h.style.top="-".concat(y.height-b.height-20,"px"),f.className="introjs-arrow right-bottom"):f.className="introjs-arrow right",h.style.right="".concat(b.width+20,"px");break;case"floating":f.style.display="none",h.style.left="50%",h.style.top="50%",h.style.marginLeft="-".concat(y.width/2,"px"),h.style.marginTop="-".concat(y.height/2,"px");break;case"bottom-right-aligned":f.className="introjs-arrow top-right",Qe(b,Z=0,y,h),h.style.top="".concat(b.height+20,"px");break;case"bottom-middle-aligned":f.className="introjs-arrow top-middle",_&&(O+=5),Qe(b,O,y,h)&&(h.style.right="",ui(b,O,y,T,h)),h.style.top="".concat(b.height+20,"px");break;default:f.className="introjs-arrow top",ui(b,0,y,T,h),h.style.top="".concat(b.height+20,"px")}}}function nn(){for(var l=0,u=Array.from(document.querySelectorAll(".introjs-showElement"));l<u.length;l++)Ii(u[l],/introjs-[a-zA-Z]+/g)}function ct(l,u){var h=document.createElement(l);u=u||{};var f=/^(?:role|data-|aria-)/;for(var _ in u){var y=u[_];"style"===_&&"function"!=typeof y?ge(h,y):"string"==typeof y&&_.match(f)?h.setAttribute(_,y):h[_]=y}return h}function on(l,u,h){if(void 0===h&&(h=!1),h){var f=u.style.opacity||"1";ge(u,{opacity:"0"}),window.setTimeout(function(){ge(u,{opacity:f})},10)}l.appendChild(u)}function sn(l,u){return(l+1)/u*100}function rn(l,u){var h=ct("div",{className:"introjs-bullets"});!1===l._options.showBullets&&(h.style.display="none");var f=ct("ul");f.setAttribute("role","tablist");for(var _=function(){var j=this.getAttribute("data-step-number");null!=j&&l.goToStep(parseInt(j,10))},y=0;y<l._introItems.length;y++){var b=l._introItems[y].step,T=ct("li"),D=ct("a");T.setAttribute("role","presentation"),D.setAttribute("role","tab"),D.onclick=_,y===u.step-1&&(D.className="active"),qe(D),D.innerHTML="&nbsp;",D.setAttribute("data-step-number",b.toString()),T.appendChild(D),f.appendChild(T)}return h.appendChild(f),h}function Kn(l,u,h){var f=l.querySelector(".introjs-progress .introjs-progressbar");if(f){var _=sn(u,h);f.style.cssText="width:".concat(_,"%;"),f.setAttribute("aria-valuenow",_.toString())}}function Xn(l,u){return mt(this,void 0,void 0,function(){var h,f,_,y,b,T,D,j,O,Z,R,Y,vt,ft,_t,Gt,Jt,Wt,wt,Nt,we,ce,he,de,Le=this;return yt(this,function(Ce){switch(Ce.label){case 0:return Ct(l._introChangeCallback)?[4,l._introChangeCallback.call(l,u.element)]:[3,2];case 1:Ce.sent(),Ce.label=2;case 2:return h=document.querySelector(".introjs-helperLayer"),f=document.querySelector(".introjs-tooltipReferenceLayer"),_="introjs-helperLayer","string"==typeof u.highlightClass&&(_+=" ".concat(u.highlightClass)),"string"==typeof l._options.highlightClass&&(_+=" ".concat(l._options.highlightClass)),null!==h&&null!==f?(D=f.querySelector(".introjs-helperNumberLayer"),j=f.querySelector(".introjs-tooltiptext"),O=f.querySelector(".introjs-tooltip-title"),Z=f.querySelector(".introjs-arrow"),R=f.querySelector(".introjs-tooltip"),T=f.querySelector(".introjs-skipbutton"),b=f.querySelector(".introjs-prevbutton"),y=f.querySelector(".introjs-nextbutton"),h.className=_,R.style.opacity="0",R.style.display="none",$n(l._options.scrollToElement,u.element),ve(l,u,h),ve(l,u,f),nn(),l._lastShowElementTimer&&window.clearTimeout(l._lastShowElementTimer),l._lastShowElementTimer=window.setTimeout(function(){null!==D&&(D.innerHTML="".concat(u.step," ").concat(l._options.stepNumbersOfLabel," ").concat(l._introItems.length)),j.innerHTML=u.intro||"",O.innerHTML=u.title||"",R.style.display="block",ye(l,u,R,Z),function(rt,Ot,Dt){if(rt){var Qt=Ot.querySelector(".introjs-bullets li > a.active"),fi=Ot.querySelector('.introjs-bullets li > a[data-step-number="'.concat(Dt.step,'"]'));Qt&&fi&&(Qt.className="",fi.className="active")}}(l._options.showBullets,f,u),Kn(f,l._currentStep,l._introItems.length),R.style.opacity="1",(null!=y&&/introjs-donebutton/gi.test(y.className)||null!=y)&&y.focus(),Mi(l._options.scrollToElement,u.scrollTo,l._options.scrollPadding,u.element,j)},350)):(Y=ct("div",{className:_}),vt=ct("div",{className:"introjs-tooltipReferenceLayer"}),ft=ct("div",{className:"introjs-arrow"}),_t=ct("div",{className:"introjs-tooltip"}),Gt=ct("div",{className:"introjs-tooltiptext"}),Jt=ct("div",{className:"introjs-tooltip-header"}),Wt=ct("h1",{className:"introjs-tooltip-title"}),wt=ct("div"),ge(Y,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(l._options.overlayOpacity.toString(),") 0 0 0 5000px")}),$n(l._options.scrollToElement,u.element),ve(l,u,Y),ve(l,u,vt),on(l._targetElement,Y,!0),on(l._targetElement,vt),Gt.innerHTML=u.intro,Wt.innerHTML=u.title,wt.className="introjs-tooltipbuttons",!1===l._options.showButtons&&(wt.style.display="none"),Jt.appendChild(Wt),_t.appendChild(Jt),_t.appendChild(Gt),l._options.dontShowAgain&&(Nt=ct("div",{className:"introjs-dontShowAgain"}),(we=ct("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(rt){l.setDontShowAgain(rt.target.checked)},(ce=ct("label",{htmlFor:"introjs-dontShowAgain"})).innerText=l._options.dontShowAgainLabel,Nt.appendChild(we),Nt.appendChild(ce),_t.appendChild(Nt)),_t.appendChild(rn(l,u)),_t.appendChild(function(rt){var Ot=ct("div");Ot.className="introjs-progress",!1===rt._options.showProgress&&(Ot.style.display="none");var Dt=ct("div",{className:"introjs-progressbar"});rt._options.progressBarAdditionalClass&&(Dt.className+=" "+rt._options.progressBarAdditionalClass);var Qt=sn(rt._currentStep,rt._introItems.length);return Dt.setAttribute("role","progress"),Dt.setAttribute("aria-valuemin","0"),Dt.setAttribute("aria-valuemax","100"),Dt.setAttribute("aria-valuenow",Qt.toString()),Dt.style.cssText="width:".concat(Qt,"%;"),Ot.appendChild(Dt),Ot}(l)),he=ct("div"),!0===l._options.showStepNumbers&&(he.className="introjs-helperNumberLayer",he.innerHTML="".concat(u.step," ").concat(l._options.stepNumbersOfLabel," ").concat(l._introItems.length),_t.appendChild(he)),_t.appendChild(ft),vt.appendChild(_t),(y=ct("a")).onclick=function(){return mt(Le,void 0,void 0,function(){return yt(this,function(rt){switch(rt.label){case 0:return l._introItems.length-1===l._currentStep?[3,2]:[4,Ve(l)];case 1:return rt.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(y.className)?Ct(l._introCompleteCallback)?[4,l._introCompleteCallback.call(l,l._currentStep,"done")]:[3,4]:[3,6];case 3:rt.sent(),rt.label=4;case 4:return[4,Ue(l,l._targetElement)];case 5:rt.sent(),rt.label=6;case 6:return[2]}})})},qe(y),y.innerHTML=l._options.nextLabel,(b=ct("a")).onclick=function(){return mt(Le,void 0,void 0,function(){return yt(this,function(rt){switch(rt.label){case 0:return l._currentStep>0?[4,Li(l)]:[3,2];case 1:rt.sent(),rt.label=2;case 2:return[2]}})})},qe(b),b.innerHTML=l._options.prevLabel,qe(T=ct("a",{className:"introjs-skipbutton"})),T.innerHTML=l._options.skipLabel,T.onclick=function(){return mt(Le,void 0,void 0,function(){return yt(this,function(rt){switch(rt.label){case 0:return l._introItems.length-1===l._currentStep&&Ct(l._introCompleteCallback)?[4,l._introCompleteCallback.call(l,l._currentStep,"skip")]:[3,2];case 1:rt.sent(),rt.label=2;case 2:return Ct(l._introSkipCallback)?[4,l._introSkipCallback.call(l,l._currentStep)]:[3,4];case 3:rt.sent(),rt.label=4;case 4:return[4,Ue(l,l._targetElement)];case 5:return rt.sent(),[2]}})})},Jt.appendChild(T),l._introItems.length>1&&wt.appendChild(b),wt.appendChild(y),_t.appendChild(wt),ye(l,u,_t,ft),Mi(l._options.scrollToElement,u.scrollTo,l._options.scrollPadding,u.element,_t)),(de=l._targetElement.querySelector(".introjs-disableInteraction"))&&de.parentNode&&de.parentNode.removeChild(de),u.disableInteraction&&(rt=l,Ot=u,null===(Dt=document.querySelector(".introjs-disableInteraction"))&&(Dt=ct("div",{className:"introjs-disableInteraction"}),rt._targetElement.appendChild(Dt)),ve(rt,Ot,Dt)),0===l._currentStep&&l._introItems.length>1?(null!=y&&(y.className="".concat(l._options.buttonClass," introjs-nextbutton"),y.innerHTML=l._options.nextLabel),!0===l._options.hidePrev?(null!=b&&(b.className="".concat(l._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=y&&ne(y,"introjs-fullbutton")):null!=b&&(b.className="".concat(l._options.buttonClass," introjs-prevbutton introjs-disabled"))):l._introItems.length-1===l._currentStep||1===l._introItems.length?(null!=b&&(b.className="".concat(l._options.buttonClass," introjs-prevbutton")),!0===l._options.hideNext?(null!=y&&(y.className="".concat(l._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=b&&ne(b,"introjs-fullbutton")):null!=y&&(!0===l._options.nextToDone?(y.innerHTML=l._options.doneLabel,ne(y,"".concat(l._options.buttonClass," introjs-nextbutton introjs-donebutton"))):y.className="".concat(l._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=b&&(b.className="".concat(l._options.buttonClass," introjs-prevbutton")),null!=y&&(y.className="".concat(l._options.buttonClass," introjs-nextbutton"),y.innerHTML=l._options.nextLabel)),b?.setAttribute("role","button"),y?.setAttribute("role","button"),T?.setAttribute("role","button"),y?.focus(),function(rt){ne(rt,"introjs-showElement");var Ot=Si(rt,"position");"absolute"!==Ot&&"relative"!==Ot&&"sticky"!==Ot&&"fixed"!==Ot&&ne(rt,"introjs-relativePosition")}(u.element),Ct(l._introAfterChangeCallback)?[4,l._introAfterChangeCallback.call(l,u.element)]:[3,4];case 3:Ce.sent(),Ce.label=4;case 4:return[2]}var rt,Ot,Dt})})}function Wo(l,u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return l._currentStep=u-2,void 0===l._introItems?[3,2]:[4,Ve(l)];case 1:h.sent(),h.label=2;case 2:return[2]}})})}function Yo(l,u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return l._currentStepNumber=u,void 0===l._introItems?[3,2]:[4,Ve(l)];case 1:h.sent(),h.label=2;case 2:return[2]}})})}function Ve(l){return mt(this,void 0,void 0,function(){var u,h,f;return yt(this,function(_){switch(_.label){case 0:if(l._direction="forward",void 0!==l._currentStepNumber)for(u=0;u<l._introItems.length;u++)l._introItems[u].step===l._currentStepNumber&&(l._currentStep=u-1,l._currentStepNumber=void 0);return-1===l._currentStep?l._currentStep=0:++l._currentStep,h=l._introItems[l._currentStep],f=!0,Ct(l._introBeforeChangeCallback)?[4,l._introBeforeChangeCallback.call(l,h&&h.element,l._currentStep,l._direction)]:[3,2];case 1:f=_.sent(),_.label=2;case 2:return!1===f?(--l._currentStep,[2,!1]):l._introItems.length<=l._currentStep?Ct(l._introCompleteCallback)?[4,l._introCompleteCallback.call(l,l._currentStep,"end")]:[3,4]:[3,6];case 3:_.sent(),_.label=4;case 4:return[4,Ue(l,l._targetElement)];case 5:return _.sent(),[2,!1];case 6:return[4,Xn(l,h)];case 7:return _.sent(),[2,!0]}})})}function Li(l){return mt(this,void 0,void 0,function(){var u,h;return yt(this,function(f){switch(f.label){case 0:return l._direction="backward",l._currentStep<=0?[2,!1]:(--l._currentStep,u=l._introItems[l._currentStep],h=!0,Ct(l._introBeforeChangeCallback)?[4,l._introBeforeChangeCallback.call(l,u&&u.element,l._currentStep,l._direction)]:[3,2]);case 1:h=f.sent(),f.label=2;case 2:return!1===h?(++l._currentStep,[2,!1]):[4,Xn(l,u)];case 3:return f.sent(),[2,!0]}})})}function Oi(l,u){return mt(this,void 0,void 0,function(){var h,f;return yt(this,function(_){switch(_.label){case 0:return null===(h=void 0===u.code?u.which:u.code)&&(h=null===u.charCode?u.keyCode:u.charCode),"Escape"!==h&&27!==h||!0!==l._options.exitOnEsc?[3,2]:[4,Ue(l,l._targetElement)];case 1:return _.sent(),[3,16];case 2:return"ArrowLeft"!==h&&37!==h?[3,4]:[4,Li(l)];case 3:return _.sent(),[3,16];case 4:return"ArrowRight"!==h&&39!==h?[3,6]:[4,Ve(l)];case 5:return _.sent(),[3,16];case 6:return"Enter"!==h&&"NumpadEnter"!==h&&13!==h?[3,16]:(f=u.target||u.srcElement)&&f.className.match("introjs-prevbutton")?[4,Li(l)]:[3,8];case 7:return _.sent(),[3,15];case 8:return f&&f.className.match("introjs-skipbutton")?l._introItems.length-1===l._currentStep&&Ct(l._introCompleteCallback)?[4,l._introCompleteCallback.call(l,l._currentStep,"skip")]:[3,10]:[3,12];case 9:_.sent(),_.label=10;case 10:return[4,Ue(l,l._targetElement)];case 11:return _.sent(),[3,15];case 12:return f&&f.getAttribute("data-step-number")?(f.click(),[3,15]):[3,13];case 13:return[4,Ve(l)];case 14:_.sent(),_.label=15;case 15:u.preventDefault?u.preventDefault():u.returnValue=!1,_.label=16;case 16:return[2]}})})}function an(l){if(null===l||"object"!==_e(l)||"nodeType"in l)return l;var u={};for(var h in l)u[h]="jQuery"in window&&l[h]instanceof window.jQuery?l[h]:an(l[h]);return u}function ti(l){var u=document.querySelector(".introjs-hints");return u?Array.from(u.querySelectorAll(l)):[]}function ln(l,u){return mt(this,void 0,void 0,function(){var h;return yt(this,function(f){switch(f.label){case 0:return h=ti('.introjs-hint[data-step="'.concat(u,'"]'))[0],ei(),h&&ne(h,"introjs-hidehint"),Ct(l._hintCloseCallback)?[4,l._hintCloseCallback.call(l,u)]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})}function $o(l){return mt(this,void 0,void 0,function(){var u,h,f,y;return yt(this,function(b){switch(b.label){case 0:u=ti(".introjs-hint"),h=0,f=u,b.label=1;case 1:return h<f.length?(y=f[h].getAttribute("data-step"))?[4,ln(l,parseInt(y,10))]:[3,3]:[3,4];case 2:b.sent(),b.label=3;case 3:return h++,[3,1];case 4:return[2]}})})}function le(l){return mt(this,void 0,void 0,function(){var u,h,f,y;return yt(this,function(b){switch(b.label){case 0:if(!(u=ti(".introjs-hint"))||!u.length)return[3,1];for(h=0,f=u;h<f.length;h++)(y=f[h].getAttribute("data-step"))&&G(parseInt(y,10));return[3,3];case 1:return[4,un(l,l._targetElement)];case 2:b.sent(),b.label=3;case 3:return[2]}})})}function G(l){var u=ti('.introjs-hint[data-step="'.concat(l,'"]'))[0];u&&Ii(u,/introjs-hidehint/g)}function cn(l){var u=ti('.introjs-hint[data-step="'.concat(l,'"]'))[0];u&&u.parentNode&&u.parentNode.removeChild(u)}function qn(l){return mt(this,void 0,void 0,function(){var u,h,f,_,y,b,T;return yt(this,function(D){switch(D.label){case 0:for(null===(u=document.querySelector(".introjs-hints"))&&(u=ct("div",{className:"introjs-hints"})),h=function(R){return function(Y){var vt=Y||window.event;vt&&vt.stopPropagation&&vt.stopPropagation(),vt&&null!==vt.cancelBubble&&(vt.cancelBubble=!0),dn(l,R)}},f=0;f<l._hintItems.length;f++){if(_=l._hintItems[f],document.querySelector('.introjs-hint[data-step="'.concat(f,'"]')))return[2];qe(y=ct("a",{className:"introjs-hint"})),y.onclick=h(f),_.hintAnimation||ne(y,"introjs-hint-no-anim"),di(_.element)&&ne(y,"introjs-fixedhint"),b=ct("div",{className:"introjs-hint-dot"}),T=ct("div",{className:"introjs-hint-pulse"}),y.appendChild(b),y.appendChild(T),y.setAttribute("data-step",f.toString()),_.hintTargetElement=_.element,_.element=y,hn(_.hintPosition,y,_.hintTargetElement),u.appendChild(y)}return document.body.appendChild(u),Ct(l._hintsAddedCallback)?[4,l._hintsAddedCallback.call(l)]:[3,2];case 1:D.sent(),D.label=2;case 2:return l._options.hintAutoRefreshInterval>=0&&(l._hintsAutoRefreshFunction=(j=function(){return be(l)},O=l._options.hintAutoRefreshInterval,function(){for(var R=[],Y=0;Y<arguments.length;Y++)R[Y]=arguments[Y];window.clearTimeout(Z),Z=window.setTimeout(function(){j()},O)}),ie.on(window,"scroll",l._hintsAutoRefreshFunction,l,!0)),[2]}var j,O,Z})})}function hn(l,u,h){if(void 0!==h){var f=Je(h),_=20,y=20;switch(l){default:case"top-left":u.style.left="".concat(f.left,"px"),u.style.top="".concat(f.top,"px");break;case"top-right":u.style.left="".concat(f.left+f.width-_,"px"),u.style.top="".concat(f.top,"px");break;case"bottom-left":u.style.left="".concat(f.left,"px"),u.style.top="".concat(f.top+f.height-y,"px");break;case"bottom-right":u.style.left="".concat(f.left+f.width-_,"px"),u.style.top="".concat(f.top+f.height-y,"px");break;case"middle-left":u.style.left="".concat(f.left,"px"),u.style.top="".concat(f.top+(f.height-y)/2,"px");break;case"middle-right":u.style.left="".concat(f.left+f.width-_,"px"),u.style.top="".concat(f.top+(f.height-y)/2,"px");break;case"middle-middle":u.style.left="".concat(f.left+(f.width-_)/2,"px"),u.style.top="".concat(f.top+(f.height-y)/2,"px");break;case"bottom-middle":u.style.left="".concat(f.left+(f.width-_)/2,"px"),u.style.top="".concat(f.top+f.height-y,"px");break;case"top-middle":u.style.left="".concat(f.left+(f.width-_)/2,"px"),u.style.top="".concat(f.top,"px")}}}function dn(l,u){return mt(this,void 0,void 0,function(){var h,f,_,y,b,T,D,j,O,Z,R;return yt(this,function(Y){switch(Y.label){case 0:return h=document.querySelector('.introjs-hint[data-step="'.concat(u,'"]')),f=l._hintItems[u],Ct(l._hintClickCallback)?[4,l._hintClickCallback.call(l,h,f,u)]:[3,2];case 1:Y.sent(),Y.label=2;case 2:return void 0!==(_=ei())&&parseInt(_,10)===u||(y=ct("div",{className:"introjs-tooltip"}),b=ct("div"),T=ct("div"),D=ct("div"),y.onclick=function(vt){vt.stopPropagation?vt.stopPropagation():vt.cancelBubble=!0},b.className="introjs-tooltiptext",(j=ct("p")).innerHTML=f.hint||"",b.appendChild(j),l._options.hintShowButton&&((O=ct("a")).className=l._options.buttonClass,O.setAttribute("role","button"),O.innerHTML=l._options.hintButtonLabel,O.onclick=function(){return ln(l,u)},b.appendChild(O)),T.className="introjs-arrow",y.appendChild(T),y.appendChild(b),Z=h.getAttribute("data-step")||"",l._currentStep=parseInt(Z,10),R=l._hintItems[l._currentStep],D.className="introjs-tooltipReferenceLayer introjs-hintReference",D.setAttribute("data-step",Z),ve(l,R,D),D.appendChild(y),document.body.appendChild(D),ye(l,R,y,T,!0)),[2]}})})}function ei(){var l=document.querySelector(".introjs-hintReference");if(l&&l.parentNode){var u=l.getAttribute("data-step");return u?(l.parentNode.removeChild(l),u):void 0}}function un(l,u){return mt(this,void 0,void 0,function(){var h,f,y,b,T,D,j,O,Z;return yt(this,function(R){switch(R.label){case 0:if(l._hintItems=[],l._options.hints&&l._options.hints.length>0)for(h=0,f=l._options.hints;h<f.length;h++)"string"==typeof(y=an(f[h])).element&&(y.element=document.querySelector(y.element)),y.hintPosition=y.hintPosition||l._options.hintPosition,y.hintAnimation=y.hintAnimation||l._options.hintAnimation,null!==y.element&&l._hintItems.push(y);else{if(!(b=Array.from(u.querySelectorAll("*[data-hint]")))||!b.length)return[2,!1];for(T=0,D=b;T<D.length;T++)O=(j=D[T]).getAttribute("data-hint-animation"),Z=l._options.hintAnimation,O&&(Z="true"===O),l._hintItems.push({element:j,hint:j.getAttribute("data-hint")||"",hintPosition:j.getAttribute("data-hint-position")||l._options.hintPosition,hintAnimation:Z,tooltipClass:j.getAttribute("data-tooltip-class")||void 0,position:j.getAttribute("data-position")||l._options.tooltipPosition})}return[4,qn(l)];case 1:return R.sent(),ie.on(document,"click",ei,l,!1),ie.on(window,"resize",be,l,!0),[2,!0]}})})}function be(l){for(var u=0,h=l._hintItems;u<h.length;u++){var f=h[u];hn(f.hintPosition,f.element,f.hintTargetElement)}}function pn(l,u){var h=Array.from(u.querySelectorAll("*[data-intro]")),f=[];if(l._options.steps&&l._options.steps.length)for(var _=0,y=l._options.steps;_<y.length;_++){var b=an(R=y[_]);if(b.step=f.length+1,b.title=b.title||"","string"==typeof b.element&&(b.element=document.querySelector(b.element)||void 0),null==b.element){var T=document.querySelector(".introjsFloatingElement");null===T&&(T=ct("div",{className:"introjsFloatingElement"}),document.body.appendChild(T)),b.element=T,b.position="floating"}b.position=b.position||l._options.tooltipPosition,b.scrollTo=b.scrollTo||l._options.scrollTo,void 0===b.disableInteraction&&(b.disableInteraction=l._options.disableInteraction),null!==b.element&&f.push(b)}else{var D=void 0;if(h.length<1)return[];for(var j=0,O=h;j<O.length;j++){var Z=O[j];if((!l._options.group||Z.getAttribute("data-intro-group")===l._options.group)&&"none"!==Z.style.display){var R=parseInt(Z.getAttribute("data-step")||"",10);D=l._options.disableInteraction,Z.hasAttribute("data-disable-interaction")&&(D=!!Z.getAttribute("data-disable-interaction")),R>0&&(f[R-1]={step:R,element:Z,title:Z.getAttribute("data-title")||"",intro:Z.getAttribute("data-intro")||"",tooltipClass:Z.getAttribute("data-tooltip-class")||void 0,highlightClass:Z.getAttribute("data-highlight-class")||void 0,position:Z.getAttribute("data-position")||l._options.tooltipPosition,scrollTo:Z.getAttribute("data-scroll-to")||l._options.scrollTo,disableInteraction:D})}}for(var Y=0,vt=0,ft=h;vt<ft.length;vt++)if(Z=ft[vt],(!l._options.group||Z.getAttribute("data-intro-group")===l._options.group)&&null===Z.getAttribute("data-step")){for(;void 0!==f[Y];)Y++;D=Z.hasAttribute("data-disable-interaction")?!!Z.getAttribute("data-disable-interaction"):l._options.disableInteraction,f[Y]={element:Z,title:Z.getAttribute("data-title")||"",intro:Z.getAttribute("data-intro")||"",step:Y+1,tooltipClass:Z.getAttribute("data-tooltip-class")||void 0,highlightClass:Z.getAttribute("data-highlight-class")||void 0,position:Z.getAttribute("data-position")||l._options.tooltipPosition,scrollTo:Z.getAttribute("data-scroll-to")||l._options.scrollTo,disableInteraction:D}}}for(var _t=[],Gt=0;Gt<f.length;Gt++)f[Gt]&&_t.push(f[Gt]);return(f=_t).sort(function(Jt,Wt){return Jt.step-Wt.step}),f}function Jn(l,u){var h=l._currentStep;if(null!=h&&-1!=h){var f=l._introItems[h],_=document.querySelector(".introjs-tooltipReferenceLayer"),y=document.querySelector(".introjs-helperLayer"),b=document.querySelector(".introjs-disableInteraction");ve(l,f,y),ve(l,f,_),ve(l,f,b),u&&(l._introItems=pn(l,l._targetElement),function(j,O){if(j._options.showBullets){var Z=document.querySelector(".introjs-bullets");Z&&Z.parentNode&&Z.parentNode.replaceChild(rn(j,O),Z)}}(l,f),Kn(_,h,l._introItems.length));var T=document.querySelector(".introjs-arrow"),D=document.querySelector(".introjs-tooltip");return D&&T&&ye(l,l._introItems[h],D,T),be(l),l}}function Qn(l){Jn(l)}function pi(l,u){if(void 0===u&&(u=!1),l&&l.parentElement){var h=l.parentElement;u?(ge(l,{opacity:"0"}),window.setTimeout(function(){try{h.removeChild(l)}catch{}},500)):h.removeChild(l)}}function Ue(l,u,h){return void 0===h&&(h=!1),mt(this,void 0,void 0,function(){var f,_,y,b;return yt(this,function(T){switch(T.label){case 0:return f=!0,void 0===l._introBeforeExitCallback?[3,2]:[4,l._introBeforeExitCallback.call(l,u)];case 1:f=T.sent(),T.label=2;case 2:if(!h&&!1===f)return[2];if((_=Array.from(u.querySelectorAll(".introjs-overlay")))&&_.length)for(y=0,b=_;y<b.length;y++)pi(b[y]);return pi(u.querySelector(".introjs-helperLayer"),!0),pi(u.querySelector(".introjs-tooltipReferenceLayer")),pi(u.querySelector(".introjs-disableInteraction")),pi(document.querySelector(".introjsFloatingElement")),nn(),ie.off(window,"keydown",Oi,l,!0),ie.off(window,"resize",Qn,l,!0),Ct(l._introExitCallback)?[4,l._introExitCallback.call(l)]:[3,4];case 3:T.sent(),T.label=4;case 4:return l._currentStep=-1,[2]}})})}function to(l,u){return mt(this,void 0,void 0,function(){var h;return yt(this,function(f){switch(f.label){case 0:return l.isActive()?Ct(l._introStartCallback)?[4,l._introStartCallback.call(l,u)]:[3,2]:[2,!1];case 1:f.sent(),f.label=2;case 2:return 0===(h=pn(l,u)).length?[2,!1]:(l._introItems=h,function(_,y){var b=this,T=ct("div",{className:"introjs-overlay"});ge(T,{top:0,bottom:0,left:0,right:0,position:"fixed"}),y.appendChild(T),!0===_._options.exitOnOverlayClick&&(ge(T,{cursor:"pointer"}),T.onclick=function(){return mt(b,void 0,void 0,function(){return yt(this,function(D){switch(D.label){case 0:return[4,Ue(_,y)];case 1:return D.sent(),[2]}})})})}(l,u),[4,Ve(l)]);case 3:f.sent(),l._options.keyboardNavigation&&ie.on(window,"keydown",Oi,l,!0),ie.on(window,"resize",Qn,l,!0),f.label=4;case 4:return[2,!1]}})})}function eo(l,u,h){return l[u]=h,l}var ii=function(){function l(u){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=u,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return l.prototype.isActive=function(){return(!this._options.dontShowAgain||""===(u=Ji(this._options.dontShowAgainCookie))||"true"!==u)&&this._options.isActive;var u},l.prototype.clone=function(){return new l(this._targetElement)},l.prototype.setOption=function(u,h){return this._options=eo(this._options,u,h),this},l.prototype.setOptions=function(u){return this._options=function(h,f){for(var _=0,y=Object.entries(f);_<y.length;_++){var b=y[_];h=eo(h,b[0],b[1])}return h}(this._options,u),this},l.prototype.start=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,to(this,this._targetElement)];case 1:return u.sent(),[2,this]}})})},l.prototype.goToStep=function(u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return[4,Wo(this,u)];case 1:return h.sent(),[2,this]}})})},l.prototype.addStep=function(u){return this._options.steps||(this._options.steps=[]),this._options.steps.push(u),this},l.prototype.addSteps=function(u){if(!u.length)return this;for(var h=0;h<u.length;h++)this.addStep(u[h]);return this},l.prototype.goToStepNumber=function(u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return[4,Yo(this,u)];case 1:return h.sent(),[2,this]}})})},l.prototype.nextStep=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,Ve(this)];case 1:return u.sent(),[2,this]}})})},l.prototype.previousStep=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,Li(this)];case 1:return u.sent(),[2,this]}})})},l.prototype.currentStep=function(){return this._currentStep},l.prototype.exit=function(u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return[4,Ue(this,this._targetElement,u)];case 1:return h.sent(),[2,this]}})})},l.prototype.refresh=function(u){return Jn(this,u),this},l.prototype.setDontShowAgain=function(u){return function Qi(l,u){u?qi(l._options.dontShowAgainCookie,"true",l._options.dontShowAgainCookieDays):qi(l._options.dontShowAgainCookie,"",-1)}(this,u),this},l.prototype.onbeforechange=function(u){if(!Ct(u))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=u,this},l.prototype.onchange=function(u){if(!Ct(u))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=u,this},l.prototype.onafterchange=function(u){if(!Ct(u))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=u,this},l.prototype.oncomplete=function(u){if(!Ct(u))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=u,this},l.prototype.onhintsadded=function(u){if(!Ct(u))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=u,this},l.prototype.onhintclick=function(u){if(!Ct(u))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=u,this},l.prototype.onhintclose=function(u){if(!Ct(u))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=u,this},l.prototype.onstart=function(u){if(!Ct(u))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=u,this},l.prototype.onexit=function(u){if(!Ct(u))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=u,this},l.prototype.onskip=function(u){if(!Ct(u))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=u,this},l.prototype.onbeforeexit=function(u){if(!Ct(u))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=u,this},l.prototype.addHints=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,un(this,this._targetElement)];case 1:return u.sent(),[2,this]}})})},l.prototype.hideHint=function(u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return[4,ln(this,u)];case 1:return h.sent(),[2,this]}})})},l.prototype.hideHints=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,$o(this)];case 1:return u.sent(),[2,this]}})})},l.prototype.showHint=function(u){return G(u),this},l.prototype.showHints=function(){return mt(this,void 0,void 0,function(){return yt(this,function(u){switch(u.label){case 0:return[4,le(this)];case 1:return u.sent(),[2,this]}})})},l.prototype.removeHints=function(){return function(u){for(var h=0,f=ti(".introjs-hint");h<f.length;h++){var _=f[h].getAttribute("data-step");_&&cn(parseInt(_,10))}ie.off(document,"click",ei,u,!1),ie.off(window,"resize",be,u,!0),u._hintsAutoRefreshFunction&&ie.off(window,"scroll",u._hintsAutoRefreshFunction,u,!0)}(this),this},l.prototype.removeHint=function(u){return cn(u),this},l.prototype.showHintDialog=function(u){return mt(this,void 0,void 0,function(){return yt(this,function(h){switch(h.label){case 0:return[4,dn(this,u)];case 1:return h.sent(),[2,this]}})})},l}(),fn=function l(u){var h;if("object"===_e(u))h=new ii(u);else if("string"==typeof u){var f=document.querySelector(u);if(!f)throw new Error("There is no element with given selector.");h=new ii(f)}else h=new ii(document.body);return l.instances[tn(h,"introjs-instance")]=h,h};fn.version="7.2.0",fn.instances={};var io=C(8352);const Ko=["map"];let Xo=(()=>{class l{initMap(){this.map=x.map("map",{center:[11.232084301848886,124.7057818628441],zoom:12,zoomControl:!1,attributionControl:!1}),this.map.addControl(new x.Control.Fullscreen({content:'<i class="fa fa-expand"></i>',title:{false:"View Fullscreen",true:"Exit Fullscreen"},contentCancel:'<i class="fa fa-compress"></i>'}));const f=new x.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:6,maxZoom:18});new x.Control.MiniMap(f,{position:"bottomleft",toggleDisplay:!0,minimized:!0,hideText:!0,showText:!0}).addTo(this.map),this.loadGeoJsonLayer("barangay","./assets/data/carigara/barangay.geojson"),this.loadGeoJsonLayer("water_river","./assets/data/water_river.geojson"),this.loadGeoJsonLayer("buildings","./assets/data/buildings.geojson"),this.loadGeoJsonLayer("landcover","./assets/data/landcover.geojson"),this.loadGeoJsonLayer("roads","./assets/data/roads.geojson"),this.loadGeoJsonLayer("forest","./assets/data/forest.geojson"),this.loadGeoJsonLayer("landslide","./assets/data/hazard_landslide.geojson"),this.loadGeoJsonLayer("landslide_low","./assets/data/landslide/hazard_landslide_low.geojson"),this.loadGeoJsonLayer("landslide_moderate","./assets/data/landslide/hazard_landslide_moderate.geojson"),this.loadGeoJsonLayer("landslide_high","./assets/data/landslide/hazard_landslide_high.geojson"),this.loadGeoJsonLayer("flood_high","./assets/data/flood/hazard_flood_high.geojson"),this.loadGeoJsonLayer("flood_moderate","./assets/data/flood/hazard_flood_moderate.geojson"),this.loadGeoJsonLayer("flood_low","./assets/data/flood/hazard_flood_low.geojson"),this.loadGeoJsonLayer("flood_landslide","./assets/data/hazard_flood_landslide.geojson"),x.control.scale({imperial:!0}).addTo(this.map),this.map.on("dblclick",y=>this.onMapDoubleClick(y))}fetchGeoJson(h){return fetch(h).then(f=>{if(!f.ok)throw new Error("Network response was not ok");return f.json()}).catch(f=>{throw console.error(`Error fetching the GeoJSON data from ${h}:`,f),f})}loadGeoJsonLayer(h,f){this.fetchGeoJson(f).then(_=>{const y=x.geoJson(_,{style:b=>this.style(b,h),onEachFeature:(b,T)=>this.onEachFeature(b,T,h)});this.layers[h]=y,this.layerVisibility[h]&&y.addTo(this.map)}).catch(_=>{console.error(`Failed to load GeoJSON from ${f}:`,_)})}toggleLayer(h){const f=this.layers[h];this.layerVisibility[h]=!this.layerVisibility[h],"landslide_high"===h||"landslide_moderate"===h||"landslide_low"===h||"flood_high"===h||"flood_moderate"===h||"flood_low"===h?this.map.hasLayer(f)||(this.map.addLayer(f),this.details.addTo(this.map),this.legend.addTo(this.map)):this.map.hasLayer(f)?(this.map.removeLayer(f),this.map.removeControl(this.legend)):(this.map.addLayer(f),this.info.addTo(this.map))}markerControl(){const h=x.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),f=x.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:18,minZoom:3,subdomains:["mt0","mt1","mt2","mt3"]}),_=x.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),y=x.layerGroup([]),V=x.divIcon({html:`<div class="pulse">\n            <img src="./assets/images/guard.png" style="width: 25px; height: 41px; position: absolute; top: calc(50% - 20.5px); left: calc(50% - 12.5px);"/>\n            <span style="\n        width: 10px;\n        height: 10px;\n        background: ${"green"};\n        color: green;\n        box-shadow: 0 0 0 green;\n      " class="pulse"/></span>\n            </div>`,className:""}),Be=x.marker([11.2375868,124.7133698],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/tigbaoES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Tigbao Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),si=x.marker([11.236402318756134,124.72036848648168],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),pe=x.marker([11.21849108135362,124.71573441769323],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/camansiES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Camansi Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),ri=x.marker([11.2331392,124.7056969],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/tinagubanES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Tinaguban Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),An=x.marker([11.2991697,124.6943891],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/jugabanNHS.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Jugaban National High School</a></div></div>').on("click",this.clickZoom.bind(this)),zi=x.marker([11.2691869,124.7259261],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/carigaraEC.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Evacuation Center 1 (Baybay)</a></div></div>').on("click",this.clickZoom.bind(this)),Zi=x.marker([11.301429126326795,124.69863695804366],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>West Guindapunan Chapell</a></div></div>').on("click",this.clickZoom.bind(this)),Hi=x.marker([11.302470879288492,124.70122314248277],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/guindapunanES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Guindapunan Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),We=x.marker([11.3033755,124.7075573],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/cnvs.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Carigara National Professional School</a></div></div>').on("click",this.clickZoom.bind(this)),fe=x.marker([11.3032152,124.7066521],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/evsucc.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Eastern Visayas State University</a></div></div>').on("click",this.clickZoom.bind(this)),ai=x.marker([11.298482428935586,124.71232105275067],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Parena Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Vi=x.marker([11.2992552,124.6869251],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/sawangchapel.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Sawang Catholic Chapel</a></div></div>').on("click",this.clickZoom.bind(this)),Co=x.marker([11.3001395,124.6866239],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/ptaES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Cong. Alberto T. Acuja Memorial Central School</a></div></div>').on("click",this.clickZoom.bind(this)),xo=x.marker([11.297020125112155,124.68252689499673],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/ponongES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Ponong Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),wi=x.marker([11.2978262,124.6824307],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/carigaraNHS.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Carigara National High School </a></div></div>').on("click",this.clickZoom.bind(this)),Ci=x.marker([11.3006686,124.6863469],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/carigarachurch.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Carigara Parish Church </a></div></div>').on("click",this.clickZoom.bind(this)),Rn=x.marker([11.30026,124.6851016],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/hccci.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Holy Cross College of Carigara </a></div></div>').on("click",this.clickZoom.bind(this)),ko=x.marker([11.3012958,124.6868381],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/cassidyES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Cassidy Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),Fn=x.marker([11.30218474574454,124.68133417635846],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/seventhadventist.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Seventh Day Adventist Church </a></div></div>').on("click",this.clickZoom.bind(this)),rs=x.marker([11.30218474574454,124.68133417635846],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/unitedchurch.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>United Christian Church of the Philippines </a></div></div>').on("click",this.clickZoom.bind(this)),ee=x.marker([11.2989631,124.6786982],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/newlifecarigara.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>New Life Christian Church </a></div></div>').on("click",this.clickZoom.bind(this)),xi=x.marker([11.297766,124.6702727],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/tangnanBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Tangnan Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Bn=x.marker([11.294851119638508,124.6622293581704],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/nauguisanES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Nauguisan Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),ki=x.marker([11.289751866680746,124.66142138289877],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/sanjuanBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>San Juan Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Eo=x.marker([11.274892635379118,124.65437594384838],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Manloy Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Nn=x.marker([11.260928247291645,124.66692030297861],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/caghaloES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Caghalo Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),To=x.marker([11.2648,124.6759],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Upper Hiraan Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Ye=x.marker([11.265246762928768,124.67697129266298],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/hiraanES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Hiraan Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Po=x.marker([11.2795,124.6786],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Lower Hiraan Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),$e=x.marker([11.266721745379868,124.68083971796977],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/liboBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Libo Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),jn=x.marker([11.265940493645303,124.68529656173274],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Canlampay Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),zn=x.marker([11.263751626499598,124.68557038762572],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/canlampayES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Canlampay Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),So=x.marker([11.2473838,124.6878364],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/hiluctoganES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Hiluctogan Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),Pe=x.marker([11.292457563772857,124.6772379129253],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/bisligBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Bislig Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Ke=x.marker([11.293430779370212,124.67548820806826],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/bisligEvac.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Bislig Evacuation Center </a></div></div>').on("click",this.clickZoom.bind(this)),Mo=x.marker([11.2878292,124.6825409],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/canal.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Canal Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Ei=x.marker([11.282287385990031,124.68409130036338],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/uyawanBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Uyawan Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),as=x.marker([11.2682,124.6722],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/barayongBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Barayong Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Ui=x.marker([11.2590973,124.6900857],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/sogodES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Lower Sogod Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Ti=x.marker([11.2536,124.6931],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/uppersogodBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Upper Sogod Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Io=x.marker([11.2504379,124.7001859],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/candigahubES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Candigahub Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Zn=x.marker([11.2650511,124.6986922],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/cutayBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Cutay Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Lo=x.marker([11.2798,124.7101],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/pangnaES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Pangna Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Oo=x.marker([11.2709821,124.7004102],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/barsurES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Barugohay Sur Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Hn=x.marker([11.2843,124.6987],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/bagonglipunanBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Bagong Lipunan Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),Gi=x.marker([11.28736949670612,124.69583232220117],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/balilitES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Balilit Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),Do=x.marker([11.296,124.6986],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Barugohay Central Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Ao=x.marker([11.2872453,124.7160603],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Tagak Elementary School </a></div></div>').on("click",this.clickZoom.bind(this)),ls=x.marker([11.286840266447967,124.7166593458391],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Rizal Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),Ro=x.marker([11.2811415,124.7225726],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Ecoville</a></div></div>').on("click",this.clickZoom.bind(this)),Fo=x.marker([11.2662922,124.7085475],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/canfabiES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Canfabi Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),cs=x.marker([11.2568516,124.7150913],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Sta. Fe Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),t=x.marker([11.257343004963658,124.72799419450331],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/paragumBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Parag-um Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),e=x.marker([11.2577,124.7365],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/Car.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Cogon Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),i=x.marker([11.233367805199322,124.73453629750668],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/binibihanES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Binibihan Elem. School </a></div></div>').on("click",this.clickZoom.bind(this)),s=x.marker([11.2132913924805,124.73425541862093],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/macalpiES.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Macalpi Elementary School</a></div></div>').on("click",this.clickZoom.bind(this)),c=x.marker([11.2045,124.7188],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/paglaumBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>Paglaum Barangay Hall </a></div></div>').on("click",this.clickZoom.bind(this)),m=x.marker([11.204579867259937,124.70810276172983],{icon:V}).bindPopup('<div class="customPopup"><figure><img src="./assets/images/sanisidroBH.jpg" alt="Car"><figcaption>Barangay Evacuation Center</figcaption></figure><div>San Isidro Barangay Hall</a></div></div>').on("click",this.clickZoom.bind(this)),v=x.layerGroup([Be,si,pe,ri,An,zi,Zi,Hi,We,fe,ai,Vi,Co,xo,wi,Ci,Rn,ko,Fn,rs,ee,xi,Bn,ki,Eo,Nn,To,Ye,Po,$e,jn,zn,So,Pe,Ke,Mo,Ei,as,Ui,Ti,Io,Zn,Lo,Oo,Hn,Gi,Do,Ao,ls,Ro,Fo,cs,t,e,i,s,c,m]),w=x.icon({iconUrl:"./assets/images/official.png",iconSize:[28,35],iconAnchor:[12,41],popupAnchor:[1,-41],shadowUrl:""}),E=x.marker([11.23826416064776,124.7125225852891],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Benjamin I. Engrato</a></div></div>').on("click",this.clickZoom.bind(this)),S=x.marker([11.236402318756134,124.72036848648168],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Eutiquio P. Dauplo </a></div></div>').on("click",this.clickZoom.bind(this)),N=x.marker([11.218878646387452,124.71579779960075],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Glicerio T. Yacap</a></div></div>').on("click",this.clickZoom.bind(this)),X=x.marker([11.236536623529915,124.70284118033567],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Pedro T. Ingrato</a></div></div>').on("click",this.clickZoom.bind(this)),nt=x.marker([11.3007,124.6934],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Pedro D. Royo</a></div></div>').on("click",this.clickZoom.bind(this)),Bt=x.marker([11.3018,124.6953],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Christopher T. Ca\xf1amaque</a></div></div>').on("click",this.clickZoom.bind(this)),At=x.marker([11.3026,124.698],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Anita M. Villalino</a></div></div>').on("click",this.clickZoom.bind(this)),Xt=x.marker([11.3037,124.7004],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Wendell J. Agunos</a></div></div>').on("click",this.clickZoom.bind(this)),jt=x.marker([11.3029,124.705],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Grace B. Cabello</a></div></div>').on("click",this.clickZoom.bind(this)),li=x.marker([11.2979,124.7121],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Felipe M. Ramos</a></div></div>').on("click",this.clickZoom.bind(this)),Bo=x.marker([11.2993,124.6895],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Garnet Dax M. Tonolete</a></div></div>').on("click",this.clickZoom.bind(this)),hs=x.marker([11.3011,124.6889],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Raniel A. Marquez</a></div></div>').on("click",this.clickZoom.bind(this)),ds=x.marker([11.2977,124.6829],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Arvin N. Urmeneta</a></div></div>').on("click",this.clickZoom.bind(this)),No=x.marker([11.30218474574454,124.68133417635846],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Ismael N. Vega</a></div></div>').on("click",this.clickZoom.bind(this)),us=x.marker([11.30006054635544,124.68066596305334],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Joena E. Naagas</a></div></div>').on("click",this.clickZoom.bind(this)),jo=x.marker([11.2982,124.6713],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Francisco C. Nivera</a></div></div>').on("click",this.clickZoom.bind(this)),Mt=x.marker([11.2955,124.6637],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Eduardo D. Villaruel</a></div></div>').on("click",this.clickZoom.bind(this)),Wi=x.marker([11.2888,124.6611],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Terencio M. Lianza</a></div></div>').on("click",this.clickZoom.bind(this)),zo=x.marker([11.275,124.6636],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Eduardo I. Combinido</a></div></div>').on("click",this.clickZoom.bind(this)),Zo=x.marker([11.2611,124.6676],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Lito I. Ligutan</a></div></div>').on("click",this.clickZoom.bind(this)),Vn=x.marker([11.2648,124.6759],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Joel R. Gaquit</a></div></div>').on("click",this.clickZoom.bind(this)),Yi=x.marker([11.2795,124.6786],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Jocelyn V. Caballes</a></div></div>').on("click",this.clickZoom.bind(this)),Un=x.marker([11.2671,124.6809],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Constantino W. Cadiente Jr.</a></div></div>').on("click",this.clickZoom.bind(this)),Gn=x.marker([11.2649,124.6848],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Ramil F. Narbonita</a></div></div>').on("click",this.clickZoom.bind(this)),ws=x.marker([11.2471,124.6877],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Narciso L. Anos</a></div></div>').on("click",this.clickZoom.bind(this)),Ns=x.marker([11.2923,124.6769],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Romeo M. Javines</a></div></div>').on("click",this.clickZoom.bind(this)),Cs=x.marker([11.2878,124.6826],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Cresente L. Llagas</a></div></div>').on("click",this.clickZoom.bind(this)),ps=x.marker([11.2841,124.6844],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Prima J. Azores</a></div></div>').on("click",this.clickZoom.bind(this)),Ho=x.marker([11.2682,124.6722],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Julius Cesar N. Caballes</a></div></div>').on("click",this.clickZoom.bind(this)),fs=x.marker([11.2572,124.6903],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Jose L. Platilla Jr.</a></div></div>').on("click",this.clickZoom.bind(this)),xs=x.marker([11.2536,124.6931],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Norma M. Inalisan</a></div></div>').on("click",this.clickZoom.bind(this)),ks=x.marker([11.2501,124.7007],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Jordan O. Inalisan</a></div></div>').on("click",this.clickZoom.bind(this)),Es=x.marker([11.2649,124.6987],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Nestor P. Dagalea</a></div></div>').on("click",this.clickZoom.bind(this)),js=x.marker([11.2798,124.7101],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Genilo C. Nalda</a></div></div>').on("click",this.clickZoom.bind(this)),zs=x.marker([11.272,124.6994],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Antonio L. Agunos</a></div></div>').on("click",this.clickZoom.bind(this)),Ts=x.marker([11.2843,124.6987],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Isaac B. Grabador Jr.</a></div></div>').on("click",this.clickZoom.bind(this)),Zs=x.marker([11.2874,124.695],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Felipe D. Macabansag</a></div></div>').on("click",this.clickZoom.bind(this)),Hs=x.marker([11.296,124.6986],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Elmer C. Ope\xf1a</a></div></div>').on("click",this.clickZoom.bind(this)),ms=x.marker([11.2891,124.7122],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Johnyl T. Tanginan</a></div></div>').on("click",this.clickZoom.bind(this)),Ps=x.marker([11.2867,124.7172],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Renato M. Capalar</a></div></div>').on("click",this.clickZoom.bind(this)),Ss=x.marker([11.2799,124.726],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Fernando N. Moriel</a></div></div>').on("click",this.clickZoom.bind(this)),_s=x.marker([11.2654,124.7092],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Ryan I. Rendora</a></div></div>').on("click",this.clickZoom.bind(this)),gs=x.marker([11.2567,124.7151],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Janet B. Mendoza</a></div></div>').on("click",this.clickZoom.bind(this)),Ms=x.marker([11.2575,124.7279],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Judith D. Darantinao</a></div></div>').on("click",this.clickZoom.bind(this)),vs=x.marker([11.2577,124.7365],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Romeo C. Lirom</a></div></div>').on("click",this.clickZoom.bind(this)),Is=x.marker([11.2334,124.7336],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Sisinio B. Alalid Jr.</a></div></div>').on("click",this.clickZoom.bind(this)),Ls=x.marker([11.2126,124.7332],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Ador P. Bodo</a></div></div>').on("click",this.clickZoom.bind(this)),ci=x.marker([11.2045,124.7188],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Margie F. Grabador</a></div></div>').on("click",this.clickZoom.bind(this)),ys=x.marker([11.2054,124.7082],{icon:w}).bindPopup('<div class="customPopup"><figure><figcaption>Punong Barangay</figcaption></figure><div>Benjiemen Y. Inalisan</a></div></div>').on("click",this.clickZoom.bind(this)),bs=x.layerGroup([E,S,N,X,nt,Bt,At,Xt,jt,li,Bo,hs,ds,No,us,jo,Mt,Wi,zo,Zo,Vn,Yi,Un,Gn,ws,Ns,Cs,ps,Ho,fs,xs,ks,Es,js,zs,Ts,Zs,Hs,ms,Ps,Ss,_s,gs,Ms,vs,Is,Ls,ci,ys]);x.control.layers({None:y,OpenStreetMap:h,"Google Satelite":f,Topography:_},{"Evacuation Center":v,"Punong Barangay":bs}).addTo(this.map)}addLegend(){this.legend&&this.map.removeControl(this.legend),this.legend=new x.Control({position:"bottomright"}),this.legend.onAdd=()=>{const h=x.DomUtil.create("div","info legend");if(this.disasterType){var f=[this.coloringMap.landslide.high,this.coloringMap.landslide.moderate,this.coloringMap.landslide.low],_=["High","Moderate","Low"],y="Landslide Hazard Level";"flood"!=this.disasterType.type&&"typhoon"!=this.disasterType.type||(y="Flood Hazard Level",f=[this.coloringMap.flood.high,this.coloringMap.flood.moderate,this.coloringMap.flood.low],_=["High","Moderate","Low"]),h.innerHTML+=`<h1 class="text-sm font-bold leading-3 mt-2 mb-2 text-gray-800">${y}</h1>`;for(let b=0;b<f.length;b++)h.innerHTML+=`<div class="py-1">\n            <i style="background:${f[b]};"></i>\n            <span>${_[b]}</span>\n          </div>`}else{(_=[]).push("<strong>Layer Legend</strong>");for(const T in this.layerColors){const D=this.layerColors[T],j=T.charAt(0).toUpperCase()+T.slice(1);_.push(`<i style="background:${D}; color: ${D};"></i> ${j}`)}h.innerHTML=_.join("<br>")}return h}}addInfoControl(){this.info=new x.Control({position:"topright"}),this.info.onAdd=()=>(this.info._div=x.DomUtil.create("div","info"),this.info.updateInfo(),this.info._div),this.info.updateInfo=h=>{if(this.info._div&&(this.info._div.innerHTML="Hover over a barangay and <br/>double click your location to <br/>show nearest evacuation centers.",h)){var f=h.name.split(" ").map(y=>y.toLowerCase()).join("_"),_=this.barangayDetails.find(y=>y.name===f);this.info._div.innerHTML=`<div><p class="font-semibold">Carigara, Leyte</p></div><p class="text-small">${h.name}</p><p class="pt-1 text-small font-semibold">Land Area</p><p class="text-small">${_?.area} sq. mi.</p><p class="pt-1 text-small font-semibold">Population Density</p><p class="text-small">${Number(_?.pop_density).toLocaleString()} people per sq. mi.</p><p class="pt-1 text-small font-semibold">Predominant Livelihood</p><p class="text-small">${_?.livelihood}</p>`}},this.info.addTo(this.map)}addDetailsControl(h,f){this.details=new x.Control({position:"topleft"}),this.details.onAdd=()=>(this.details._div=x.DomUtil.create("div","details"),this.details.updateDetails(),this.details._div),this.details.updateDetails=_=>{if(this.details._div&&(window.matchMedia("(max-width: 768px)").matches&&this.details._div.classList.add("minimized"),_)){const b=[];b.push("\n          <div class='m-2'>\n            <span class='font-bold'>Hazard Details</span>\n            <hr>\n        "),_.flood&&b.push(`\n            <span class='m-2 font-semibold'>Flood</span>\n            <p class='mx-2'>${_.flood}</p>\n          `),_.typhoon&&b.push(`\n            <span class='m-2 font-semibold'>Typhoon</span>\n            <p class='mx-2'>${_.typhoon}</p>\n          `),_.landslide&&b.push(`\n            <span class='m-2 font-semibold'>Landslide</span>\n            <p class='m-2'>${_.landslide}</p>\n          `),_.rainfall&&b.push(`\n            <div class=''>\n              <p class='m-2 font-semibold'>Rainfall</p>\n              <p class='mx-2 mt-2 font-semibold'>Range</p>\n              <p class='mx-2'>${_.rainfall.range}</p>\n              <p class='mx-2 mt-2 font-semibold'>Impact</p>\n              <p class='mx-2'>${_.rainfall.impact}</p>\n            </div>\n          `),b.push("</div>"),this.details._div.innerHTML=b.join("")}}}addAffectedBarangaysControl(){this.affectedBarangays=new x.Control({position:"topright"}),this.affectedBarangays.onAdd=()=>(this.affectedBarangays._div=x.DomUtil.create("div","affected-brgy-details"),this.affectedBarangays.updateDetails(),this.affectedBarangays._div),this.affectedBarangays.updateDetails=h=>{if(this.affectedBarangays._div&&void 0!==h&&(this.affectedBarangays._div.innerHTML="<div class='m-2'><span class='font-bold'>Affected Barangays</span><hr>",void 0!==h.barangays)){const f=h.barangays.map(_=>_.replace(/_/g," ").split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" ")).join(", ");this.affectedBarangays._div.innerHTML+=`\n            <div class='m-2'>\n              <p class=''>${f}</p>\n            </div>\n          `,this.affectedBarangays._div.innerHTML+="</div>"}}}getColor(h){return h>5500?"#004529":h>3500?"#006837":h>2300?"#238443":h>1300?"#41ab5d":h>1e3?"#78c679":h>800?"#addd8e":h>300?"#d9f0a3":h>100?"#f7fcb9":"#ffffe5"}style(h,f){return"barangay"===f?{fillColor:this.coloringMap.barangay,weight:1.5,opacity:1,color:"#FEFEFE",dashArray:"3",fillOpacity:1}:"landslide_high"===f?{fillColor:this.coloringMap.landslide.high,weight:1,opacity:1,color:this.coloringMap.landslide.high,dashArray:"3",fillOpacity:.7}:"landslide_moderate"===f?{fillColor:this.coloringMap.landslide.moderate,weight:1,opacity:1,color:this.coloringMap.landslide.moderate,dashArray:"3",fillOpacity:.7}:"landslide_low"===f?{fillColor:this.coloringMap.landslide.low,weight:1,opacity:1,color:this.coloringMap.landslide.low,dashArray:"3",fillOpacity:.7}:"flood_high"===f?{fillColor:this.coloringMap.flood.high,weight:1,opacity:1,color:this.coloringMap.flood.high,dashArray:"3"}:"flood_moderate"===f?{fillColor:this.coloringMap.flood.moderate,weight:1,opacity:1,color:this.coloringMap.flood.moderate,dashArray:"3",fillOpacity:.7}:"flood_low"===f?{fillColor:this.coloringMap.flood.low,weight:1,opacity:1,color:this.coloringMap.flood.low,dashArray:"3"}:{weight:"roads"===f||"water_river"===f?2:1,fillOpacity:10,color:this.layerColors[f],dashArray:""}}onEachFeature(h,f,_){if("barangay"===_){const b=h.properties.name;b&&(this.barangayPolygons[b]=h),f.on({mouseover:this.highlightFeature.bind(this),mouseout:this.resetHighlight.bind(this)})}f.on({click:this.zoomToFeature.bind(this)})}highlightFeature(h){this.info.updateInfo(h.target.feature.properties)}resetHighlight(h){this.layers.barangay.resetStyle(h.target),this.info.updateInfo()}zoomToFeature(h){}clickZoom(h){this.map.setView(h.target.getLatLng(),14)}onMapDoubleClick(h){this.clearNearestEvacuationMarkers(),this.currentMarker&&this.map?.removeLayer(this.currentMarker),this.currentMarker=x.marker([h.latlng.lat,h.latlng.lng],{icon:this.defaultIcon}).addTo(this.map),this.findNearestLocations(h.latlng,5).forEach(({location:_,distance:y})=>{const b=[_.coords[0],_.coords[1]],T=this.makePulseIcon(10,"green","./assets/images/guard.png"),D=x.marker(b,{icon:T}).addTo(this.map),j=`\n          <div class="customPopup">\n              <figure>\n                  <img src="${_.image}" alt="Car">\n                  <figcaption>Barangay Evacuation Center</figcaption>\n              </figure>\n              <div>${_.venue}</div>\n              <div>Distance: ${y.toFixed(2)} km</div>\n          </div>\n      `;D.bindPopup(j).openPopup(),this.nearestEvacuationMarkers.push(D)}),this.currentMarker.on("click",()=>{this.map?.removeLayer(this.currentMarker),this.clearNearestEvacuationMarkers()})}clearNearestEvacuationMarkers(){this.nearestEvacuationMarkers.forEach(h=>{this.map.removeLayer(h)}),this.nearestEvacuationMarkers=[]}findNearestLocations(h,f){const _=this.evacuationLocations.map(y=>({location:y,distance:this.calculateDistance(h.lat,h.lng,y.coords[0],y.coords[1])}));return _.sort((y,b)=>y.distance-b.distance),_.slice(0,f)}calculateDistance(h,f,_,y){const T=this.degreesToRadians(_-h),D=this.degreesToRadians(y-f),j=Math.sin(T/2)*Math.sin(T/2)+Math.cos(this.degreesToRadians(h))*Math.cos(this.degreesToRadians(_))*Math.sin(D/2)*Math.sin(D/2);return 2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j))*6371}degreesToRadians(h){return h*(Math.PI/180)}makePulseIcon(h,f,_){return x.divIcon({html:`<div class="pulse">\n          <img src="${_}" style="width: 25px; height: 41px; position: absolute; top: calc(50% - 20.5px); left: calc(50% - 12.5px);"/>\n          <span style="\n      width: ${h}px;\n      height: ${h}px;\n      background: ${f};\n      color: ${f};\n      box-shadow: 0 0 0 ${f};\n    " class="pulse"/></span>\n          </div>`,className:""})}zoomToBarangay(h){this.map&&(this.map.setView(h.coordinates,15),this.highlightBarangay(h.barangay,h.coordinates))}highlightBarangay(h,f){this.highlightLayer&&this.map.removeLayer(this.highlightLayer);const _=this.barangayPolygons[h];if(_){this.highlightLayer=x.geoJSON(_,{style:{color:"yellow",weight:3,fillOpacity:.3}}).addTo(this.map),this.map.fitBounds(this.highlightLayer.getBounds());const y=this.calculateCentroid(_.geometry);this.labelMarker&&(this.map.removeLayer(this.labelMarker),this.labelMarker=null),this.labelMarker=x.marker(y,{icon:x.divIcon({className:"barangay-label",html:`<span>${h}</span>`,iconSize:[0,0]})}).addTo(this.map)}}calculateCentroid(h){let f=0,_=0,y=0;if("Polygon"===h.type)h.coordinates[0].forEach(b=>{_+=b[0],f+=b[1],y++});else{if("MultiPolygon"!==h.type)throw new Error("Unexpected geometry type: "+h.type);h.coordinates[0][0].forEach(b=>{_+=b[0],f+=b[1],y++})}return[f/y,_/y]}constructor(h,f,_){this.router=h,this.disasterService=f,this.breakPointObserver=_,this.isMobile=!1,this.isHazardDetailsMinimized=!1,this.isDropdownOpen=!1,this.mainContent=null,this.barangayPolygons={},this.highlightLayer=null,this.labelMarker=null,this.coloringMap={barangay:"#8A9A5B",flood:{low:"#E0B0FF",moderate:"#722F37",high:"#800080"},landslide:{low:"#FFFF00",moderate:"#6B8E23",high:"#800000"}},this.hazardRiskDetails={landslide:{low:"Low - areas are generally stable, with minimal movement observed and conditions that do not easily trigger landslides",moderate:"Moderate - areas possess features that could lead to landslides under certain conditions, such as steeper inclines, loose soil, or occasional heavy rainfall",high:"High - areas are prone to frequent and severe landslides due to factors such as steep, unstable slopes, high rainfall, erodible soil, or prior landslide history"},flood:{low:"Low - areas are places where flooding is unlikely or rare, often only occurring under extreme weather conditions",moderate:"Moderate - areas are those where flooding can happen under certain conditions, such as during seasonal heavy rains or when rivers exceed their normal levels",high:"High - areas are zones where flooding is common and can be severe, often due to their proximity to rivers, lakes, coastal regions, or low-lying terrain that retains water"}},this.hazardCategoryDetails={landslide:{unlikely:"Areas have minimal susceptibility, characterized by stable terrain, gentle slopes, and solid ground, where landslides are rare under typical conditions",less_likely_to_experience:"Areas may have some factors that could contribute to landslides, such as mild slopes or occasional external triggers like rain, but they do not frequently experience significant movement",moderately_susceptible:"Areas show a higher potential for landslides, often featuring steeper slopes, weaker soils, or a history of smaller landslide events",highly_susceptible:"Areas are those where landslides are common and often severe due to factors such as steep, unstable terrain, loose or erodible soil, and significant weathering"},typhoon:{tropical_depression:"Tropical Depression - have maximum sustained wind speeds of up to 62 km/h (38 mph) and typically bring heavy rainfall but minimal wind damage",tropical_storm:"Tropical Storm - have sustained winds between 63-118 km/h (39-73 mph), strong enough to cause moderate damage, heavy rain, and potential flooding",severe_tropical_storm:"Severe Tropical Storm - escalate further with winds between 89-117 km/h (55-73 mph), posing greater threats of damage and more intense rain",typhoon:"Typhoon - have sustained winds of 119-177 km/h (74-110 mph), bringing significant potential for destruction, widespread flooding, and storm surges in coastal areas",super_typhoon:"Super Typhoon - exceed 178 km/h (111 mph) and are equivalent to powerful Category 4 or 5 hurricanes"}},this.typhoonRainfallImpactDetails={tropical_depression:{range:"50-150 mm in 24 hours",impact:"Light to moderate rain over wide areas. Some localized flooding is possible, especially in low-lying or poorly drained areas."},tropical_storm:{range:"100-200 mm in 24 hours",impact:"Moderate to heavy rains may cause flash floods and landslides in mountainous areas."},severe_tropical_storm:{range:"150-300 mm in 24 hours",impact:"Widespread heavy rains could lead to significant flooding and landslides."},typhoon:{range:"200-400 mm in 24 hours",impact:"Intense rains can cause severe flooding, landslides, and river overflows. Coastal areas may also face storm surges."},super_typhoon:{range:"300-500 mm or more in 24 hours",impact:"Catastrophic rainfall can result in massive flooding, landslides, and widespread destruction. Communities in low-lying and mountainous areas are at the highest risk."}},this.currentMarker=null,this.layers={},this.layerVisibility={barangay:!0,water_river:!1,buildings:!1,landcover:!1,roads:!1,forest:!0,landslide_low:!1,landslide_moderate:!1,landslide_high:!1,flood_high:!1,flood_moderate:!1,flood_low:!1},this.layerColors={water_river:"#00008B",buildings:"#B22222",landcover:"#32CD32",roads:"#000000",forest:"#4B5320"},this.defaultIcon=x.icon({iconUrl:"assets/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"assets/images/marker-shadow.png",shadowSize:[41,41]}),this.nearestEvacuationMarkers=[],this.evacuationLocations=[{name:"tigbao",coords:[11.2375868,124.7133698],venue:"Tigbao Elementary School",image:"./assets/images/tigbaoES.jpg"},{name:"piloro",coords:[11.236402318756134,124.72036848648168],venue:"Piloro Barangay Hall",image:"./assets/images/Car.jpg"},{name:"camansi",coords:[11.21849108135362,124.71573441769323],venue:"Camansi Elementary School",image:"./assets/images/camansiES.jpg"},{name:"tinaguban",coords:[11.2331392,124.7056969],venue:"Tinaguban Elementary School",image:"./assets/images/tinagubanES.jpg"},{name:"jugaban",coords:[11.2991697,124.6943891],venue:"JugabanPopup - Jugaban National High School",image:"./assets/images/jugabanNHS.jpg"},{name:"san_mateo",coords:[11.2691869,124.7259261],venue:"Evacuation Center 1 (Baybay)",image:"./assets/images/carigaraEC.jpg"},{name:"guindapunan_west",coords:[11.301429126326795,124.69863695804366],venue:"West Guindapunan Chapell",image:"./assets/images/Car.jpg"},{name:"guindapunan_east",coords:[11.302470879288492,124.70122314248277],venue:"Guindapunan Elementary School",image:"./assets/images/guindapunanES.jpg"},{name:"barugohay_norte1",coords:[11.3033755,124.7075573],venue:"Carigara National Professional School",image:"./assets/images/cnvs.jpg"},{name:"barugohay_norte2",coords:[11.3032152,124.7066521],venue:"Eastern Visayas State University",image:"./assets/images/evsucc.jpg"},{name:"parena",coords:[11.298482428935586,124.71232105275067],venue:"Parena Barangay Hall",image:"./assets/images/Car.jpg"},{name:"sawang",coords:[11.2992552,124.6869251],venue:"Sawang Catholic Chapel",image:"./assets/images/sawangchapel.jpg"},{name:"baybay",coords:[11.3001395,124.6866239],venue:"Cong. Alberto T. Acuja Memorial Central School",image:"./assets/images/ptaES.jpg"},{name:"ponong1",coords:[11.297020125112155,124.68252689499673],venue:"Ponong Elementary School",image:"./assets/images/ponongES.jpg"},{name:"ponong2",coords:[11.2978262,124.6824307],venue:"Carigara National High School",image:"./assets/images/carigaraNHS.jpg"},{name:"ponong3",coords:[11.3006686,124.6863469],venue:"Carigara Parish Church",image:"./assets/images/carigarachurch.jpg"},{name:"ponong4",coords:[11.30026,124.6851016],venue:"Holy Cross College of Carigara",image:"./assets/images/hccci.jpg"},{name:"ponong5",coords:[11.3012958,124.6868381],venue:"Cassidy Elementary School",image:"./assets/images/cassidyES.jpg"},{name:"west_visoria2",coords:[11.30218474574454,124.68133417635846],venue:"Seventh Day Adventist Church",image:"./assets/images/seventhadventist.jpg"},{name:"west_visoria3",coords:[11.30218474574454,124.68133417635846],venue:"United Christian Church of the Philippines",image:"./assets/images/unitedchurch.jpg"},{name:"east_visoria",coords:[11.2989631,124.6786982],venue:"New Life Christian Church",image:"./assets/images/newlifecarigara.jpg"},{name:"tangnan",coords:[11.297766,124.6702727],venue:"Tangnan Barangay Hall",image:"./assets/images/tangnanBH.jpg"},{name:"nauguisan",coords:[11.294851119638508,124.6622293581704],venue:"Nauguisan Elementary School",image:"./assets/images/nauguisanES.jpg"},{name:"san_juan",coords:[11.289751866680746,124.66142138289877],venue:"San Juan Barangay Hall",image:"./assets/images/sanjuanBH.jpg"},{name:"manloy",coords:[11.274892635379118,124.65437594384838],venue:"Manloy Elementary School",image:"./assets/images/Car.jpg"},{name:"caghalo",coords:[11.260928247291645,124.66692030297861],venue:"Caghalo Elementary School",image:"./assets/images/caghaloES.jpg"},{name:"upper_hiraan1",coords:[11.2648,124.6759],venue:"Upper Hiraan Barangay Hall",image:"./assets/images/Car.jpg"},{name:"upper_hiraan2",coords:[11.265246762928768,124.67697129266298],venue:"Hiraan Elementary School",image:"./assets/images/hiraanES.jpg"},{name:"lower_hiraan",coords:[11.2795,124.6786],venue:"Lower Hiraan Barangay Hall",image:"./assets/images/Car.jpg"},{name:"libo",coords:[11.266721745379868,124.68083971796977],venue:"Libo Barangay Hall",image:"./assets/images/liboBH.jpg"},{name:"canlampay1",coords:[11.265940493645303,124.68529656173274],venue:"Canlampay Barangay Hall",image:"./assets/images/Car.jpg"},{name:"canlampay2",coords:[11.263751626499598,124.68557038762572],venue:"Canlampay Elementary School",image:"./assets/images/canlampayES.jpg"},{name:"hiluctogan",coords:[11.2473838,124.6878364],venue:"Hiluctogan Elementary School",image:"./assets/images/hiluctoganES.jpg"},{name:"bislig1",coords:[11.292457563772857,124.6772379129253],venue:"Bislig Barangay Hall",image:"./assets/images/bisligBH.jpg"},{name:"bislig2",coords:[11.293430779370212,124.67548820806826],venue:"Bislig Evacuation Center",image:"./assets/images/bisligEvac.jpg"},{name:"canal",coords:[11.2878292,124.6825409],venue:"Canal Barangay Hall",image:"./assets/images/canalBH.jpg"},{name:"uyawan",coords:[11.282287385990031,124.68409130036338],venue:"Uyawan Barangay Hall",image:"./assets/images/uyawanBH.jpg"},{name:"barayong",coords:[11.2682,124.6722],venue:"Barayong Barangay Hall",image:"./assets/images/barayongBH.jpg"},{name:"lower_sogod",coords:[11.2590973,124.6900857],venue:"Lower Sogod Elementary School",image:"./assets/images/sogodES.jpg"},{name:"upper_sogod",coords:[11.2536,124.6931],venue:"Upper Sogod Barangay Hall",image:"./assets/images/uppersogodBH.jpg"},{name:"candigahub",coords:[11.2504379,124.7001859],venue:"Candigahub Elementary School",image:"./assets/images/candigahubES.jpg"},{name:"cutay",coords:[11.2650511,124.6986922],venue:"Cutay Barangay Hall",image:"./assets/images/cutayBH.jpg"},{name:"pangna",coords:[11.2798,124.7101],venue:"Pangna Elementary School",image:"./assets/images/pangnaES.jpg"},{name:"baruguhay_sur",coords:[11.2709821,124.7004102],venue:"Barugohay Sur Elementary School",image:"./assets/images/barsurES.jpg"},{name:"bagong_lipunan",coords:[11.2843,124.6987],venue:"Bagong Lipunan Barangay Hall",image:"./assets/images/bagonglipunanBH.jpg"},{name:"balilit",coords:[11.28736949670612,124.69583232220117],venue:"Balilit Elementary School",image:"./assets/images/balilitES.jpg"},{name:"barugohay_central",coords:[11.296,124.6986],venue:"Barugohay Central Barangay Hall",image:"./assets/images/Car.jpg"},{name:"tagak",coords:[11.2872453,124.7160603],venue:"Tagak Elementary School",image:"./assets/images/Car.jpg"},{name:"rizal",coords:[11.286840266447967,124.7166593458391],venue:"Rizal Barangay Hall",image:"./assets/images/Car.jpg"},{name:"sagkahan",coords:[11.2811415,124.7225726],venue:"Ecoville",image:"./assets/images/Car.jpg"},{name:"canfabi",coords:[11.2662922,124.7085475],venue:"Canfabi Elementary School",image:"./assets/images/canfabiES.jpg"},{name:"santa_fe",coords:[11.2568516,124.7150913],venue:"Sta. Fe Barangay Hall",image:"./assets/images/Car.jpg"},{name:"parag_um",coords:[11.257343004963658,124.72799419450331],venue:"Parag-um Barangay Hall",image:"./assets/images/paglaumBH.jpg"},{name:"cogon",coords:[11.2577,124.7365],venue:"Cogon Barangay Hall",image:"./assets/images/Car.jpg"},{name:"binibihan",coords:[11.233367805199322,124.73453629750668],venue:"Binibihan Elem. School",image:"./assets/images/binibihanES.jpg"},{name:"macalpi",coords:[11.2132913924805,124.73425541862093],venue:"Macalpi Elementary School",image:"./assets/images/macalpiES.jpg"},{name:"paglaum",coords:[11.2045,124.7188],venue:"Paglaum Barangay Hall",image:"./assets/images/paglaumBH.jpg"},{name:"san_isidro",coords:[11.204579867259937,124.70810276172983],venue:"San Isidro Barangay Hall",image:"./assets/images/sanisidroBH.jpg"}],this.hazardAffectedBarangays={landslide:{less_likely_to_experience:["tinaguban","hiluctugan","canlampay","libo","upper_hiraan","caghalo","manloy","san_isidro","paglaum","camansi"],moderately_susceptible:["tinaguban","hiluctugan","canlampay","libo","upper_hiraan","caghalo","manloy","san_isidro","paglaum","camansi"],highly_susceptible:["caghalo","paglaum","san_isidro","tinaguban","libo"]},typhoon:{tropical_depression:["san_mateo","guindapunan_west","guindapunan_east","jugaban","balilit","barugohay_sur","cutay","bislig","barayong","manloy","barugohay_central","nauguisan","canal"],tropical_storm:["san_mateo","guindapunan_west","guindapunan_east","jugaban","balilit","barugohay_sur","cutay","bislig","barayong","manloy","barugohay_central","nauguisan","canal"],severe_tropical_storm:["tangnan","nauguisan","san_juan","west_visoria","east_visoria","ponong","baybay","jugaban","canal","uyawan","tagak","rizal","sagkahan","pangna","bislig"],typhoon:["tangnan","nauguisan","san_juan","west_visoria","east_visoria","ponong","baybay","jugaban","canal","uyawan","tagak","rizal","sagkahan","pangna","bislig"],super_typhoon:["bislig","canal","uyawan","lower_hiraan","canlampay","parena","upper_sogod","lower_sogod","binibihan","macalpi"]}},this.barangayDetails=[{name:"bagong_lipunan",pop_density:785.2,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.7703},{name:"balilit",pop_density:1608.54,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.6078},{name:"barayong",pop_density:382.25,livelihood:"Agriculture/Crops mainly sugar",area:.879},{name:"barugohay_central",pop_density:3213.58,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.354},{name:"barugohay_norte",pop_density:4041.65,livelihood:"Fishery/Fish Ponds and Mangroves",area:.497},{name:"barugohay_sur",pop_density:839.23,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.3},{name:"baybay",pop_density:22265.7,livelihood:"Fishery/Trading",area:.1029},{name:"binibihan",pop_density:1426.7,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.974},{name:"bislig",pop_density:837.13,livelihood:"Agriculture/Crops mainly cereals and sugar",area:.845},{name:"caghalo",pop_density:3245.51,livelihood:"Agriculture/Coconut Plantation",area:.4135},{name:"camansi",pop_density:534.71,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:2.42},{name:"canal",pop_density:2658.23,livelihood:"Agriculture/Crops mainy cereals and sugar",area:.316},{name:"candigahub",pop_density:1767.3,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.587},{name:"canfabi",pop_density:1056,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.4215},{name:"canlampay",pop_density:512.6,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:2.46},{name:"cogon",pop_density:1010.48,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.743},{name:"cutay",pop_density:948.11,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.06},{name:"east_visoria",pop_density:29030.53,livelihood:"Fishery",area:.0389},{name:"guindapunan_east",pop_density:4379.5,livelihood:"Fishery",area:.2435},{name:"guindapunan_west",pop_density:2499.86,livelihood:"Fishery",area:.2703},{name:"hiluctogan",pop_density:172.71,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:5.02},{name:"jugaban",pop_density:33854,livelihood:"Fishery/Trading",area:.0545},{name:"libo",pop_density:583.51,livelihood:"Agriculture/Coconut Plantation",area:1.88},{name:"lower_hiraan",pop_density:1097.73,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.442},{name:"lower_sogod",pop_density:1427.3,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.436},{name:"macalpi",pop_density:820.29,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.38},{name:"manloy",pop_density:930.6,livelihood:"Agriculture/Coconut Plantation",area:1.34},{name:"nauguisan",pop_density:2800.57,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.352},{name:"paglaum",pop_density:162.57,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.71},{name:"pangna",pop_density:850.85,livelihood:"Agriculture/Coconut Plantation",area:1.18},{name:"parag-um",pop_density:1646.15,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.3},{name:"parena",pop_density:2111.83,livelihood:"Fishery/Fishponds and Mangroves",area:.381},{name:"piloro",pop_density:535.71,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.12},{name:"ponong",pop_density:47184,livelihood:"Trading",area:.0515},{name:"rizal",pop_density:703.38,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.5167},{name:"sagkahan",pop_density:7238.97,livelihood:"Agriculture/Crops mainly cereals and sugar",area:.741},{name:"san_isidro",pop_density:73.7,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:4.85},{name:"san_juan",pop_density:862.07,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.435},{name:"san_mateo",pop_density:59494.17,livelihood:"Fishery/Trading",area:.01897},{name:"santa_fe",pop_density:1014.02,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.542},{name:"sawang",pop_density:27300.35,livelihood:"Trading",area:.0854},{name:"tagak",pop_density:907.59,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.366},{name:"tangnan",pop_density:2746.05,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.304},{name:"tigbao",pop_density:864,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.676},{name:"tinaguban",pop_density:527.38,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:2.52},{name:"upper_hiraan",pop_density:776.56,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:1.28},{name:"upper_sogod",pop_density:2648.2,livelihood:"Agriculture/Crops mixed with Coconut Plantation",area:.2647},{name:"uyawan",pop_density:1551,livelihood:"Agriculture/Crops mainly cereals and sugar",area:.6667},{name:"west_visoria",pop_density:9110.7,livelihood:"Fishery",area:.1593}],this.router.events.subscribe(y=>{y instanceof U.wF&&this.mainContent&&(this.mainContent.scrollTop=0)})}ngOnInit(){this.mainContent=document.querySelector(".main-content"),this.disasterTypeSubscription=this.disasterService.disasterType$.subscribe(h=>{h&&(this.disasterType=h,this.handleDisasterTypeChange())}),this.breakPointObserver.observe([io.Rp.Handset]).subscribe(h=>{this.isMobile=h.matches,this.isMobile&&(this.isHazardDetailsMinimized=!0)}),this.startTour()}ngAfterViewInit(){this.initMap(),this.markerControl(),this.addLegend(),this.addInfoControl(),this.addDetailsControl(),this.addAffectedBarangaysControl()}ngOnDestroy(){this.map&&this.map.remove(),this.disasterTypeSubscription&&this.disasterTypeSubscription.unsubscribe()}handleDisasterTypeChange(){this.disasterType&&this.map&&(this.highlightLayer&&this.map.removeLayer(this.highlightLayer),this.labelMarker&&this.map.removeLayer(this.labelMarker),this.map.setView([11.232084301848886,124.7057818628441],12),!this.toggleControl&&"layer"!=this.disasterType.type&&this.addToggleIcon(),"landslide"==this.disasterType.type?(this.map.removeLayer(this.layers.flood_low),this.map.removeLayer(this.layers.flood_moderate),this.map.removeLayer(this.layers.flood_high),"category4"==this.disasterType.category?(this.map.removeLayer(this.layers.landslide_low),this.map.removeLayer(this.layers.landslide_moderate),this.map.hasLayer(this.layers.landslide_high)?(this.map.removeLayer(this.layers.landslide_high),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("landslide_high"),this.details.updateDetails({landslide:this.hazardRiskDetails.landslide.high}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.landslide.highly_susceptible}))):"category3"==this.disasterType.category||"category2"==this.disasterType.category?(this.map.removeLayer(this.layers.landslide_low),this.map.removeLayer(this.layers.landslide_high),this.map.hasLayer(this.layers.landslide_moderate)?(this.map.removeLayer(this.layers.landslide_moderate),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("landslide_moderate"),this.details.updateDetails({landslide:this.hazardRiskDetails.landslide.moderate}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.landslide.moderately_susceptible}))):(this.map.removeLayer(this.layers.landslide_moderate),this.map.removeLayer(this.layers.landslide_high),this.map.hasLayer(this.layers.landslide_low)?(this.map.removeLayer(this.layers.landslide_low),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("landslide_low"),this.details.updateDetails({landslide:this.hazardRiskDetails.landslide.low}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.landslide.less_likely_to_experience})))):"flood"==this.disasterType.type?(this.map.removeLayer(this.layers.landslide_low),this.map.removeLayer(this.layers.landslide_moderate),this.map.removeLayer(this.layers.landslide_high),this.toggleLayer("flood_low"),this.toggleLayer("flood_moderate"),this.toggleLayer("flood_high"),this.map.removeControl(this.details)):"typhoon"==this.disasterType.type?(this.map.removeLayer(this.layers.landslide_low),this.map.removeLayer(this.layers.landslide_moderate),this.map.removeLayer(this.layers.landslide_high),"category5"==this.disasterType.category?(this.map.removeLayer(this.layers.flood_low),this.map.removeLayer(this.layers.flood_moderate),this.map.hasLayer(this.layers.flood_high)?(this.map.removeLayer(this.layers.flood_high),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("flood_high"),this.details.updateDetails({flood:this.hazardRiskDetails.flood.high,typhoon:this.hazardCategoryDetails.typhoon.super_typhoon,rainfall:this.typhoonRainfallImpactDetails.super_typhoon}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.typhoon.super_typhoon}))):"category4"==this.disasterType.category||"category3"==this.disasterType.category?(this.map.removeLayer(this.layers.flood_low),this.map.removeLayer(this.layers.flood_high),this.map.hasLayer(this.layers.flood_moderate)?(this.map.removeLayer(this.layers.flood_moderate),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("flood_moderate"),this.details.updateDetails({flood:this.hazardRiskDetails.flood.moderate,typhoon:"category4"==this.disasterType.category?this.hazardCategoryDetails.typhoon.typhoon:this.hazardCategoryDetails.typhoon.severe_tropical_storm,rainfall:"category4"==this.disasterType.category?this.typhoonRainfallImpactDetails.typhoon:this.typhoonRainfallImpactDetails.severe_tropical_storm}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.typhoon.typhoon}))):"category2"==this.disasterType.category||"category1"==this.disasterType.category?(this.map.removeLayer(this.layers.flood_moderate),this.map.removeLayer(this.layers.flood_high),this.map.hasLayer(this.layers.flood_low)?(this.map.removeLayer(this.layers.flood_low),this.map.removeControl(this.details),this.map.removeControl(this.affectedBarangays),this.map.removeControl(this.legend)):(this.toggleLayer("flood_low"),this.details.updateDetails({flood:this.hazardRiskDetails.flood.low,typhoon:"category2"==this.disasterType.category?this.hazardCategoryDetails.typhoon.tropical_storm:this.hazardCategoryDetails.typhoon.tropical_depression,rainfall:"category2"==this.disasterType.category?this.typhoonRainfallImpactDetails.tropical_storm:this.typhoonRainfallImpactDetails.tropical_depression}),this.affectedBarangays.updateDetails({barangays:this.hazardAffectedBarangays.typhoon.tropical_depression}))):(this.map.removeLayer(this.layers.landslide_low),this.map.removeLayer(this.layers.landslide_moderate),this.map.removeLayer(this.layers.landslide_high),this.map.removeLayer(this.layers.flood_low),this.map.removeLayer(this.layers.flood_moderate),this.map.removeLayer(this.layers.flood_high))):"layer"==this.disasterType.type&&("barangay"==this.disasterType.category?this.toggleLayer("barangay"):"water"==this.disasterType.category?this.toggleLayer("water_river"):"building"==this.disasterType.category?this.toggleLayer("buildings"):"landcover"==this.disasterType.category?this.toggleLayer("landcover"):"road"==this.disasterType.category?this.toggleLayer("roads"):"forest"==this.disasterType.category&&this.toggleLayer("forest")))}startTour(){const h=fn();h.setOptions({steps:[{element:"#welcome",intro:'<div class="tooltip-content"> <img src="assets/images/hello.svg" alt="Welcome Illustration" class="welcome-image"><p> Welcome to the GISMDS app! Navigate this tool to explore flood and landslide-prone areas for informed disaster preparedness and community safety.</p></div> ',position:"bottom"},{element:"#hazard-section",intro:'\n                <div style="display: flex; align-items: center;">\n                <p style="margin: 0; line-height: 1.5;">\n                  Here, you can choose the type of hazard you are concerned about, such as typhoon categories along with floods, or landslides. Additionally, you can select the severity level to refine the details and focus on specific risk levels.\n                </p>\n                  <img src="assets/images/map.svg" style="width: 200px; height: 200px; margin-right: 5px; border-radius: 8px;">\n\n                </div>',tooltipClass:"customTooltip",position:"left"},{element:"#layers-section",intro:'\n                  <div style="display: flex; align-items: center;">\n                    <img src="assets/images/way.svg" style="width: 200px; height: 200px; margin-right: 5px; border-radius: 8px;">\n                    <p style="margin: 0; line-height: 1.5;">\n                      The layers section allows you to add detailed thematic layers of information to the map. These include data such as roads, barangay boundaries, and more for comprehensive view for analysis.\n                    </p>\n                  </div>',tooltipClass:"customTooltip",position:"left"},{element:"#sidebar-details",intro:'\n                  <div style="display: flex; align-items: center;">\n                  <p style="margin: 0; line-height: 1.5;">\n                      In this section, you can view the susceptibility of different areas to various hazards. This includes detailed risk assessments based on historical data, local geography, and more, helping you understand which areas are most at risk.\n                    </p>\n                    <img src="assets/images/details.svg" style="width: 230px; height: 230; margin-right: 5px; border-radius: 8px;">\n                  </div>',tooltipClass:"customTooltip",position:"right"}],showProgress:!1,showButtons:!0,exitOnOverlayClick:!1,nextLabel:"Next",prevLabel:"Back"}),h.start()}toggleHazardDetails(){this.isHazardDetailsMinimized=!this.isHazardDetailsMinimized}addToggleIcon(){if(!this.map)return void console.error("Map is not initialized.");if(!this.isMobile)return;const h=x.Control.extend({onAdd:()=>{const f=x.DomUtil.create("div","map-toggle-icon");return f.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n          </svg>\n        ',f.style.cursor="pointer",f.style.width="30px",f.style.height="30px",f.style.display="flex",f.style.alignItems="center",f.style.justifyContent="center",f.onclick=()=>{this.isHazardDetailsMinimized=!this.isHazardDetailsMinimized,this.details._div.classList.contains("minimized")?this.details._div.classList.remove("minimized"):this.details._div.classList.add("minimized")},f}});this.toggleControl=new h({position:"topleft"}),this.toggleControl.addTo(this.map)}static#t=this.\u0275fac=function(f){return new(f||l)(a.rXU(U.Ix),a.rXU(Ne),a.rXU(io.QP))};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-layout"]],viewQuery:function(f,_){if(1&f&&a.GBs(Ko,5),2&f){let y;a.mGM(y=a.lsd())&&(_.mapContainer=y.first)}},standalone:!0,features:[a.aNF],decls:12,vars:1,consts:[[1,"flex","flex-col","h-screen","w-full","sm:flex-row"],[1,"flex","grow","flex-col","bg-card"],["id","main-content",1,"h-64","sm:h-full","scrollbar-none"],[1,"map-container"],[1,"header","sm:text-center"],[1,"m-2","font-extrabold"],[1,"map-frame"],["id","map",1,"h-64","sm:h-96","md:h-[550px]"],[1,"sm:block","hidden"],[1,"sm:w-full","md:w-1/4",3,"rowClicked","disasterType"]],template:function(f,_){1&f&&(a.j41(0,"div",0),a.nrm(1,"app-sidebar"),a.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),a.EFF(7,"MUNICIPALITY OF CARIGARA"),a.k0s()(),a.j41(8,"div",6),a.nrm(9,"div",7),a.k0s()()(),a.nrm(10,"app-footer",8),a.k0s(),a.j41(11,"app-sidebar-details",9),a.bIt("rowClicked",function(b){return _.zoomToBarangay(b)}),a.k0s()()),2&f&&(a.R7$(11),a.Y8G("disasterType",_.disasterType))},dependencies:[ze,F,Xi],styles:["html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif}.layout-container{display:flex;flex-direction:column;height:100%}#main-content{flex:1;overflow:auto}.map-container{background-color:beige;position:relative;margin:30px;border:2px solid #ccc;border-radius:8px;box-shadow:0 2px 10px #0003}.header{display:flex;align-items:center;justify-content:center;gap:2px}.logo{width:50px;height:auto}.title{font-weight:700;font-size:1.5rem;margin:0}.dropdown{position:relative;display:inline-block;margin:10px}.dropdown-btn{background-color:#6d106d;color:#fff;padding:5px;font-size:13px;border:none;cursor:pointer;border-radius:5px}.dropdown-btn:hover,.dropdown:hover .dropdown-btn{background-color:#4b4b4b;transition:transform .3s ease}.dropdown:hover span{transform:rotate(180deg)}span{display:inline-block;transition:transform .3s ease}.dropdown-content{display:block;position:absolute;background-color:#e9ecf1;min-width:190px;box-shadow:0 8px 16px #41382dcb;z-index:1001;padding:5px;border-radius:5px}.dropdown-content label{display:block;padding:5px;cursor:pointer;font-size:15px}.dropdown-content label:hover{background-image:linear-gradient(to right,#524c4c,#c79898);border-radius:0 13px 13px 0;color:#fff;transform:scale(1.04);transition:transform .2s ease,background-color .3s ease,color .3s ease}.map-frame{border:2px solid #333;border-radius:5px;overflow:hidden;height:100%}#map{min-height:570px;height:100%}.info{padding:10px;font-size:12px;background-color:#ffffffe6;border:1px solid #ccc;border-radius:5px;box-shadow:0 1px 5px #0000004d;max-width:200px}.info h4{margin:0 0 10px;color:#333}.legend{line-height:20px;color:#555;padding:5px;background:#fffc;border-radius:20px;box-shadow:0 1px 5px #0003}.legend i{border-radius:0 25px 25px 0;width:30px;height:15px;float:left;margin-right:10px;opacity:.7}.legend i:hover{opacity:1}.leaflet-control{background:#fffc;box-shadow:0 2px 5px #0003;border-radius:5px;margin-bottom:.2em;margin-left:3px;margin-right:10px}.leaflet-control-layers-overlays input,.leaflet-control-layers-base input{margin-right:8px;background-color:green}.leaflet-control-layers-overlays label,.leaflet-control-layers-base label{padding-left:3px}.leaflet-control-fullscreen{position:sticky;right:-10px;top:-50%;z-index:1000}.customPopup{max-width:220px;font-family:Arial,sans-serif}.customPopup figure{margin:0}.customPopup figure img{width:100%;height:auto;border-radius:5px;display:block}.customPopup figure figcaption{text-align:center;font-size:.8em}.customPopup div{margin-top:5px}.customPopup div a{color:#00f;text-decoration:underline}.pulse{display:block;border-radius:100%;cursor:pointer;animation:pulse 2s infinite}.details,.affected-brgy-details{width:200px}.barangay-label{background-color:#fffc;border:1px solid #333;border-radius:4px;padding:5px;font-size:12px;font-weight:700;text-align:center;white-space:nowrap}@keyframes pulse{0%{box-shadow:0 0}70%{box-shadow:0 0 0 10px #0000}to{box-shadow:0 0 #0000}}.introjs-tooltip{background:linear-gradient(to bottom right,#4c5f74,#2b3e50);color:#fff;font-family:Lato,sans-serif;text-align:justify;padding:10px;border-radius:15px;width:800px}.introjs-progress{background-color:#4caf50}.introjs-nextbutton,.introjs-prevbutton{background-color:#007bff;color:#fff;border:none;transition:background-color .3s ease;font-size:14px;outline:none;border-radius:15px}.introjs-nextbutton:hover,.introjs-prevbutton:hover{color:#fff;border:none;background-color:#0056b3;outline:none}.tooltip-content{align-items:center;gap:2px}.welcome-image{height:200px;margin:5px 0;align-items:center;border-radius:2px}.customTooltip{max-width:500px;text-align:left}.minimized{max-height:0;overflow:hidden;transition:max-height .3s ease}.minimized.expanded{max-height:500px}.map-toggle-icon{background-color:#fff;border-radius:50%;box-shadow:0 2px 4px #2f2f2f33;width:30px;height:30px;display:flex;align-items:center;justify-content:center}@media (max-width: 640px){#map{min-height:400px;height:100%}nav{overflow-y:auto}}\n"],encapsulation:2})}return l})()},6116:()=>{L.Control.Fullscreen=L.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(at){var J=L.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=L.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",J),this.link.href="#",this._map=at,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(this.link,"click",this._click,this),J},_click:function(at){L.DomEvent.stopPropagation(at),L.DomEvent.preventDefault(at),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),L.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(at){var J=this.getContainer();this.isFullscreen()?at&&at.pseudoFullscreen?this._disablePseudoFullscreen(J):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(J):at&&at.pseudoFullscreen?this._enablePseudoFullscreen(J):J.requestFullscreen?J.requestFullscreen():J.mozRequestFullScreen?J.mozRequestFullScreen():J.webkitRequestFullscreen?J.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):J.msRequestFullscreen?J.msRequestFullscreen():this._enablePseudoFullscreen(J)},_enablePseudoFullscreen:function(at){L.DomUtil.addClass(at,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(at){L.DomUtil.removeClass(at,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(at){this._isFullscreen=at;var J=this.getContainer();at?L.DomUtil.addClass(J,"leaflet-fullscreen-on"):L.DomUtil.removeClass(J,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(at){var J=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;J!==this.getContainer()||this._isFullscreen?J!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),L.Map.mergeOptions({fullscreenControl:!1}),L.Map.addInitHook(function(){var at;if(this.options.fullscreenControl&&(this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?at="fullscreenchange":"onmozfullscreenchange"in document?at="mozfullscreenchange":"onwebkitfullscreenchange"in document?at="webkitfullscreenchange":"onmsfullscreenchange"in document&&(at="MSFullscreenChange"),at){var J=L.bind(this._onFullscreenChange,this);this.whenReady(function(){L.DomEvent.on(document,at,J)}),this.on("unload",function(){L.DomEvent.off(document,at,J)})}}),L.control.fullscreen=function(at){return new L.Control.Fullscreen(at)}},8910:(at,J,C)=>{var a,F,U,M,B;M=function(M){var B=M.Control.extend({includes:M.Evented?M.Evented.prototype:M.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(P,z){M.Util.setOptions(this,z),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=P},onAdd:function(P){this._mainMap=P,this._container=M.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",M.DomEvent.disableClickPropagation(this._container),M.DomEvent.on(this._container,"mousewheel",M.DomEvent.stopPropagation);var z={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:P.options.crs};return z=M.Util.extend(this.options.mapOptions,z),this._miniMap=new M.Map(this._container,z),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(M.Util.bind(function(){this._aimingRect=M.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=M.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(P){M.Control.prototype.addTo.call(this,P);var z=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(z,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(P){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(P){this._miniMap.removeLayer(this._layer),this._layer=P,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(P,z,ot,I,ut,It){var gt=M.DomUtil.create("a",ot,I);gt.innerHTML=P,gt.href="#",gt.title=z;var st=M.DomEvent.stopPropagation;return M.DomEvent.on(gt,"click",st).on(gt,"mousedown",st).on(gt,"dblclick",st).on(gt,"click",M.DomEvent.preventDefault).on(gt,"click",ut,It),gt},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(P){P!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(P){if(this._miniMapMoving)this._miniMapMoving=!1;else{var z=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(z,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(P){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(P){if(!this.options.centerFixed){var z=this._aimingRect.getBounds(),ot=this._miniMap.latLngToContainerPoint(z.getSouthWest()),I=this._miniMap.latLngToContainerPoint(z.getNorthEast());this._lastAimingRectPosition={sw:ot,ne:I}}},_onMiniMapMoving:function(P){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new M.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(P){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var P=this.options.zoomLevelFixed;return this._isDefined(P)&&this._isInteger(P)},_decideZoom:function(P){if(this._isZoomLevelFixed())return P?this.options.zoomLevelFixed:this._mainMap.getZoom();if(P)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var I,z=this._miniMap.getZoom()-this._mainMap.getZoom(),ot=this._miniMap.getZoom()-this.options.zoomLevelOffset;return z>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(I=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):I=this._mainMap.getZoom():I=ot,this._lastMiniMapZoom=this._miniMap.getZoom(),I},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(P){return"number"==typeof P},_isDefined:function(P){return typeof P<"u"},_onToggle:function(){M.Util.requestAnimFrame(function(){M.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),M.Browser.any3d||M.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){M.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var P={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",P),this.fire("toggle",P)}});return M.Map.mergeOptions({miniMapControl:!1}),M.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new B).addTo(this))}),B},B=window,F=[C(8244)],void 0!==(U="function"==typeof(a=M)?a.apply(J,F):a)&&(at.exports=U),typeof B<"u"&&B.L&&(B.L.Control.MiniMap=M(L),B.L.control.minimap=function(P,z){return new B.L.Control.MiniMap(P,z)})},4757:function(){!function(at,J){"use strict";L.AwesomeMarkers={},L.AwesomeMarkers.version="2.0.1",L.AwesomeMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"awesome-marker",prefix:"glyphicon",spinClass:"fa-spin",extraClasses:"",icon:"home",markerColor:"blue",iconColor:"white"},initialize:function(a){a=L.Util.setOptions(this,a)},createIcon:function(){var a=J.createElement("div"),F=this.options;return F.icon&&(a.innerHTML=this._createInner()),F.bgPos&&(a.style.backgroundPosition=-F.bgPos.x+"px "+-F.bgPos.y+"px"),this._setIconStyles(a,"icon-"+F.markerColor),a},_createInner:function(){var a,F="",U="",M="",B=this.options;return a=B.icon.slice(0,B.prefix.length+1)===B.prefix+"-"?B.icon:B.prefix+"-"+B.icon,B.spin&&"string"==typeof B.spinClass&&(F=B.spinClass),B.iconColor&&("white"===B.iconColor||"black"===B.iconColor?U="icon-"+B.iconColor:M="style='color: "+B.iconColor+"' "),"<i "+M+"class='"+B.extraClasses+" "+B.prefix+" "+a+" "+F+" "+U+"'></i>"},_setIconStyles:function(a,F){var B,U=this.options,M=L.point(U["shadow"===F?"shadowSize":"iconSize"]);!(B="shadow"===F?L.point(U.shadowAnchor||U.iconAnchor):L.point(U.iconAnchor))&&M&&(B=M.divideBy(2,!0)),a.className="awesome-marker-"+F+" "+U.className,B&&(a.style.marginLeft=-B.x+"px",a.style.marginTop=-B.y+"px"),M&&(a.style.width=M.x+"px",a.style.height=M.y+"px")},createShadow:function(){var a=J.createElement("div");return this._setIconStyles(a,"shadow"),a}}),L.AwesomeMarkers.icon=function(a){return new L.AwesomeMarkers.Icon(a)}}(0,document)},8244:function(at,J){!function(C){"use strict";function F(t){var e,i,s,c;for(i=1,s=arguments.length;i<s;i++)for(e in c=arguments[i])t[e]=c[e];return t}var U=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function M(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var s=i.call(arguments,2);return function(){return t.apply(e,s.length?s.concat(i.call(arguments)):arguments)}}var B=0;function P(t){return"_leaflet_id"in t||(t._leaflet_id=++B),t._leaflet_id}function z(t,e,i){var s,c,m,v;return v=function(){s=!1,c&&(m.apply(i,c),c=!1)},m=function(){s?c=arguments:(t.apply(i,arguments),setTimeout(v,e),s=!0)},m}function ot(t,e,i){var s=e[1],c=e[0],m=s-c;return t===s&&i?t:((t-c)%m+m)%m+c}function I(){return!1}function ut(t,e){if(!1===e)return t;var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function It(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function gt(t){return It(t).split(/\s+/)}function st(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?U(t.options):{}),e)t.options[i]=e[i];return t.options}function Et(t,e,i){var s=[];for(var c in t)s.push(encodeURIComponent(i?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(e&&-1!==e.indexOf("?")?"&":"?")+s.join("&")}var Me=/\{ *([\w_ -]+) *\}/g;function Ne(t,e){return t.replace(Me,function(i,s){var c=e[s];if(void 0===c)throw new Error("No value provided for variable "+i);return"function"==typeof c&&(c=c(e)),c})}var Tt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function je(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var ze="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Xe=0;function Ze(t){var e=+new Date,i=Math.max(0,16-(e-Xe));return Xe=e+i,window.setTimeout(t,i)}var W=window.requestAnimationFrame||x("RequestAnimationFrame")||Ze,tt=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function pt(t,e,i){if(!i||W!==Ze)return W.call(window,M(t,e));t.call(e)}function Q(t){t&&tt.call(window,t)}var Rt={__proto__:null,extend:F,create:U,bind:M,get lastId(){return B},stamp:P,throttle:z,wrapNum:ot,falseFn:I,formatNum:ut,trim:It,splitWords:gt,setOptions:st,getParamString:Et,template:Ne,isArray:Tt,indexOf:je,emptyImageUrl:ze,requestFn:W,cancelFn:tt,requestAnimFrame:pt,cancelAnimFrame:Q};function Ht(){}Ht.extend=function(t){var e=function(){st(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,s=U(i);for(var c in s.constructor=e,e.prototype=s,this)Object.prototype.hasOwnProperty.call(this,c)&&"prototype"!==c&&"__super__"!==c&&(e[c]=this[c]);return t.statics&&F(e,t.statics),t.includes&&(function me(t){if(!(typeof L>"u")&&L&&L.Mixin){t=Tt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),F.apply(null,[s].concat(t.includes))),F(s,t),delete s.statics,delete s.includes,s.options&&(s.options=i.options?U(i.options):{},F(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,v=s._initHooks.length;m<v;m++)s._initHooks[m].call(this)}},e},Ht.include=function(t){var e=this.prototype.options;return F(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Ht.mergeOptions=function(t){return F(this.prototype.options,t),this},Ht.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var St={on:function(t,e,i){if("object"==typeof t)for(var s in t)this._on(s,t[s],e);else for(var c=0,m=(t=gt(t)).length;c<m;c++)this._on(t[c],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var s in t)this._off(s,t[s],e);else{t=gt(t);for(var c=1===arguments.length,m=0,v=t.length;m<v;m++)c?this._off(t[m]):this._off(t[m],e,i)}else delete this._events;return this},_on:function(t,e,i,s){if("function"==typeof e){if(!1===this._listens(t,e,i)){i===this&&(i=void 0);var c={fn:e,ctx:i};s&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,i){var s,c,m;if(this._events&&(s=this._events[t])){if(1===arguments.length){if(this._firingCount)for(c=0,m=s.length;c<m;c++)s[c].fn=I;return void delete this._events[t]}if("function"!=typeof e)return void console.warn("wrong listener type: "+typeof e);var v=this._listens(t,e,i);!1!==v&&(this._firingCount&&(s[v].fn=I,this._events[t]=s=s.slice()),s.splice(v,1))}},fire:function(t,e,i){if(!this.listens(t,i))return this;var s=F({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var m=0,v=c.length;m<v;m++){var w=c[m],E=w.fn;w.once&&this.off(t,E,w.ctx),E.call(w.ctx||this,s)}this._firingCount--}}return i&&this._propagateEvent(s),this},listens:function(t,e,i,s){"string"!=typeof t&&console.warn('"string" type argument expected');var c=e;"function"!=typeof e&&(s=!!e,c=void 0,i=void 0);var m=this._events&&this._events[t];if(m&&m.length&&!1!==this._listens(t,c,i))return!0;if(s)for(var v in this._eventParents)if(this._eventParents[v].listens(t,e,i,s))return!0;return!1},_listens:function(t,e,i){if(!this._events)return!1;var s=this._events[t]||[];if(!e)return!!s.length;i===this&&(i=void 0);for(var c=0,m=s.length;c<m;c++)if(s[c].fn===e&&s[c].ctx===i)return c;return!1},once:function(t,e,i){if("object"==typeof t)for(var s in t)this._on(s,t[s],e,!0);else for(var c=0,m=(t=gt(t)).length;c<m;c++)this._on(t[c],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[P(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[P(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,F({layer:t.target,propagatedFrom:t.target},t),!0)}};St.addEventListener=St.on,St.removeEventListener=St.clearAllEventListeners=St.off,St.addOneTimeEventListener=St.once,St.fireEvent=St.fire,St.hasEventListeners=St.listens;var Kt=Ht.extend(St);function q(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var Pi=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function et(t,e,i){return t instanceof q?t:Tt(t)?new q(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new q(t.x,t.y):new q(t,e,i)}function Pt(t,e){if(t)for(var i=e?[t,e]:t,s=0,c=i.length;s<c;s++)this.extend(i[s])}function Vt(t,e){return!t||t instanceof Pt?t:new Pt(t,e)}function Ut(t,e){if(t)for(var i=e?[t,e]:t,s=0,c=i.length;s<c;s++)this.extend(i[s])}function Lt(t,e){return t instanceof Ut?t:new Ut(t,e)}function bt(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function lt(t,e,i){return t instanceof bt?t:Tt(t)&&"object"!=typeof t[0]?3===t.length?new bt(t[0],t[1],t[2]):2===t.length?new bt(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new bt(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new bt(t,e,i)}q.prototype={clone:function(){return new q(this.x,this.y)},add:function(t){return this.clone()._add(et(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(et(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new q(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new q(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pi(this.x),this.y=Pi(this.y),this},distanceTo:function(t){var e=(t=et(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=et(t)).x===this.x&&t.y===this.y},contains:function(t){return t=et(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+ut(this.x)+", "+ut(this.y)+")"}},Pt.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof q||"number"==typeof t[0]||"x"in t)e=i=et(t);else if(i=(t=Vt(t)).max,!(e=t.min)||!i)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone()),this},getCenter:function(t){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof q?et(t):Vt(t))instanceof Pt?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Vt(t);var e=this.min,i=this.max,s=t.min,c=t.max;return c.x>=e.x&&s.x<=i.x&&c.y>=e.y&&s.y<=i.y},overlaps:function(t){t=Vt(t);var e=this.min,i=this.max,s=t.min,c=t.max;return c.x>e.x&&s.x<i.x&&c.y>e.y&&s.y<i.y},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,s=Math.abs(e.x-i.x)*t,c=Math.abs(e.y-i.y)*t;return Vt(et(e.x-s,e.y-c),et(i.x+s,i.y+c))},equals:function(t){return!!t&&(t=Vt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},Ut.prototype={extend:function(t){var s,c,e=this._southWest,i=this._northEast;if(t instanceof bt)s=t,c=t;else{if(!(t instanceof Ut))return t?this.extend(lt(t)||Lt(t)):this;if(c=t._northEast,!(s=t._southWest)||!c)return this}return e||i?(e.lat=Math.min(s.lat,e.lat),e.lng=Math.min(s.lng,e.lng),i.lat=Math.max(c.lat,i.lat),i.lng=Math.max(c.lng,i.lng)):(this._southWest=new bt(s.lat,s.lng),this._northEast=new bt(c.lat,c.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,s=Math.abs(e.lat-i.lat)*t,c=Math.abs(e.lng-i.lng)*t;return new Ut(new bt(e.lat-s,e.lng-c),new bt(i.lat+s,i.lng+c))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof bt||"lat"in t?lt(t):Lt(t);var s,c,e=this._southWest,i=this._northEast;return t instanceof Ut?(s=t.getSouthWest(),c=t.getNorthEast()):s=c=t,s.lat>=e.lat&&c.lat<=i.lat&&s.lng>=e.lng&&c.lng<=i.lng},intersects:function(t){t=Lt(t);var e=this._southWest,i=this._northEast,s=t.getSouthWest(),c=t.getNorthEast();return c.lat>=e.lat&&s.lat<=i.lat&&c.lng>=e.lng&&s.lng<=i.lng},overlaps:function(t){t=Lt(t);var e=this._southWest,i=this._northEast,s=t.getSouthWest(),c=t.getNorthEast();return c.lat>e.lat&&s.lat<i.lat&&c.lng>e.lng&&s.lng<i.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=Lt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},bt.prototype={equals:function(t,e){return!!t&&(t=lt(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+ut(this.lat,t)+", "+ut(this.lng,t)+")"},distanceTo:function(t){return Ie.distance(this,lt(t))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return Lt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};var t,ae={latLngToPoint:function(t,e){var i=this.projection.project(t),s=this.scale(e);return this.transformation._transform(i,s)},pointToLatLng:function(t,e){var i=this.scale(e),s=this.transformation.untransform(t,i);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new Pt(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?ot(t.lng,this.wrapLng,!0):t.lng;return new bt(this.wrapLat?ot(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),s=e.lat-i.lat,c=e.lng-i.lng;if(0===s&&0===c)return t;var m=t.getSouthWest(),v=t.getNorthEast();return new Ut(new bt(m.lat-s,m.lng-c),new bt(v.lat-s,v.lng-c))}},Ie=F({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,s=t.lat*i,c=e.lat*i,m=Math.sin((e.lat-t.lat)*i/2),v=Math.sin((e.lng-t.lng)*i/2),w=m*m+Math.cos(s)*Math.cos(c)*v*v,E=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*E}}),Ki={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,s=Math.max(Math.min(i,t.lat),-i),c=Math.sin(s*e);return new q(this.R*t.lng*e,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var e=180/Math.PI;return new bt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(t=6378137*Math.PI,new Pt([-t,-t],[t,t]))};function Xi(t,e,i,s){if(Tt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=s}function _e(t,e,i,s){return new Xi(t,e,i,s)}Xi.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new q((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var mt=F({},Ie,{code:"EPSG:3857",projection:Ki,transformation:function(){var t=.5/(Math.PI*Ki.R);return _e(t,.5,-t,.5)}()}),yt=F({},mt,{code:"EPSG:900913"});function qi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ji(t,e){var s,c,m,v,w,E,i="";for(s=0,m=t.length;s<m;s++){for(c=0,v=(w=t[s]).length;c<v;c++)i+=(c?"L":"M")+(E=w[c]).x+" "+E.y;i+=e?G.svg?"z":"x":""}return i||"M0 0"}var Qi=document.documentElement.style,He="ActiveXObject"in window,tn=He&&!document.addEventListener,ie="msLaunchUri"in navigator&&!("documentMode"in document),Ct=le("webkit"),ne=le("android"),Si=le("android 2")||le("android 3"),$n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),en=ne&&le("Google")&&$n<537&&!("AudioNode"in window),Mi=!!window.opera,qe=!ie&&le("chrome"),di=le("gecko")&&!Ct&&!Mi&&!He,Je=!qe&&le("safari"),Ii=le("phantom"),ge="OTransition"in Qi,ve=0===navigator.platform.indexOf("Win"),ui=He&&"transition"in Qi,Qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Si,oe="MozPerspective"in Qi,Go=!window.L_DISABLE_3D&&(ui||Qe||oe)&&!ge&&!Ii,ye=typeof orientation<"u"||le("mobile"),nn=ye&&Ct,ct=ye&&Qe,on=!window.PointerEvent&&window.MSPointerEvent,sn=!(!window.PointerEvent&&!on),rn="ontouchstart"in window||!!window.TouchEvent,Kn=!window.L_NO_TOUCH&&(rn||sn),Xn=ye&&Mi,Wo=ye&&di,Yo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ve=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",I,e),window.removeEventListener("testPassiveEventSupport",I,e)}catch{}return t}(),Li=!!document.createElement("canvas").getContext,Oi=!(!document.createElementNS||!qi("svg").createSVGRect),an=!!Oi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),ti=!Oi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch{return!1}}();function le(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var G={ie:He,ielt9:tn,edge:ie,webkit:Ct,android:ne,android23:Si,androidStock:en,opera:Mi,chrome:qe,gecko:di,safari:Je,phantom:Ii,opera12:ge,win:ve,ie3d:ui,webkit3d:Qe,gecko3d:oe,any3d:Go,mobile:ye,mobileWebkit:nn,mobileWebkit3d:ct,msPointer:on,pointer:sn,touch:Kn,touchNative:rn,mobileOpera:Xn,mobileGecko:Wo,retina:Yo,passiveEvents:Ve,canvas:Li,svg:Oi,vml:ti,inlineSvg:an,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},cn=G.msPointer?"MSPointerDown":"pointerdown",qn=G.msPointer?"MSPointerMove":"pointermove",hn=G.msPointer?"MSPointerUp":"pointerup",dn=G.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:cn,touchmove:qn,touchend:hn,touchcancel:dn},un={touchstart:function fn(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ft(e),ii(t,e)},touchmove:ii,touchend:ii,touchcancel:ii},be={},pn=!1;function Jn(t,e,i){return"touchstart"===e&&function eo(){pn||(document.addEventListener(cn,pi,!0),document.addEventListener(qn,Ue,!0),document.addEventListener(hn,to,!0),document.addEventListener(dn,to,!0),pn=!0)}(),un[e]?(i=un[e].bind(this,i),t.addEventListener(ei[e],i,!1),i):(console.warn("wrong event specified:",e),I)}function pi(t){be[t.pointerId]=t}function Ue(t){be[t.pointerId]&&(be[t.pointerId]=t)}function to(t){delete be[t.pointerId]}function ii(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],be)e.touches.push(be[i]);e.changedTouches=[e],t(e)}}var Ko=200;var we,ce,he,rt,Ot,u=Jt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),h=Jt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),f="webkitTransition"===h||"OTransition"===h?h+"End":"transitionend";function _(t){return"string"==typeof t?document.getElementById(t):t}function y(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);i=s?s[e]:null}return"auto"===i?null:i}function b(t,e,i){var s=document.createElement(t);return s.className=e||"",i&&i.appendChild(s),s}function T(t){var e=t.parentNode;e&&e.removeChild(t)}function D(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function j(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function O(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Z(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ft(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function R(t,e){if(void 0!==t.classList)for(var i=gt(e),s=0,c=i.length;s<c;s++)t.classList.add(i[s]);else if(!Z(t,e)){var m=ft(t);vt(t,(m?m+" ":"")+e)}}function Y(t,e){void 0!==t.classList?t.classList.remove(e):vt(t,It((" "+ft(t)+" ").replace(" "+e+" "," ")))}function vt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ft(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function _t(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function Gt(t,e){var i=!1,s="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(s)}catch{if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+s+"(opacity="+e+")"}(t,e)}function Jt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Wt(t,e,i){var s=e||new q(0,0);t.style[u]=(G.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(i?" scale("+i+")":"")}function wt(t,e){t._leaflet_pos=e,G.any3d?Wt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Nt(t){return t._leaflet_pos||new q(0,0)}if("onselectstart"in document)we=function(){it(window,"selectstart",Ft)},ce=function(){kt(window,"selectstart",Ft)};else{var de=Jt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);we=function(){if(de){var t=document.documentElement.style;he=t[de],t[de]="none"}},ce=function(){de&&(document.documentElement.style[de]=he,he=void 0)}}function Le(){it(window,"dragstart",Ft)}function Ce(){kt(window,"dragstart",Ft)}function Dt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Qt(),rt=t,Ot=t.style.outlineStyle,t.style.outlineStyle="none",it(window,"keydown",Qt))}function Qt(){rt&&(rt.style.outlineStyle=Ot,rt=void 0,Ot=void 0,kt(window,"keydown",Qt))}function fi(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function mn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var _n={__proto__:null,TRANSFORM:u,TRANSITION:h,TRANSITION_END:f,get:_,getStyle:y,create:b,remove:T,empty:D,toFront:j,toBack:O,hasClass:Z,addClass:R,removeClass:Y,setClass:vt,getClass:ft,setOpacity:_t,testProp:Jt,setTransform:Wt,setPosition:wt,getPosition:Nt,get disableTextSelection(){return we},get enableTextSelection(){return ce},disableImageDrag:Le,enableImageDrag:Ce,preventOutline:Dt,restoreOutline:Qt,getSizedParentNode:fi,getScale:mn};function it(t,e,i,s){if(e&&"object"==typeof e)for(var c in e)yn(t,c,e[c],i);else for(var m=0,v=(e=gt(e)).length;m<v;m++)yn(t,e[m],i,s);return this}var se="_leaflet_events";function kt(t,e,i,s){if(1===arguments.length)gn(t),delete t[se];else if(e&&"object"==typeof e)for(var c in e)bn(t,c,e[c],i);else if(e=gt(e),2===arguments.length)gn(t,function(w){return-1!==je(e,w)});else for(var m=0,v=e.length;m<v;m++)bn(t,e[m],i,s);return this}function gn(t,e){for(var i in t[se]){var s=i.split(/\d/)[0];(!e||e(s))&&bn(t,s,null,null,i)}}var vn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yn(t,e,i,s){var c=e+P(i)+(s?"_"+P(s):"");if(t[se]&&t[se][c])return this;var m=function(w){return i.call(s||t,w||window.event)},v=m;!G.touchNative&&G.pointer&&0===e.indexOf("touch")?m=Jn(t,e,m):G.touch&&"dblclick"===e?m=function Xo(t,e){t.addEventListener("dblclick",e);var s,i=0;function c(m){if(1===m.detail){if("mouse"!==m.pointerType&&(!m.sourceCapabilities||m.sourceCapabilities.firesTouchEvents)){var v=wn(m);if(!v.some(function(E){return E instanceof HTMLLabelElement&&E.attributes.for})||v.some(function(E){return E instanceof HTMLInputElement||E instanceof HTMLSelectElement})){var w=Date.now();w-i<=Ko?2==++s&&e(function io(t){var i,s,e={};for(s in t)e[s]=(i=t[s])&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}(m)):s=1,i=w}}}else s=m.detail}return t.addEventListener("click",c),{dblclick:e,simDblclick:c}}(t,m):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(vn[e]||e,m,!!G.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?t.addEventListener(vn[e],m=function(w){w=w||window.event,Ai(t,w)&&v(w)},!1):t.addEventListener(e,v,!1):t.attachEvent("on"+e,m),t[se]=t[se]||{},t[se][c]=m}function bn(t,e,i,s,c){c=c||e+P(i)+(s?"_"+P(s):"");var m=t[se]&&t[se][c];if(!m)return this;!G.touchNative&&G.pointer&&0===e.indexOf("touch")?function Qn(t,e,i){ei[e]?t.removeEventListener(ei[e],i,!1):console.warn("wrong event specified:",e)}(t,e,m):G.touch&&"dblclick"===e?function l(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,m):"removeEventListener"in t?t.removeEventListener(vn[e]||e,m,!1):t.detachEvent("on"+e,m),t[se][c]=null}function Oe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function mi(t){return yn(t,"wheel",Oe),this}function ni(t){return it(t,"mousedown touchstart dblclick contextmenu",Oe),t._leaflet_disable_click=!0,this}function Ft(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ge(t){return Ft(t),Oe(t),this}function wn(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Di(t,e){if(!e)return new q(t.clientX,t.clientY);var i=mn(e),s=i.boundingClientRect;return new q((t.clientX-s.left)/i.x-e.clientLeft,(t.clientY-s.top)/i.y-e.clientTop)}var Cn=G.linux&&G.chrome?window.devicePixelRatio:G.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function no(t){return G.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Cn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ai(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var oo={__proto__:null,on:it,off:kt,stopPropagation:Oe,disableScrollPropagation:mi,disableClickPropagation:ni,preventDefault:Ft,stop:Ge,getPropagationPath:wn,getMousePosition:Di,getWheelDelta:no,isExternalTarget:Ai,addListener:it,removeListener:kt},so=Kt.extend({run:function(t,e,i,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=Nt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),wt(this._el,i),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ht=Kt.extend({options:{crs:mt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=st(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=M(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(lt(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=h&&G.any3d&&!G.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),it(this._proxy,f,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(lt(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=F({animate:i.animate},i.zoom),i.pan=F({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(G.any3d?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(G.any3d?this.options.zoomDelta:1)),e)},setZoomAround:function(t,e,i){var s=this.getZoomScale(e),c=this.getSize().divideBy(2),v=(t instanceof q?t:this.latLngToContainerPoint(t)).subtract(c).multiplyBy(1-1/s),w=this.containerPointToLatLng(c.add(v));return this.setView(w,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Lt(t);var i=et(e.paddingTopLeft||e.padding||[0,0]),s=et(e.paddingBottomRight||e.padding||[0,0]),c=this.getBoundsZoom(t,!1,i.add(s));if((c="number"==typeof e.maxZoom?Math.min(e.maxZoom,c):c)===1/0)return{center:t.getCenter(),zoom:c};var m=s.subtract(i).divideBy(2),v=this.project(t.getSouthWest(),c),w=this.project(t.getNorthEast(),c);return{center:this.unproject(v.add(w).divideBy(2).add(m),c),zoom:c}},fitBounds:function(t,e){if(!(t=Lt(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=et(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){R(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!G.any3d)return this.setView(t,e,i);this._stop();var s=this.project(this.getCenter()),c=this.project(t),m=this.getSize(),v=this._zoom;t=lt(t),e=void 0===e?v:e;var w=Math.max(m.x,m.y),E=w*this.getZoomScale(v,e),S=c.distanceTo(s)||1,N=1.42,X=N*N;function nt(Mt){var Yi=(E*E-w*w+(Mt?-1:1)*X*X*S*S)/(2*(Mt?E:w)*X*S),Un=Math.sqrt(Yi*Yi+1)-Yi;return Un<1e-9?-18:Math.log(Un)}function Bt(Mt){return(Math.exp(Mt)-Math.exp(-Mt))/2}function At(Mt){return(Math.exp(Mt)+Math.exp(-Mt))/2}var jt=nt(0);function Bo(Mt){return w*(At(jt)*function Xt(Mt){return Bt(Mt)/At(Mt)}(jt+N*Mt)-Bt(jt))/X}var ds=Date.now(),No=(nt(1)-jt)/N,us=i.duration?1e3*i.duration:1e3*No*.8;return this._moveStart(!0,i.noMoveStart),function jo(){var Mt=(Date.now()-ds)/us,Wi=function hs(Mt){return 1-Math.pow(1-Mt,1.5)}(Mt)*No;Mt<=1?(this._flyToFrame=pt(jo,this),this._move(this.unproject(s.add(c.subtract(s).multiplyBy(Bo(Wi)/S)),v),this.getScaleZoom(w/function li(Mt){return w*(At(jt)/At(jt+N*Mt))}(Wi),v),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=Lt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),s=this._limitCenter(i,this._zoom,Lt(t));return i.equals(s)||this.panTo(s,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=et((e=e||{}).paddingTopLeft||e.padding||[0,0]),s=et(e.paddingBottomRight||e.padding||[0,0]),c=this.project(this.getCenter()),m=this.project(t),v=this.getPixelBounds(),w=Vt([v.min.add(i),v.max.subtract(s)]),E=w.getSize();if(!w.contains(m)){this._enforcingBounds=!0;var S=m.subtract(w.getCenter()),N=w.extend(m).getSize().subtract(E);c.x+=S.x<0?-N.x:N.x,c.y+=S.y<0?-N.y:N.y,this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=F({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),s=e.divideBy(2).round(),c=i.divideBy(2).round(),m=s.subtract(c);return m.x||m.y?(t.animate&&t.pan?this.panBy(m):(t.pan&&this._rawPanBy(m),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(M(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=F({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=M(this._handleGeolocationResponse,this),i=M(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=new bt(t.coords.latitude,t.coords.longitude),c=s.toBounds(2*t.coords.accuracy),m=this._locateOptions;if(m.setView){var v=this.getBoundsZoom(c);this.setView(s,m.maxZoom?Math.min(v,m.maxZoom):v)}var w={latlng:s,bounds:c,timestamp:t.timestamp};for(var E in t.coords)"number"==typeof t.coords[E]&&(w[E]=t.coords[E]);this.fire("locationfound",w)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),T(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)T(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var s=b("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new Ut(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=Lt(t),i=et(i||[0,0]);var s=this.getZoom()||0,c=this.getMinZoom(),m=this.getMaxZoom(),v=t.getNorthWest(),w=t.getSouthEast(),E=this.getSize().subtract(i),S=Vt(this.project(w,s),this.project(v,s)).getSize(),N=G.any3d?this.options.zoomSnap:1,X=E.x/S.x,nt=E.y/S.y,Bt=e?Math.max(X,nt):Math.min(X,nt);return s=this.getScaleZoom(Bt,s),N&&(s=Math.round(s/(N/100))*(N/100),s=e?Math.ceil(s/N)*N:Math.floor(s/N)*N),Math.max(c,Math.min(m,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new Pt(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs,s=i.zoom(t*i.scale(e=void 0===e?this._zoom:e));return isNaN(s)?1/0:s},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(lt(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(et(t),e)},layerPointToLatLng:function(t){var e=et(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(lt(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(lt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Lt(t))},distance:function(t,e){return this.options.crs.distance(lt(t),lt(e))},containerPointToLayerPoint:function(t){return et(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return et(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(et(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(lt(t)))},mouseEventToContainerPoint:function(t){return Di(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=_(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");it(e,"scroll",this._onScroll,this),this._containerId=P(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&G.any3d,R(t,"leaflet-container"+(G.touch?" leaflet-touch":"")+(G.retina?" leaflet-retina":"")+(G.ielt9?" leaflet-oldie":"")+(G.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=y(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wt(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(R(t.markerPane,"leaflet-zoom-hide"),R(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){wt(this._mapPane,new q(0,0));var s=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var c=this._zoom!==e;this._moveStart(c,i)._move(t,e)._moveEnd(c),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,s){void 0===e&&(e=this._zoom);var c=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?i&&i.pinch&&this.fire("zoom",i):((c||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){wt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[P(this._container)]=this;var e=t?kt:it;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),G.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var s,i=[],c="mouseout"===e||"mouseover"===e,m=t.target||t.srcElement,v=!1;m;){if((s=this._targets[P(m)])&&("click"===e||"preclick"===e)&&this._draggableMoved(s)){v=!0;break}if(s&&s.listens(e,!0)&&(c&&!Ai(m,t)||(i.push(s),c))||m===this._container)break;m=m.parentNode}return!i.length&&!v&&!c&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var i=t.type;"mousedown"===i&&Dt(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var s=F({},t);s.type="preclick",this._fireDOMEvent(s,s.type,i)}var c=this._findEventTargets(t,e);if(i){for(var m=[],v=0;v<i.length;v++)i[v].listens(e,!0)&&m.push(i[v]);c=m.concat(c)}if(c.length){"contextmenu"===e&&Ft(t);var w=c[0],E={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var S=w.getLatLng&&(!w._radius||w._radius<=10);E.containerPoint=S?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(t),E.layerPoint=this.containerPointToLayerPoint(E.containerPoint),E.latlng=S?w.getLatLng():this.layerPointToLatLng(E.layerPoint)}for(v=0;v<c.length;v++)if(c[v].fire(e,E,!0),E.originalEvent._stopped||!1===c[v].options.bubblingMouseEvents&&-1!==je(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Nt(this._mapPane)||new q(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var s=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,e,i){var s=this._getNewPixelOrigin(i,e);return Vt([this.project(t.getSouthWest(),e)._subtract(s),this.project(t.getNorthWest(),e)._subtract(s),this.project(t.getSouthEast(),e)._subtract(s),this.project(t.getNorthEast(),e)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var s=this.project(t,e),c=this.getSize().divideBy(2),m=new Pt(s.subtract(c),s.add(c)),v=this._getBoundsOffset(m,i,e);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?t:this.unproject(s.add(v),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),s=new Pt(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(s,e))},_getBoundsOffset:function(t,e,i){var s=Vt(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),c=s.min.subtract(t.min),m=s.max.subtract(t.max);return new q(this._rebound(c.x,-m.x),this._rebound(c.y,-m.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),s=G.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Y(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=b("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=u,s=this._proxy.style[i];Wt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),s===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){T(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Wt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(e),c=this._getCenterOffset(t)._divideBy(1-1/s);return!(!0!==i.animate&&!this.getSize().contains(c)||(pt(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,s){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,R(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(M(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Y(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var re=Ht.extend({options:{position:"topright"},initialize:function(t){st(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),s=t._controlCorners[i];return R(e,"leaflet-control"),-1!==i.indexOf("bottom")?s.insertBefore(e,s.firstChild):s.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(T(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),_i=function(t){return new re(t)};ht.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=b("div",e+"control-container",this._container);function s(c,m){t[c+m]=b("div",e+c+" "+e+m,i)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)T(this._controlCorners[t]);T(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xn=re.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,s){return i<s?-1:s<i?1:0}},initialize:function(t,e,i){for(var s in st(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[s],s);for(s in e)this._addLayer(e[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return re.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(P(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){R(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(R(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Y(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Y(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=b("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ni(e),mi(e);var s=this._section=b("section",t+"-list");i&&(this._map.on("click",this.collapse,this),it(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=b("a",t+"-toggle",e);c.href="#",c.title="Layers",c.setAttribute("role","button"),it(c,{keydown:function(m){13===m.keyCode&&this._expandSafely()},click:function(m){Ft(m),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=b("div",t+"-base",s),this._separator=b("div",t+"-separator",s),this._overlaysList=b("div",t+"-overlays",s),e.appendChild(s)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&P(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(M(function(s,c){return this.options.sortFunction(s.layer,c.layer,s.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;D(this._baseLayersList),D(this._overlaysList),this._layerControlInputs=[];var t,e,i,s,c=0;for(i=0;i<this._layers.length;i++)this._addItem(s=this._layers[i]),e=e||s.overlay,t=t||!s.overlay,c+=s.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&c>1)?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(P(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=i,s.firstChild},_addItem:function(t){var s,e=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((s=document.createElement("input")).type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=i):s=this._createRadioElement("leaflet-base-layers_"+P(this),i),this._layerControlInputs.push(s),s.layerId=P(t.layer),it(s,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var m=document.createElement("span");return e.appendChild(m),m.appendChild(s),m.appendChild(c),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var e,i,t=this._layerControlInputs,s=[],c=[];this._handlingClick=!0;for(var m=t.length-1;m>=0;m--)i=this._getLayer((e=t[m]).layerId).layer,e.checked?s.push(i):e.checked||c.push(i);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])&&this._map.removeLayer(c[m]);for(m=0;m<s.length;m++)this._map.hasLayer(s[m])||this._map.addLayer(s[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,i,t=this._layerControlInputs,s=this._map.getZoom(),c=t.length-1;c>=0;c--)i=this._getLayer((e=t[c]).layerId).layer,e.disabled=void 0!==i.options.minZoom&&s<i.options.minZoom||void 0!==i.options.maxZoom&&s>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,it(t,"click",Ft),this.expand();var e=this;setTimeout(function(){kt(t,"click",Ft),e._preventClick=!1})}}),Ri=re.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=b("div",e+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,s,c){var m=b("a",i,s);return m.innerHTML=t,m.href="#",m.title=e,m.setAttribute("role","button"),m.setAttribute("aria-label",e),ni(m),it(m,"click",Ge),it(m,"click",c,this),it(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Y(this._zoomInButton,e),Y(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(R(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(R(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ri,this.addControl(this.zoomControl))});var kn=re.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=b("div",e),s=this.options;return this._addScales(s,e+"-line",i),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=b("div",e,i)),t.imperial&&(this._iScale=b("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var i,s,c,e=3.2808399*t;e>5280?(s=this._getRoundNum(i=e/5280),this._updateScale(this._iScale,s+" mi",s/i)):(c=this._getRoundNum(e),this._updateScale(this._iScale,c+" ft",c/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Tn=re.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(G.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){st(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=b("div","leaflet-control-attribution"),ni(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&(new Tn).addTo(this)});re.Layers=xn,re.Zoom=Ri,re.Scale=kn,re.Attribution=Tn,_i.layers=function(t,e,i){return new xn(t,e,i)},_i.zoom=function(t){return new Ri(t)},_i.scale=function(t){return new kn(t)},_i.attribution=function(t){return new Tn(t)};var ue=Ht.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ue.addTo=function(t,e){return t.addHandler(e,this),this};var lo={Events:St},co=G.touch?"touchstart mousedown":"mousedown",De=Kt.extend({options:{clickTolerance:3},initialize:function(t,e,i,s){st(this,s),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(it(this._dragStartTarget,co,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(De._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,co,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Z(this._element,"leaflet-zoom-anim"))){if(t.touches&&1!==t.touches.length)return void(De._dragging===this&&this.finishDrag());if(!(De._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(De._dragging=this,this._preventOutline&&Dt(this._element),Le(),we(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=fi(this._element);this._startPoint=new q(e.clientX,e.clientY),this._startPos=Nt(this._element),this._parentScale=mn(i);var s="mousedown"===t.type;it(document,s?"mousemove":"touchmove",this._onMove,this),it(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new q(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ft(t),this._moved||(this.fire("dragstart"),this._moved=!0,R(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),R(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),wt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Y(document.body,"leaflet-dragging"),this._lastTarget&&(Y(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),Ce(),ce();var e=this._moved&&this._moving;this._moving=!1,De._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ho(t,e,i){var s,m,v,w,E,S,N,X,nt,c=[1,4,2,8];for(m=0,N=t.length;m<N;m++)t[m]._code=Ae(t[m],e);for(w=0;w<4;w++){for(X=c[w],s=[],m=0,v=(N=t.length)-1;m<N;v=m++)S=t[v],(E=t[m])._code&X?S._code&X||((nt=Fi(S,E,X,e,i))._code=Ae(nt,e),s.push(nt)):(S._code&X&&((nt=Fi(S,E,X,e,i))._code=Ae(nt,e),s.push(nt)),s.push(E));t=s}return t}function uo(t,e){var i,s,c,m,v,w,E,S;if(!t||0===t.length)throw new Error("latlngs not passed");te(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=lt([0,0]),nt=Lt(t);nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest())<1700&&(X=Pn(t));var At=t.length,Xt=[];for(i=0;i<At;i++){var jt=lt(t[i]);Xt.push(e.project(lt([jt.lat-X.lat,jt.lng-X.lng])))}for(w=E=S=0,i=0,s=At-1;i<At;s=i++)E+=((c=Xt[i]).x+(m=Xt[s]).x)*(v=c.y*m.x-m.y*c.x),S+=(c.y+m.y)*v,w+=3*v;var li=e.unproject(et(0===w?Xt[0]:[E/w,S/w]));return lt([li.lat+X.lat,li.lng+X.lng])}function Pn(t){for(var e=0,i=0,s=0,c=0;c<t.length;c++){var m=lt(t[c]);e+=m.lat,i+=m.lng,s++}return lt([e/s,i/s])}var mo,ts={__proto__:null,clipPolygon:ho,polygonCenter:uo,centroid:Pn};function po(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function es(t,e){var i=t.length,c=new(typeof Uint8Array<"u"?Uint8Array:Array)(i);c[0]=c[i-1]=1,Mn(t,c,e,0,i-1);var m,v=[];for(m=0;m<i;m++)c[m]&&v.push(t[m]);return v}(t=function is(t,e){for(var i=[t[0]],s=1,c=0,m=t.length;s<m;s++)ns(t[s],t[c])>e&&(i.push(t[s]),c=s);return c<m-1&&i.push(t[m-1]),i}(t,i),i)}function Sn(t,e,i){return Math.sqrt(gi(t,e,i,!0))}function Mn(t,e,i,s,c){var v,w,E,m=0;for(w=s+1;w<=c-1;w++)(E=gi(t[w],t[s],t[c],!0))>m&&(v=w,m=E);m>i&&(e[v]=1,Mn(t,e,i,s,v),Mn(t,e,i,v,c))}function _o(t,e,i,s,c){var w,E,S,m=s?mo:Ae(t,i),v=Ae(e,i);for(mo=v;;){if(!(m|v))return[t,e];if(m&v)return!1;S=Ae(E=Fi(t,e,w=m||v,i,c),i),w===m?(t=E,m=S):(e=E,v=S)}}function Fi(t,e,i,s,c){var S,N,m=e.x-t.x,v=e.y-t.y,w=s.min,E=s.max;return 8&i?(S=t.x+m*(E.y-t.y)/v,N=E.y):4&i?(S=t.x+m*(w.y-t.y)/v,N=w.y):2&i?(S=E.x,N=t.y+v*(E.x-t.x)/m):1&i&&(S=w.x,N=t.y+v*(w.x-t.x)/m),new q(S,N,c)}function Ae(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ns(t,e){var i=e.x-t.x,s=e.y-t.y;return i*i+s*s}function gi(t,e,i,s){var S,c=e.x,m=e.y,v=i.x-c,w=i.y-m,E=v*v+w*w;return E>0&&((S=((t.x-c)*v+(t.y-m)*w)/E)>1?(c=i.x,m=i.y):S>0&&(c+=v*S,m+=w*S)),v=t.x-c,w=t.y-m,s?v*v+w*w:new q(c,m)}function te(t){return!Tt(t[0])||"object"!=typeof t[0][0]&&typeof t[0][0]<"u"}function go(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),te(t)}function In(t,e){var i,s,c,m,v,w,E,S;if(!t||0===t.length)throw new Error("latlngs not passed");te(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var N=lt([0,0]),X=Lt(t);X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest())<1700&&(N=Pn(t));var Bt=t.length,At=[];for(i=0;i<Bt;i++){var Xt=lt(t[i]);At.push(e.project(lt([Xt.lat-N.lat,Xt.lng-N.lng])))}for(i=0,s=0;i<Bt-1;i++)s+=At[i].distanceTo(At[i+1])/2;if(0===s)S=At[0];else for(i=0,m=0;i<Bt-1;i++)if((m+=c=(v=At[i]).distanceTo(w=At[i+1]))>s){S=[w.x-(E=(m-s)/c)*(w.x-v.x),w.y-E*(w.y-v.y)];break}var jt=e.unproject(et(S));return lt([jt.lat+N.lat,jt.lng+N.lng])}var os={__proto__:null,simplify:po,pointToSegmentDistance:Sn,closestPointOnSegment:function fo(t,e,i){return gi(t,e,i)},clipSegment:_o,_getEdgeIntersection:Fi,_getBitCode:Ae,_sqClosestPointOnSegment:gi,isFlat:te,_flat:go,polylineCenter:In},Ln={project:function(t){return new q(t.lng,t.lat)},unproject:function(t){return new bt(t.y,t.x)},bounds:new Pt([-180,-90],[180,90])},On={R:6378137,R_MINOR:6356752.314245179,bounds:new Pt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,s=t.lat*e,c=this.R_MINOR/i,m=Math.sqrt(1-c*c),v=m*Math.sin(s),w=Math.tan(Math.PI/4-s/2)/Math.pow((1-v)/(1+v),m/2);return s=-i*Math.log(Math.max(w,1e-10)),new q(t.lng*e*i,s)},unproject:function(t){for(var S,e=180/Math.PI,i=this.R,s=this.R_MINOR/i,c=Math.sqrt(1-s*s),m=Math.exp(-t.y/i),v=Math.PI/2-2*Math.atan(m),w=0,E=.1;w<15&&Math.abs(E)>1e-7;w++)S=c*Math.sin(v),S=Math.pow((1-S)/(1+S),c/2),v+=E=Math.PI/2-2*Math.atan(m*S)-v;return new bt(v*e,t.x*e/i)}},ss={__proto__:null,LonLat:Ln,Mercator:On,SphericalMercator:Ki},Re=F({},Ie,{code:"EPSG:3395",projection:On,transformation:function(){var t=.5/(Math.PI*On.R);return _e(t,.5,-t,.5)}()}),Bi=F({},Ie,{code:"EPSG:4326",projection:Ln,transformation:_e(1/180,1,-1/180,.5)}),Dn=F({},ae,{projection:Ln,transformation:_e(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,s=e.lat-t.lat;return Math.sqrt(i*i+s*s)},infinite:!0});ae.Earth=Ie,ae.EPSG3395=Re,ae.EPSG3857=mt,ae.EPSG900913=yt,ae.EPSG4326=Bi,ae.Simple=Dn;var Yt=Kt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[P(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[P(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=P(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=P(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return P(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?Tt(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[P(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=P(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var s in this._zoomBoundLayers){var c=this._zoomBoundLayers[s].options;t=void 0===c.minZoom?t:Math.min(t,c.minZoom),e=void 0===c.maxZoom?e:Math.max(e,c.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fe=Yt.extend({initialize:function(t,e){var i,s;if(st(this,e),this._layers={},t)for(i=0,s=t.length;i<s;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i,s,e=Array.prototype.slice.call(arguments,1);for(i in this._layers)(s=this._layers[i])[t]&&s[t].apply(s,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return P(t)}}),dt=Fe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Fe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Fe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ut;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),xe=Ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){st(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(s,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(s.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),s},_setIconStyles:function(t,e){var i=this.options,s=i[e+"Size"];"number"==typeof s&&(s=[s,s]);var c=et(s),m=et("shadow"===e&&i.shadowAnchor||i.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),m&&(t.style.marginLeft=-m.x+"px",t.style.marginTop=-m.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return G.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var oi=xe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof oi.imagePath&&(oi.imagePath=this._detectIconPath()),(this.options.imagePath||oi.imagePath)+xe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,s,c){var m=s.exec(i);return m&&m[c]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=b("div","leaflet-default-icon-path",document.body),e=y(t,"background-image")||y(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),ke=ue.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new De(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),R(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Y(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,s=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,m=Nt(e._icon),v=i.getPixelBounds(),w=i.getPixelOrigin(),E=Vt(v.min._subtract(w).add(c),v.max._subtract(w).subtract(c));if(!E.contains(m)){var S=et((Math.max(E.max.x,m.x)-E.max.x)/(v.max.x-E.max.x)-(Math.min(E.min.x,m.x)-E.min.x)/(v.min.x-E.min.x),(Math.max(E.max.y,m.y)-E.max.y)/(v.max.y-E.max.y)-(Math.min(E.min.y,m.y)-E.min.y)/(v.min.y-E.min.y)).multiplyBy(s);i.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),wt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=pt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=pt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,s=Nt(e._icon),c=e._map.layerPointToLatLng(s);i&&wt(i,s),e._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),vi=Yt.extend({options:{icon:new oi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){st(this,e),this._latlng=lt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=lt(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),s=!1;i!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),R(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(i,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),m=!1;c!==this._shadow&&(this._removeShadow(),m=!0),c&&(R(c,e),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&m&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),T(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&T(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&wt(this._icon,t),this._shadow&&wt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(R(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ke)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ke(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&_t(this._icon,t),this._shadow&&_t(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?et(e.iconSize):et(0,0),s=e.iconAnchor?et(e.iconAnchor):et(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:i.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ee=Yt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return st(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yi=Ee.extend({options:{fill:!0,radius:10},initialize:function(t,e){st(this,e),this._latlng=lt(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=lt(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ee.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),s=[t+i,e+i];this._pxBounds=new Pt(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var bi=yi.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=F({},i,{radius:e})),st(this,e),this._latlng=lt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ee.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,s=i.options.crs;if(s.distance===Ie.distance){var c=Math.PI/180,m=this._mRadius/Ie.R/c,v=i.project([e+m,t]),w=i.project([e-m,t]),E=v.add(w).divideBy(2),S=i.unproject(E).lat,N=Math.acos((Math.cos(m*c)-Math.sin(e*c)*Math.sin(S*c))/(Math.cos(e*c)*Math.cos(S*c)))/c;(isNaN(N)||0===N)&&(N=m/Math.cos(Math.PI/180*e)),this._point=E.subtract(i.getPixelOrigin()),this._radius=isNaN(N)?0:E.x-i.project([S,t-N]).x,this._radiusY=E.y-v.y}else{var X=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(X).x}this._updateBounds()}});var Te=Ee.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){st(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var c,m,e=1/0,i=null,s=gi,v=0,w=this._parts.length;v<w;v++)for(var E=this._parts[v],S=1,N=E.length;S<N;S++){var X=s(t,c=E[S-1],m=E[S],!0);X<e&&(e=X,i=s(t,c,m))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return In(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=lt(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return te(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=te(t),s=0,c=t.length;s<c;s++)i?(e[s]=lt(t[s]),this._bounds.extend(e[s])):e[s]=this._convertLatLngs(t[s]);return e},_project:function(){var t=new Pt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new q(t,t);this._rawPxBounds&&(this._pxBounds=new Pt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var m,v,c=t.length;if(t[0]instanceof bt){for(v=[],m=0;m<c;m++)v[m]=this._map.latLngToLayerPoint(t[m]),i.extend(v[m]);e.push(v)}else for(m=0;m<c;m++)this._projectLatlngs(t[m],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var i,s,c,m,v,w,E,e=this._parts;for(i=0,c=0,m=this._rings.length;i<m;i++)for(s=0,v=(E=this._rings[i]).length;s<v-1;s++)(w=_o(E[s],E[s+1],t,s,!0))&&(e[c]=e[c]||[],e[c].push(w[0]),(w[1]!==E[s+1]||s===v-2)&&(e[c].push(w[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,s=t.length;i<s;i++)t[i]=po(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,s,c,m,v,w,E=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,m=this._parts.length;i<m;i++)for(s=0,c=(v=(w=this._parts[i]).length)-1;s<v;c=s++)if((e||0!==s)&&Sn(t,w[c],w[s])<=E)return!0;return!1}});Te._flat=go;var Be=Te.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Te.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof bt&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Te.prototype._setLatLngs.call(this,t),te(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return te(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new q(e,e);if(t=new Pt(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var m,s=0,c=this._rings.length;s<c;s++)(m=ho(this._rings[s],t,!0)).length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i,s,c,m,v,w,E,S,e=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(m=0,E=this._parts.length;m<E;m++)for(v=0,w=(S=(i=this._parts[m]).length)-1;v<S;w=v++)(s=i[v]).y>t.y!=(c=i[w]).y>t.y&&t.x<(c.x-s.x)*(t.y-s.y)/(c.y-s.y)+s.x&&(e=!e);return e||Te.prototype._containsPoint.call(this,t,!0)}});var pe=dt.extend({initialize:function(t,e){st(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var i,s,c,e=Tt(t)?t:t.features;if(e){for(i=0,s=e.length;i<s;i++)((c=e[i]).geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var m=this.options;if(m.filter&&!m.filter(t))return this;var v=ri(t,m);return v?(v.feature=ai(t),v.defaultOptions=v.options,this.resetStyle(v),m.onEachFeature&&m.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=F({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function ri(t,e){var w,E,S,N,i="Feature"===t.type?t.geometry:t,s=i?i.coordinates:null,c=[],m=e&&e.pointToLayer,v=e&&e.coordsToLatLng||zi;if(!s&&!i)return null;switch(i.type){case"Point":return An(m,t,w=v(s),e);case"MultiPoint":for(S=0,N=s.length;S<N;S++)w=v(s[S]),c.push(An(m,t,w,e));return new dt(c);case"LineString":case"MultiLineString":return E=Zi(s,"LineString"===i.type?0:1,v),new Te(E,e);case"Polygon":case"MultiPolygon":return E=Zi(s,"Polygon"===i.type?1:2,v),new Be(E,e);case"GeometryCollection":for(S=0,N=i.geometries.length;S<N;S++){var X=ri({geometry:i.geometries[S],type:"Feature",properties:t.properties},e);X&&c.push(X)}return new dt(c);case"FeatureCollection":for(S=0,N=i.features.length;S<N;S++){var nt=ri(i.features[S],e);nt&&c.push(nt)}return new dt(c);default:throw new Error("Invalid GeoJSON object.")}}function An(t,e,i,s){return t?t(e,i):new vi(i,s&&s.markersInheritOptions&&s)}function zi(t){return new bt(t[1],t[0],t[2])}function Zi(t,e,i){for(var v,s=[],c=0,m=t.length;c<m;c++)v=e?Zi(t[c],e-1,i):(i||zi)(t[c]),s.push(v);return s}function Hi(t,e){return void 0!==(t=lt(t)).alt?[ut(t.lng,e),ut(t.lat,e),ut(t.alt,e)]:[ut(t.lng,e),ut(t.lat,e)]}function We(t,e,i,s){for(var c=[],m=0,v=t.length;m<v;m++)c.push(e?We(t[m],te(t[m])?0:e-1,i,s):Hi(t[m],s));return!e&&i&&c.length>0&&c.push(c[0].slice()),c}function fe(t,e){return t.feature?F({},t.feature,{geometry:e}):ai(e)}function ai(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Vi={toGeoJSON:function(t){return fe(this,{type:"Point",coordinates:Hi(this.getLatLng(),t)})}};function Co(t,e){return new pe(t,e)}vi.include(Vi),bi.include(Vi),yi.include(Vi),Te.include({toGeoJSON:function(t){var e=!te(this._latlngs);return fe(this,{type:(e?"Multi":"")+"LineString",coordinates:We(this._latlngs,e?1:0,!1,t)})}}),Be.include({toGeoJSON:function(t){var e=!te(this._latlngs),i=e&&!te(this._latlngs[0]),s=We(this._latlngs,i?2:e?1:0,!0,t);return e||(s=[s]),fe(this,{type:(i?"Multi":"")+"Polygon",coordinates:s})}}),Fe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),fe(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,s=[];return this.eachLayer(function(c){if(c.toGeoJSON){var m=c.toGeoJSON(t);if(i)s.push(m.geometry);else{var v=ai(m);"FeatureCollection"===v.type?s.push.apply(s,v.features):s.push(v)}}}),i?fe(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});var xo=Co,wi=Yt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=Lt(e),st(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(R(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){T(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&j(this._image),this},bringToBack:function(){return this._map&&O(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Lt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:b("img");R(e,"leaflet-image-layer"),this._zoomAnimated&&R(e,"leaflet-zoom-animated"),this.options.className&&R(e,this.options.className),e.onselectstart=I,e.onmousemove=I,e.onload=M(this.fire,this,"load"),e.onerror=M(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Wt(this._image,i,e)},_reset:function(){var t=this._image,e=new Pt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();wt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){_t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Rn=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:b("video");if(R(e,"leaflet-image-layer"),this._zoomAnimated&&R(e,"leaflet-zoom-animated"),this.options.className&&R(e,this.options.className),e.onselectstart=I,e.onmousemove=I,e.onloadeddata=M(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),s=[],c=0;c<i.length;c++)s.push(i[c].src);this._url=i.length>0?s:[e.src]}else{Tt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var v=b("source");v.src=this._url[m],e.appendChild(v)}}}});var Fn=wi.extend({_initImage:function(){var t=this._image=this._url;R(t,"leaflet-image-layer"),this._zoomAnimated&&R(t,"leaflet-zoom-animated"),this.options.className&&R(t,this.options.className),t.onselectstart=I,t.onmousemove=I}});var ee=Yt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof bt||Tt(t))?(this._latlng=lt(t),st(this,e)):(st(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&_t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&_t(this._container,1),this.bringToFront(),this.options.interactive&&(R(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(_t(this._container,0),this._removeTimeout=setTimeout(M(T,void 0,this._container),200)):T(this._container),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=lt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&j(this._container),this},bringToBack:function(){return this._map&&O(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof dt){e=null;var i=this._source._layers;for(var s in i)if(i[s]._map){e=i[s];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=et(this.options.offset),i=this._getAnchor();this._zoomAnimated?wt(this._container,t.add(i)):e=e.add(t).add(i);var s=this._containerBottom=-e.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=s+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(t,e,i,s){var c=e;return c instanceof t||(c=new t(s).setContent(e)),i&&c.setLatLng(i),c}}),Yt.include({_initOverlay:function(t,e,i,s){var c=i;return c instanceof t?(st(c,s),c._source=this):(c=e&&!s?e:new t(s,this)).setContent(i),c}});var xi=ee.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ee.prototype.openOn.call(this,t)},onAdd:function(t){ee.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ee||this._source.on("preclick",Oe))},onRemove:function(t){ee.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ee||this._source.off("preclick",Oe))},getEvents:function(){var t=ee.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=b("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=b("div",t+"-content-wrapper",e);if(this._contentNode=b("div",t+"-content",i),ni(e),mi(this._contentNode),it(e,"contextmenu",Oe),this._tipContainer=b("div",t+"-tip-container",e),this._tip=b("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=b("a",t+"-close-button",e);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',it(s,"click",function(c){Ft(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var c=this.options.maxHeight,m="leaflet-popup-scrolled";c&&t.offsetHeight>c?(e.height=c+"px",R(t,m)):Y(t,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();wt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var t=this._map,e=parseInt(y(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,s=this._containerWidth,c=new q(this._containerLeft,-i-this._containerBottom);c._add(Nt(this._container));var m=t.layerPointToContainerPoint(c),v=et(this.options.autoPanPadding),w=et(this.options.autoPanPaddingTopLeft||v),E=et(this.options.autoPanPaddingBottomRight||v),S=t.getSize(),N=0,X=0;m.x+s+E.x>S.x&&(N=m.x+s-S.x+E.x),m.x-N-w.x<0&&(N=m.x-w.x),m.y+i+E.y>S.y&&(X=m.y+i-S.y+E.y),m.y-X-w.y<0&&(X=m.y-w.y),(N||X)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([N,X]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(t,e,i){return this._initOverlay(xi,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Yt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(xi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof dt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ge(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Ee))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng));this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ki=ee.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ee.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ee.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ee.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){this._contentNode=this._container=b("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+P(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,s=this._map,c=this._container,m=s.latLngToContainerPoint(s.getCenter()),v=s.layerPointToContainerPoint(t),w=this.options.direction,E=c.offsetWidth,S=c.offsetHeight,N=et(this.options.offset),X=this._getAnchor();"top"===w?(e=E/2,i=S):"bottom"===w?(e=E/2,i=0):"center"===w?(e=E/2,i=S/2):"right"===w?(e=0,i=S/2):"left"===w?(e=E,i=S/2):v.x<m.x?(w="right",e=0,i=S/2):(w="left",e=E+2*(N.x+X.x),i=S/2),t=t.subtract(et(e,i,!0)).add(N).add(X),Y(c,"leaflet-tooltip-right"),Y(c,"leaflet-tooltip-left"),Y(c,"leaflet-tooltip-top"),Y(c,"leaflet-tooltip-bottom"),R(c,"leaflet-tooltip-"+w),wt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&_t(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ht.include({openTooltip:function(t,e,i){return this._initOverlay(ki,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Yt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ki,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof dt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(it(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),it(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;return void this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)})}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i,s,e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(e)}});var Nn=xe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(D(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var s=et(i.bgPos);e.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});xe.Default=oi;var Ye=Yt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:G.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){st(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),T(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(j(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(O(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof q?t:new q(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var m,e=this.getPane().children,i=-t(-1/0,1/0),s=0,c=e.length;s<c;s++)m=e[s].style.zIndex,e[s]!==this._container&&m&&(i=t(i,+m));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!G.ielt9){_t(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var s in this._tiles){var c=this._tiles[s];if(c.current&&c.loaded){var m=Math.min(1,(t-c.loaded)/200);_t(c.el,m),m<1?e=!0:(c.active?i=!0:this._onOpaqueTile(c),c.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(Q(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=b("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(T(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var s=this._levels[t],c=this._map;return s||((s=this._levels[t]={}).el=b("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=e,s.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,c.getCenter(),c.getZoom()),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var s=e.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)T(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,s){var c=Math.floor(t/2),m=Math.floor(e/2),v=i-1,w=new q(+c,+m);w.z=+v;var E=this._tileCoordsToKey(w),S=this._tiles[E];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),v>s&&this._retainParent(c,m,v,s))},_retainChildren:function(t,e,i,s){for(var c=2*t;c<2*t+2;c++)for(var m=2*e;m<2*e+2;m++){var v=new q(c,m);v.z=i+1;var w=this._tileCoordsToKey(v),E=this._tiles[w];E&&E.active?E.retain=!0:(E&&E.loaded&&(E.retain=!0),i+1<s&&this._retainChildren(c,m,i+1,s))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,s){var c=Math.round(e);c=void 0!==this.options.maxZoom&&c>this.options.maxZoom||void 0!==this.options.minZoom&&c<this.options.minZoom?void 0:this._clampZoom(c),(!s||this.options.updateWhenZooming&&c!==this._tileZoom)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==c&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var s=this._map.getZoomScale(i,t.zoom),c=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(e,i)).round();G.any3d?Wt(t.el,c,s):wt(t.el,c)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),s=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],s).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],s).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],s).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],s).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),s=e.getZoomScale(i,this._tileZoom),c=e.project(t,this._tileZoom).floor(),m=e.getSize().divideBy(2*s);return new Pt(c.subtract(m),c.add(m))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var s=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(s),m=c.getCenter(),v=[],w=this.options.keepBuffer,E=new Pt(c.getBottomLeft().subtract([w,-w]),c.getTopRight().add([w,-w]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var N=this._tiles[S].coords;(N.z!==this._tileZoom||!E.contains(new q(N.x,N.y)))&&(this._tiles[S].current=!1)}if(Math.abs(i-this._tileZoom)>1)return void this._setView(t,i);for(var X=c.min.y;X<=c.max.y;X++)for(var nt=c.min.x;nt<=c.max.x;nt++){var Bt=new q(nt,X);if(Bt.z=this._tileZoom,this._isValidTile(Bt)){var At=this._tiles[this._tileCoordsToKey(Bt)];At?At.current=!0:v.push(Bt)}}if(v.sort(function(jt,li){return jt.distanceTo(m)-li.distanceTo(m)}),0!==v.length){this._loading||(this._loading=!0,this.fire("loading"));var Xt=document.createDocumentFragment();for(nt=0;nt<v.length;nt++)this._addTile(v[nt],Xt);this._level.el.appendChild(Xt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return Lt(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),s=t.scaleBy(i),c=s.add(i);return[e.unproject(s,t.z),e.unproject(c,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new Ut(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new q(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(T(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){R(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=I,t.onmousemove=I,G.ielt9&&this.options.opacity<1&&_t(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),s=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),M(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&pt(M(this._tileReady,this,t,null,c)),wt(c,i),this._tiles[s]={el:c,coords:t,current:!0},e.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var s=this._tileCoordsToKey(t);(i=this._tiles[s])&&(i.loaded=+new Date,this._map._fadeAnimated?(_t(i.el,0),Q(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(R(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),G.ielt9||!this._map._fadeAnimated?pt(this._pruneTiles,this):setTimeout(M(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new q(this._wrapX?ot(t.x,this._wrapX):t.x,this._wrapY?ot(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Pt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var $e=Ye.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=st(this,e)).detectRetina&&G.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return it(i,"load",M(this._tileOnLoad,this,e,i)),it(i,"error",M(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:G.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return Ne(this._url,F(e,this.options))},_tileOnLoad:function(t,e){G.ielt9?setTimeout(M(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var s=this.options.errorTileUrl;s&&e.getAttribute("src")!==s&&(e.src=s),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return this.options.zoomReverse&&(t=this.options.maxZoom-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=I,e.onerror=I,!e.complete)){e.src=ze;var i=this._tiles[t].coords;T(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",ze),Ye.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==ze))return Ye.prototype._tileReady.call(this,t,e,i)}});function jn(t,e){return new $e(t,e)}var zn=$e.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=F({},this.defaultWmsParams);for(var s in e)s in this.options||(i[s]=e[s]);var c=(e=st(this,e)).detectRetina&&G.retina?2:1,m=this.getTileSize();i.width=m.x*c,i.height=m.y*c,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,$e.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,s=Vt(i.project(e[0]),i.project(e[1])),c=s.min,m=s.max,v=(this._wmsVersion>=1.3&&this._crs===Bi?[c.y,c.x,m.y,m.x]:[c.x,c.y,m.x,m.y]).join(","),w=$e.prototype.getTileUrl.call(this,t);return w+Et(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,e){return F(this.wmsParams,t),e||this.redraw(),this}});$e.WMS=zn,jn.wms=function So(t,e){return new zn(t,e)};var Pe=Yt.extend({options:{padding:.1},initialize:function(t){st(this,t),P(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),R(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,e),m=s.multiplyBy(-i).add(c).subtract(this._map._getNewPixelOrigin(t,e));G.any3d?Wt(this._container,m,i):wt(this._container,m)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Pt(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ke=Pe.extend({options:{tolerance:0},getEvents:function(){var t=Pe.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");it(t,"mousemove",this._onMouseMove,this),it(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),it(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,T(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Pe.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),s=G.retina?2:1;wt(e,t.min),e.width=s*i.x,e.height=s*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",G.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Pe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[P(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,s=e.prev;i?i.prev=s:this._drawLast=s,s?s.next=i:this._drawFirst=i,delete t._order,delete this._layers[P(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var s,c,e=t.options.dashArray.split(/[, ]+/),i=[];for(c=0;c<e.length;c++){if(s=Number(e[c]),isNaN(s))return;i.push(s)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||pt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Pt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,s,c,m,v=t._parts,w=v.length,E=this._ctx;if(w){for(E.beginPath(),i=0;i<w;i++){for(s=0,c=v[i].length;s<c;s++)E[s?"lineTo":"moveTo"]((m=v[i][s]).x,m.y);e&&E.closePath()}this._fillStroke(E,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,s=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||s)/s;1!==c&&(i.save(),i.scale(1,c)),i.beginPath(),i.arc(e.x,e.y/c,s,0,2*Math.PI,!1),1!==c&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var i,s,e=this._map.mouseEventToLayerPoint(t),c=this._drawFirst;c;c=c.next)(i=c.layer).options.interactive&&i._containsPoint(e)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(i))&&(s=i);this._fireEvent(!!s&&[s],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Y(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,s,c=this._drawFirst;c;c=c.next)(i=c.layer).options.interactive&&i._containsPoint(e)&&(s=i);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(R(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(M(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,s=e.prev;if(!i)return;i.prev=s,s?s.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,s=e.prev;if(!s)return;s.next=i,i?i.prev=s:s&&(this._drawLast=s),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Mo(t){return G.canvas?new Ke(t):null}var Ei=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),as={_initContainer:function(){this._container=b("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pe.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ei("shape");R(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ei("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[P(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;T(e),t.removeInteractiveTarget(e),delete this._layers[P(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,s=t.options,c=t._container;c.stroked=!!s.stroke,c.filled=!!s.fill,s.stroke?(e||(e=t._stroke=Ei("stroke")),c.appendChild(e),e.weight=s.weight+"px",e.color=s.color,e.opacity=s.opacity,e.dashStyle=s.dashArray?Tt(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):"",e.endcap=s.lineCap.replace("butt","flat"),e.joinstyle=s.lineJoin):e&&(c.removeChild(e),t._stroke=null),s.fill?(i||(i=t._fill=Ei("fill")),c.appendChild(i),i.color=s.fillColor||s.color,i.opacity=s.fillOpacity):i&&(c.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),s=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+s+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){j(t._container)},_bringToBack:function(t){O(t._container)}},Ui=G.vml?Ei:qi,Ti=Pe.extend({_initContainer:function(){this._container=Ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){T(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Pe.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),wt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ui("path");t.options.className&&R(e,t.options.className),t.options.interactive&&R(e,"leaflet-interactive"),this._updateStyle(t),this._layers[P(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){T(t._path),t.removeInteractiveTarget(t._path),delete this._layers[P(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Ji(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),c="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",m=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+c+2*i+",0 "+c+2*-i+",0 ";this._setPath(t,m)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){j(t._path)},_bringToBack:function(t){O(t._path)}});function Io(t){return G.svg||G.vml?new Ti(t):null}G.vml&&Ti.include(as),ht.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Mo(t)||Io(t)}});var Zn=Be.extend({initialize:function(t,e){Be.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=Lt(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Ti.create=Ui,Ti.pointsToPath=Ji,pe.geometryToLayer=ri,pe.coordsToLatLng=zi,pe.coordsToLatLngs=Zi,pe.latLngToCoords=Hi,pe.latLngsToCoords=We,pe.getFeature=fe,pe.asFeature=ai,ht.mergeOptions({boxZoom:!0});var Oo=ue.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){T(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),we(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(t),it(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=b("div","leaflet-zoom-box",this._container),R(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Pt(this._point,this._startPoint),i=e.getSize();wt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(T(this._box),Y(this._container,"leaflet-crosshair")),ce(),Ce(),kt(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(M(this._resetState,this),0);var e=new Ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",Oo),ht.mergeOptions({doubleClickZoom:!0});var Hn=ue.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),s=e.options.zoomDelta,c=t.originalEvent.shiftKey?i-s:i+s;"center"===e.options.doubleClickZoom?e.setZoom(c):e.setZoomAround(t.containerPoint,c)}});ht.addInitHook("addHandler","doubleClickZoom",Hn),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gi=ue.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new De(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}R(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Y(this._map._container,"leaflet-grab"),Y(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Lt(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,s=this._draggable._newPos.x,c=(s-e+i)%t+e-i,m=(s+e+i)%t-e-i,v=Math.abs(c+i)<Math.abs(m+i)?c:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var e=this._map,i=e.options,s=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),s)e.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),v=i.easeLinearity,w=c.multiplyBy(v/((this._lastTime-this._times[0])/1e3)),E=w.distanceTo([0,0]),S=Math.min(i.inertiaMaxSpeed,E),N=w.multiplyBy(S/E),X=S/(i.inertiaDeceleration*v),nt=N.multiplyBy(-X/2).round();nt.x||nt.y?(nt=e._limitOffset(nt,e.options.maxBounds),pt(function(){e.panBy(nt,{duration:X,easeLinearity:v,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});ht.addInitHook("addHandler","dragging",Gi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Do=ue.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),it(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,s=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(s,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s,c,e=this._panKeys={},i=this.keyCodes;for(s=0,c=i.left.length;s<c;s++)e[i.left[s]]=[-1*t,0];for(s=0,c=i.right.length;s<c;s++)e[i.right[s]]=[t,0];for(s=0,c=i.down.length;s<c;s++)e[i.down[s]]=[0,t];for(s=0,c=i.up.length;s<c;s++)e[i.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var s,c,e=this._zoomKeys={},i=this.keyCodes;for(s=0,c=i.zoomIn.length;s<c;s++)e[i.zoomIn[s]]=t;for(s=0,c=i.zoomOut.length;s<c;s++)e[i.zoomOut[s]]=-t},_addHooks:function(){it(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s,e=t.keyCode,i=this._map;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(s=this._panKeys[e],t.shiftKey&&(s=et(s).multiplyBy(3)),i.options.maxBounds&&(s=i._limitOffset(et(s),i.options.maxBounds)),i.options.worldCopyJump){var c=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(s)));i.panTo(c)}else i.panBy(s)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ge(t)}}});ht.addInitHook("addHandler","keyboard",Do),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ao=ue.extend({addHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=no(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(M(this._performZoom,this),s),Ge(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var c=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,m=i?Math.ceil(c/i)*i:c,v=t._limitZoom(e+(this._delta>0?m:-m))-e;this._delta=0,this._startTime=null,v&&("center"===t.options.scrollWheelZoom?t.setZoom(e+v):t.setZoomAround(this._lastMousePos,e+v))}});ht.addInitHook("addHandler","scrollWheelZoom",Ao);ht.mergeOptions({tapHold:G.touchNative&&G.safari&&G.mobile,tapTolerance:15});var Ro=ue.extend({addHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new q(e.clientX,e.clientY),this._holdTimeout=setTimeout(M(function(){this._cancel(),this._isTapValid()&&(it(document,"touchend",Ft),it(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){kt(document,"touchend",Ft),kt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new q(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});ht.addInitHook("addHandler","tapHold",Ro),ht.mergeOptions({touchZoom:G.touch,bounceAtZoomLimits:!0});var Fo=ue.extend({addHooks:function(){R(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),s=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(s)._divideBy(2))),this._startDist=i.distanceTo(s),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),Ft(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),s=e.mouseEventToContainerPoint(t.touches[1]),c=i.distanceTo(s)/this._startDist;if(this._zoom=e.getScaleZoom(c,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&c<1||this._zoom>e.getMaxZoom()&&c>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===c)return}else{var m=i._add(s)._divideBy(2)._subtract(this._centerPoint);if(1===c&&0===m.x&&0===m.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var v=M(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pt(v,this,!0),Ft(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Q(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ht.addInitHook("addHandler","touchZoom",Fo),ht.BoxZoom=Oo,ht.DoubleClickZoom=Hn,ht.Drag=Gi,ht.Keyboard=Do,ht.ScrollWheelZoom=Ao,ht.TapHold=Ro,ht.TouchZoom=Fo,C.Bounds=Pt,C.Browser=G,C.CRS=ae,C.Canvas=Ke,C.Circle=bi,C.CircleMarker=yi,C.Class=Ht,C.Control=re,C.DivIcon=Nn,C.DivOverlay=ee,C.DomEvent=oo,C.DomUtil=_n,C.Draggable=De,C.Evented=Kt,C.FeatureGroup=dt,C.GeoJSON=pe,C.GridLayer=Ye,C.Handler=ue,C.Icon=xe,C.ImageOverlay=wi,C.LatLng=bt,C.LatLngBounds=Ut,C.Layer=Yt,C.LayerGroup=Fe,C.LineUtil=os,C.Map=ht,C.Marker=vi,C.Mixin=lo,C.Path=Ee,C.Point=q,C.PolyUtil=ts,C.Polygon=Be,C.Polyline=Te,C.Popup=xi,C.PosAnimation=so,C.Projection=ss,C.Rectangle=Zn,C.Renderer=Pe,C.SVG=Ti,C.SVGOverlay=Fn,C.TileLayer=$e,C.Tooltip=ki,C.Transformation=Xi,C.Util=Rt,C.VideoOverlay=Rn,C.bind=M,C.bounds=Vt,C.canvas=Mo,C.circle=function wo(t,e,i){return new bi(t,e,i)},C.circleMarker=function ji(t,e){return new yi(t,e)},C.control=_i,C.divIcon=function To(t){return new Nn(t)},C.extend=F,C.featureGroup=function(t,e){return new dt(t,e)},C.geoJSON=Co,C.geoJson=xo,C.gridLayer=function Po(t){return new Ye(t)},C.icon=function yo(t){return new xe(t)},C.imageOverlay=function(t,e,i){return new wi(t,e,i)},C.latLng=lt,C.latLngBounds=Lt,C.layerGroup=function(t,e){return new Fe(t,e)},C.map=function qo(t,e){return new ht(t,e)},C.marker=function bo(t,e){return new vi(t,e)},C.point=et,C.polygon=function si(t,e){return new Be(t,e)},C.polyline=function V(t,e){return new Te(t,e)},C.popup=function(t,e){return new xi(t,e)},C.rectangle=function Lo(t,e){return new Zn(t,e)},C.setOptions=st,C.stamp=P,C.svg=Io,C.svgOverlay=function rs(t,e,i){return new Fn(t,e,i)},C.tileLayer=jn,C.tooltip=function(t,e){return new ki(t,e)},C.transformation=_e,C.version="1.9.4",C.videoOverlay=function ko(t,e,i){return new Rn(t,e,i)};var cs=window.L;C.noConflict=function(){return window.L=cs,this},window.L=C}(J)},152:(at,J,C)=>{"use strict";C.d(J,{B:()=>M});var a=C(3236),F=C(9974),U=C(4360);function M(B,P=a.E){return(0,F.N)((z,ot)=>{let I=null,ut=null,It=null;const gt=()=>{if(I){I.unsubscribe(),I=null;const Et=ut;ut=null,ot.next(Et)}};function st(){const Et=It+B,Me=P.now();if(Me<Et)return I=this.schedule(void 0,Et-Me),void ot.add(I);gt()}z.subscribe(new U.H(ot,Et=>{ut=Et,It=P.now(),I||(I=P.schedule(st,B),ot.add(I))},()=>{gt(),ot.complete()},void 0,()=>{ut=I=null}))})}},6780:(at,J,C)=>{"use strict";C.d(J,{R:()=>B});var a=C(8359);class F extends a.yU{constructor(z,ot){super()}schedule(z,ot=0){return this}}const U={setInterval(...P){const{delegate:z}=U;return(z?.setInterval||setInterval)(...P)},clearInterval(P){const{delegate:z}=U;return(z?.clearInterval||clearInterval)(P)},delegate:void 0};var M=C(7908);class B extends F{constructor(z,ot){super(z,ot),this.scheduler=z,this.work=ot,this.pending=!1}schedule(z,ot=0){if(this.closed)return this;this.state=z;const I=this.id,ut=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(ut,I,ot)),this.pending=!0,this.delay=ot,this.id=this.id||this.requestAsyncId(ut,this.id,ot),this}requestAsyncId(z,ot,I=0){return U.setInterval(z.flush.bind(z,this),I)}recycleAsyncId(z,ot,I=0){if(null!=I&&this.delay===I&&!1===this.pending)return ot;U.clearInterval(ot)}execute(z,ot){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const I=this._execute(z,ot);if(I)return I;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,ot){let ut,I=!1;try{this.work(z)}catch(It){I=!0,ut=It||new Error("Scheduled action threw falsy error")}if(I)return this.unsubscribe(),ut}unsubscribe(){if(!this.closed){const{id:z,scheduler:ot}=this,{actions:I}=ot;this.work=this.state=this.scheduler=null,this.pending=!1,(0,M.o)(I,this),null!=z&&(this.id=this.recycleAsyncId(ot,z,null)),this.delay=null,super.unsubscribe()}}}},3604:(at,J,C)=>{"use strict";C.d(J,{q:()=>U});const a={now:()=>(a.delegate||Date).now(),delegate:void 0};class F{constructor(B,P=F.now){this.schedulerActionCtor=B,this.now=P}schedule(B,P=0,z){return new this.schedulerActionCtor(this,B).schedule(z,P)}}F.now=a.now;class U extends F{constructor(B,P=F.now){super(B,P),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:P}=this;if(this._active)return void P.push(B);let z;this._active=!0;do{if(z=B.execute(B.state,B.delay))break}while(B=P.shift());if(this._active=!1,z){for(;B=P.shift();)B.unsubscribe();throw z}}}},3236:(at,J,C)=>{"use strict";C.d(J,{E:()=>U,b:()=>M});var a=C(6780);const U=new(C(3604).q)(a.R),M=U},4085:(at,J,C)=>{"use strict";C.d(J,{FG:()=>B,a1:()=>P,i8:()=>z});var a=C(3953);function B(I){return Array.isArray(I)?I:[I]}function P(I){return null==I?"":"string"==typeof I?I:`${I}px`}function z(I){return I instanceof a.aKT?I.nativeElement:I}},8352:(at,J,C)=>{"use strict";C.d(J,{QP:()=>Xe,Rp:()=>W});var a=C(3953),F=C(4085),U=C(1413),M=C(4572),B=C(8793),P=C(1985),z=C(6697),ot=C(5964),ut=C(152),It=C(6354),gt=C(9172),st=C(6977),Et=C(6860);const Ne=new Set;let Tt,je=(()=>{class tt{constructor(Q,Rt){this._platform=Q,this._nonce=Rt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(Q){return(this._platform.WEBKIT||this._platform.BLINK)&&function ze(tt,pt){if(!Ne.has(tt))try{Tt||(Tt=document.createElement("style"),pt&&Tt.setAttribute("nonce",pt),Tt.setAttribute("type","text/css"),document.head.appendChild(Tt)),Tt.sheet&&(Tt.sheet.insertRule(`@media ${tt} {body{ }}`,0),Ne.add(tt))}catch(Q){console.error(Q)}}(Q,this._nonce),this._matchMedia(Q)}static#t=this.\u0275fac=function(Rt){return new(Rt||tt)(a.KVO(Et.OD),a.KVO(a.BIS,8))};static#e=this.\u0275prov=a.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();function x(tt){return{matches:"all"===tt||""===tt,media:tt,addListener:()=>{},removeListener:()=>{}}}let Xe=(()=>{class tt{constructor(Q,Rt){this._mediaMatcher=Q,this._zone=Rt,this._queries=new Map,this._destroySubject=new U.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Q){return Ze((0,F.FG)(Q)).some(Ht=>this._registerQuery(Ht).mql.matches)}observe(Q){const Ht=Ze((0,F.FG)(Q)).map(St=>this._registerQuery(St).observable);let me=(0,M.z)(Ht);return me=(0,B.x)(me.pipe((0,z.s)(1)),me.pipe(function I(tt){return(0,ot.p)((pt,Q)=>tt<=Q)}(1),(0,ut.B)(0))),me.pipe((0,It.T)(St=>{const Kt={matches:!1,breakpoints:{}};return St.forEach(({matches:q,query:Pi})=>{Kt.matches=Kt.matches||q,Kt.breakpoints[Pi]=q}),Kt}))}_registerQuery(Q){if(this._queries.has(Q))return this._queries.get(Q);const Rt=this._mediaMatcher.matchMedia(Q),me={observable:new P.c(St=>{const Kt=q=>this._zone.run(()=>St.next(q));return Rt.addListener(Kt),()=>{Rt.removeListener(Kt)}}).pipe((0,gt.Z)(Rt),(0,It.T)(({matches:St})=>({query:Q,matches:St})),(0,st.Q)(this._destroySubject)),mql:Rt};return this._queries.set(Q,me),me}static#t=this.\u0275fac=function(Rt){return new(Rt||tt)(a.KVO(je),a.KVO(a.SKi))};static#e=this.\u0275prov=a.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();function Ze(tt){return tt.map(pt=>pt.split(",")).reduce((pt,Q)=>pt.concat(Q)).map(pt=>pt.trim())}const W={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},6860:(at,J,C)=>{"use strict";C.d(J,{BQ:()=>It,CZ:()=>Me,Fb:()=>Xe,OD:()=>M,v8:()=>Ze});var a=C(3953),F=C(177);let U;try{U=typeof Intl<"u"&&Intl.v8BreakIterator}catch{U=!1}let I,Et,M=(()=>{class W{constructor(pt){this._platformId=pt,this.isBrowser=this._platformId?(0,F.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!U)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(Q){return new(Q||W)(a.KVO(a.Agw))};static#e=this.\u0275prov=a.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();function It(W){return function ut(){if(null==I&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>I=!0}))}finally{I=I||!1}return I}()?W:!!W.capture}function Me(){if(null==Et){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Et=!1,Et;if("scrollBehavior"in document.documentElement.style)Et=!0;else{const W=Element.prototype.scrollTo;Et=!!W&&!/\{\s*\[native code\]\s*\}/.test(W.toString())}}return Et}function Xe(W){return W.composedPath?W.composedPath()[0]:W.target}function Ze(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},228:(at,J,C)=>{"use strict";C.d(J,{uc:()=>Cr});var a=C(3953),F=C(177),U=C(6860),M=C(1413),B=C(8359),z=(C(4402),C(7673));C(8141),C(152);var Nt=C(5964);C(6354),C(6697);let Le=(()=>{class d{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Ot=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({providers:[Le]})}return d})();var Dt=C(8352),Re=function(d){return d[d.NONE=0]="NONE",d[d.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",d[d.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",d}(Re||{});const Bi="cdk-high-contrast-black-on-white",Dn="cdk-high-contrast-white-on-black",Yt="cdk-high-contrast-active";let Fe=(()=>{class d{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=(0,a.WQX)(Dt.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Re.NONE;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,p=r&&r.getComputedStyle?r.getComputedStyle(n):null,g=(p&&p.backgroundColor||"").replace(/ /g,"");switch(n.remove(),g){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Re.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Re.BLACK_ON_WHITE}return Re.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Yt,Bi,Dn),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===Re.BLACK_ON_WHITE?n.add(Yt,Bi):r===Re.WHITE_ON_BLACK&&n.add(Yt,Dn)}}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(U.OD),a.KVO(F.qQ))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),vo=(()=>{class d{constructor(n){n._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(Fe))};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({imports:[Ot]})}return d})();var dt=C(4085),Ni=C(1985),xe=C(8750),yo=C(1397),oi=C(7441),ke=C(8071),vi=C(6450);const bo=["addListener","removeListener"],Ee=["addEventListener","removeEventListener"],yi=["on","off"];function ji(d,o,n,r){if((0,ke.T)(n)&&(r=n,n=void 0),r)return ji(d,o,n).pipe((0,vi.I)(r));const[p,g]=function V(d){return(0,ke.T)(d.addEventListener)&&(0,ke.T)(d.removeEventListener)}(d)?Ee.map(k=>A=>d[k](o,A,n)):function wo(d){return(0,ke.T)(d.addListener)&&(0,ke.T)(d.removeListener)}(d)?bo.map(bi(d,o)):function Te(d){return(0,ke.T)(d.on)&&(0,ke.T)(d.off)}(d)?yi.map(bi(d,o)):[];if(!p&&(0,oi.X)(d))return(0,yo.Z)(k=>ji(k,o,n))((0,xe.Tg)(d));if(!p)throw new TypeError("Invalid event target");return new Ni.c(k=>{const A=(...H)=>k.next(1<H.length?H:H[0]);return p(A),()=>g(A)})}function bi(d,o){return n=>r=>d[n](o,r)}var Be=C(6780);const si={schedule(d){let o=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=si;r&&(o=r.requestAnimationFrame,n=r.cancelAnimationFrame);const p=o(g=>{n=void 0,d(g)});return new B.yU(()=>n?.(p))},requestAnimationFrame(...d){const{delegate:o}=si;return(o?.requestAnimationFrame||requestAnimationFrame)(...d)},cancelAnimationFrame(...d){const{delegate:o}=si;return(o?.cancelAnimationFrame||cancelAnimationFrame)(...d)},delegate:void 0};var ri=C(3604);new class An extends ri.q{flush(o){this._active=!0,this._scheduled=void 0;const{actions:n}=this;let r,p=-1;o=o||n.shift();const g=n.length;do{if(r=o.execute(o.state,o.delay))break}while(++p<g&&(o=n.shift()));if(this._active=!1,r){for(;++p<g&&(o=n.shift());)o.unsubscribe();throw r}}}(class pe extends Be.R{constructor(o,n){super(o,n),this.scheduler=o,this.work=n}requestAsyncId(o,n,r=0){return null!==r&&r>0?super.requestAsyncId(o,n,r):(o.actions.push(this),o._scheduled||(o._scheduled=si.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,n,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(o,n,r);0===o.actions.length&&(si.cancelAnimationFrame(n),o._scheduled=void 0)}});let We,Hi=1;const fe={};function ai(d){return d in fe&&(delete fe[d],!0)}const Vi={setImmediate(d){const o=Hi++;return fe[o]=!0,We||(We=Promise.resolve()),We.then(()=>ai(o)&&d()),o},clearImmediate(d){ai(d)}},{setImmediate:xo,clearImmediate:wi}=Vi,Ci={setImmediate(...d){const{delegate:o}=Ci;return(o?.setImmediate||xo)(...d)},clearImmediate(d){const{delegate:o}=Ci;return(o?.clearImmediate||wi)(d)},delegate:void 0};new class ko extends ri.q{flush(o){this._active=!0,this._scheduled=void 0;const{actions:n}=this;let r,p=-1;o=o||n.shift();const g=n.length;do{if(r=o.execute(o.state,o.delay))break}while(++p<g&&(o=n.shift()));if(this._active=!1,r){for(;++p<g&&(o=n.shift());)o.unsubscribe();throw r}}}(class Rn extends Be.R{constructor(o,n){super(o,n),this.scheduler=o,this.work=n}requestAsyncId(o,n,r=0){return null!==r&&r>0?super.requestAsyncId(o,n,r):(o.actions.push(this),o._scheduled||(o._scheduled=Ci.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,n,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(o,n,r);0===o.actions.length&&(Ci.clearImmediate(n),o._scheduled=void 0)}});var ee=C(3236),xi=C(9974),Bn=C(4360),Eo=C(9470);function Ye(d,o=ee.b){return function ki(d){return(0,xi.N)((o,n)=>{let r=!1,p=null,g=null,k=!1;const A=()=>{if(g?.unsubscribe(),g=null,r){r=!1;const K=p;p=null,n.next(K)}k&&n.complete()},H=()=>{g=null,k&&n.complete()};o.subscribe(new Bn.H(n,K=>{r=!0,p=K,g||(0,xe.Tg)(d(K)).subscribe(g=new Bn.H(n,A,H))},()=>{k=!0,(!r||!g||g.closed)&&n.complete()}))})}(()=>function To(d=0,o,n=ee.b){let r=-1;return null!=o&&((0,Eo.m)(o)?n=o:r=o),new Ni.c(p=>{let g=function Nn(d){return d instanceof Date&&!isNaN(d)}(d)?+d-n.now():d;g<0&&(g=0);let k=0;return n.schedule(function(){p.closed||(p.next(k++),0<=r?this.schedule(void 0,r):p.complete())},g)})}(d,o))}const Po=new a.nKC("cdk-dir-doc",{providedIn:"root",factory:function $e(){return(0,a.WQX)(F.qQ)}}),jn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let So=(()=>{class d{constructor(n){this.value="ltr",this.change=new a.bkB,n&&(this.value=function zn(d){const o=d?.toLowerCase()||"";return"auto"===o&&typeof navigator<"u"&&navigator?.language?jn.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(Po,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Ke=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({})}return d})(),Lo=(()=>{class d{constructor(n,r,p){this._ngZone=n,this._platform=r,this._scrolled=new M.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=p}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Ni.c(r=>{this._globalSubscription||this._addGlobalListener();const p=n>0?this._scrolled.pipe(Ye(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{p.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,z.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const p=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe((0,Nt.p)(g=>!g||p.indexOf(g)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((p,g)=>{this._scrollableContainsElement(g,n)&&r.push(g)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let p=(0,dt.i8)(r),g=n.getElementRef().nativeElement;do{if(p==g)return!0}while(p=p.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ji(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(a.SKi),a.KVO(U.OD),a.KVO(F.qQ,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Gi=(()=>{class d{constructor(n,r,p){this._platform=n,this._change=new M.B,this._changeListener=g=>{this._change.next(g)},this._document=p,r.runOutsideAngular(()=>{if(n.isBrowser){const g=this._getWindow();g.addEventListener("resize",this._changeListener),g.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:p}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+p,right:n.left+r,height:p,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),p=n.documentElement,g=p.getBoundingClientRect();return{top:-g.top||n.body.scrollTop||r.scrollY||p.scrollTop||0,left:-g.left||n.body.scrollLeft||r.scrollX||p.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(Ye(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(U.OD),a.KVO(a.SKi),a.KVO(F.qQ,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),s=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({})}return d})(),c=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({imports:[Ke,s,Ke,s]})}return d})();var m=C(6977);class nt{attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;null!=o&&(this._attachedHost=null,o.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(o){this._attachedHost=o}}class Bt extends nt{constructor(o,n,r,p,g){super(),this.component=o,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=p,this.projectableNodes=g}}class At extends nt{constructor(o,n,r,p){super(),this.templateRef=o,this.viewContainerRef=n,this.context=r,this.injector=p}get origin(){return this.templateRef.elementRef}attach(o,n=this.context){return this.context=n,super.attach(o)}detach(){return this.context=void 0,super.detach()}}class Xt extends nt{constructor(o){super(),this.element=o instanceof a.aKT?o.nativeElement:o}}class jt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(o){return o instanceof Bt?(this._attachedPortal=o,this.attachComponentPortal(o)):o instanceof At?(this._attachedPortal=o,this.attachTemplatePortal(o)):this.attachDomPortal&&o instanceof Xt?(this._attachedPortal=o,this.attachDomPortal(o)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(o){this._disposeFn=o}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Bo extends jt{constructor(o,n,r,p,g){super(),this.outletElement=o,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=p,this.attachDomPortal=k=>{const A=k.element,H=this._document.createComment("dom-portal");A.parentNode.insertBefore(H,A),this.outletElement.appendChild(A),this._attachedPortal=k,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(A,H)})},this._document=g}attachComponentPortal(o){const r=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component);let p;return o.viewContainerRef?(p=o.viewContainerRef.createComponent(r,o.viewContainerRef.length,o.injector||o.viewContainerRef.injector,o.projectableNodes||void 0),this.setDisposeFn(()=>p.destroy())):(p=r.create(o.injector||this._defaultInjector||a.zZn.NULL),this._appRef.attachView(p.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(p.hostView),p.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(p)),this._attachedPortal=o,p}attachTemplatePortal(o){let n=o.viewContainerRef,r=n.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return r.rootNodes.forEach(p=>this.outletElement.appendChild(p)),r.detectChanges(),this.setDisposeFn(()=>{let p=n.indexOf(r);-1!==p&&n.remove(p)}),this._attachedPortal=o,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(o){return o.hostView.rootNodes[0]}}let Mt=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({})}return d})();var zo=C(6365),Zo=C(983),Vn=C(9326),Yi=C(6648);const Gn=(0,U.CZ)();class ws{constructor(o,n){this._viewportRuler=o,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=(0,dt.a1)(-this._previousScrollPosition.left),o.style.top=(0,dt.a1)(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const o=this._document.documentElement,r=o.style,p=this._document.body.style,g=r.scrollBehavior||"",k=p.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),Gn&&(r.scrollBehavior=p.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gn&&(r.scrollBehavior=g,p.scrollBehavior=k)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}}class Cs{constructor(o,n,r,p){this._scrollDispatcher=o,this._ngZone=n,this._viewportRuler=r,this._config=p,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(o){this._overlayRef=o}enable(){if(this._scrollSubscription)return;const o=this._scrollDispatcher.scrolled(0).pipe((0,Nt.p)(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=o.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ps{enable(){}disable(){}attach(){}}function Ho(d,o){return o.some(n=>d.bottom<n.top||d.top>n.bottom||d.right<n.left||d.left>n.right)}function fs(d,o){return o.some(n=>d.top<n.top||d.bottom>n.bottom||d.left<n.left||d.right>n.right)}class xs{constructor(o,n,r,p){this._scrollDispatcher=o,this._viewportRuler=n,this._ngZone=r,this._config=p,this._scrollSubscription=null}attach(o){this._overlayRef=o}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:p}=this._viewportRuler.getViewportSize();Ho(n,[{width:r,height:p,bottom:p,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ks=(()=>{class d{constructor(n,r,p,g){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=p,this.noop=()=>new ps,this.close=k=>new Cs(this._scrollDispatcher,this._ngZone,this._viewportRuler,k),this.block=()=>new ws(this._viewportRuler,this._document),this.reposition=k=>new xs(this._scrollDispatcher,this._viewportRuler,this._ngZone,k),this._document=g}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(Lo),a.KVO(Gi),a.KVO(a.SKi),a.KVO(F.qQ))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();class Es{constructor(o){if(this.scrollStrategy=new ps,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,o){const n=Object.keys(o);for(const r of n)void 0!==o[r]&&(this[r]=o[r])}}}class Ts{constructor(o,n){this.connectionPair=o,this.scrollableViewProperties=n}}let ms=(()=>{class d{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(F.qQ))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Ps=(()=>{class d extends ms{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=p=>{const g=this._attachedOverlays;for(let k=g.length-1;k>-1;k--)if(g[k]._keydownEvents.observers.length>0){const A=g[k]._keydownEvents;this._ngZone?this._ngZone.run(()=>A.next(p)):A.next(p);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(F.qQ),a.KVO(a.SKi,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Ss=(()=>{class d extends ms{constructor(n,r,p){super(n),this._platform=r,this._ngZone=p,this._cursorStyleIsSet=!1,this._pointerDownListener=g=>{this._pointerDownEventTarget=(0,U.Fb)(g)},this._clickListener=g=>{const k=(0,U.Fb)(g),A="click"===g.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:k;this._pointerDownEventTarget=null;const H=this._attachedOverlays.slice();for(let K=H.length-1;K>-1;K--){const $=H[K];if($._outsidePointerEvents.observers.length<1||!$.hasAttached())continue;if(_s($.overlayElement,k)||_s($.overlayElement,A))break;const xt=$._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>xt.next(g)):xt.next(g)}}}add(n){if(super.add(n),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(F.qQ),a.KVO(U.OD),a.KVO(a.SKi,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function _s(d,o){const n=typeof ShadowRoot<"u"&&ShadowRoot;let r=o;for(;r;){if(r===d)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let gs=(()=>{class d{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||(0,U.v8)()){const p=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let g=0;g<p.length;g++)p[g].remove()}const r=this._document.createElement("div");r.classList.add(n),(0,U.v8)()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(F.qQ),a.KVO(U.OD))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();class Ms{constructor(o,n,r,p,g,k,A,H,K,$=!1,xt){this._portalOutlet=o,this._host=n,this._pane=r,this._config=p,this._ngZone=g,this._keyboardDispatcher=k,this._document=A,this._location=H,this._outsideClickDispatcher=K,this._animationsDisabled=$,this._injector=xt,this._backdropElement=null,this._backdropClick=new M.B,this._attachments=new M.B,this._detachments=new M.B,this._locationChanges=B.yU.EMPTY,this._backdropClickHandler=qt=>this._backdropClick.next(qt),this._backdropTransitionendHandler=qt=>{this._disposeBackdrop(qt.target)},this._keydownEvents=new M.B,this._outsidePointerEvents=new M.B,this._renders=new M.B,p.scrollStrategy&&(this._scrollStrategy=p.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=p.positionStrategy,this._afterRenderRef=(0,a.O8t)(()=>(0,a.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(o){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(o);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,a.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const o=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){const o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,o&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()))}updateSize(o){this._config={...this._config,...o},this._updateElementSize()}setDirection(o){this._config={...this._config,direction:o},this._updateElementDirection()}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!0)}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!1)}getDirection(){const o=this._config.direction;return o?"string"==typeof o?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const o=this._pane.style;o.width=(0,dt.a1)(this._config.width),o.height=(0,dt.a1)(this._config.height),o.minWidth=(0,dt.a1)(this._config.minWidth),o.minHeight=(0,dt.a1)(this._config.minHeight),o.maxWidth=(0,dt.a1)(this._config.maxWidth),o.maxHeight=(0,dt.a1)(this._config.maxHeight)}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none"}_attachBackdrop(){const o="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(o)})}):this._backdropElement.classList.add(o)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const o=this._backdropElement;if(o){if(this._animationsDisabled)return void this._disposeBackdrop(o);o.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{o.addEventListener("transitionend",this._backdropTransitionendHandler)}),o.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(o)},500))}}_toggleClasses(o,n,r){const p=(0,dt.FG)(n||[]).filter(g=>!!g);p.length&&(r?o.classList.add(...p):o.classList.remove(...p))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const o=this._renders.pipe((0,m.Q)(function Un(...d){const o=(0,Vn.lI)(d),n=(0,Vn.R0)(d,1/0),r=d;return r.length?1===r.length?(0,xe.Tg)(r[0]):(0,zo.U)(n)((0,Yi.H)(r,o)):Zo.w}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),o.unsubscribe())})})}_disposeScrollStrategy(){const o=this._scrollStrategy;o&&(o.disable(),o.detach&&o.detach())}_disposeBackdrop(o){o&&(o.removeEventListener("click",this._backdropClickHandler),o.removeEventListener("transitionend",this._backdropTransitionendHandler),o.remove(),this._backdropElement===o&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const vs="cdk-overlay-connected-position-bounding-box",Is=/([A-Za-z%]+)$/;class Ls{get positions(){return this._preferredPositions}constructor(o,n,r,p,g){this._viewportRuler=n,this._document=r,this._platform=p,this._overlayContainer=g,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new M.B,this._resizeSubscription=B.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(o)}attach(o){this._validatePositions(),o.hostElement.classList.add(vs),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._originRect,n=this._overlayRect,r=this._viewportRect,p=this._containerRect,g=[];let k;for(let A of this._preferredPositions){let H=this._getOriginPoint(o,p,A),K=this._getOverlayPoint(H,n,A),$=this._getOverlayFit(K,n,r,A);if($.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(A,H);this._canFitWithFlexibleDimensions($,K,r)?g.push({position:A,origin:H,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(H,A)}):(!k||k.overlayFit.visibleArea<$.visibleArea)&&(k={overlayFit:$,overlayPoint:K,originPoint:H,position:A,overlayRect:n})}if(g.length){let A=null,H=-1;for(const K of g){const $=K.boundingBoxRect.width*K.boundingBoxRect.height*(K.position.weight||1);$>H&&(H=$,A=K)}return this._isPushed=!1,void this._applyPosition(A.position,A.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(k.position,k.originPoint);this._applyPosition(k.position,k.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ci(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vs),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const o=this._lastPosition;if(o){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,o);this._applyPosition(o,n)}else this.apply()}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,-1===o.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=!0){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=!0){return this._growAfterOpen=o,this}withPush(o=!0){return this._canPush=o,this}withLockedPosition(o=!0){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}_getOriginPoint(o,n,r){let p,g;if("center"==r.originX)p=o.left+o.width/2;else{const k=this._isRtl()?o.right:o.left,A=this._isRtl()?o.left:o.right;p="start"==r.originX?k:A}return n.left<0&&(p-=n.left),g="center"==r.originY?o.top+o.height/2:"top"==r.originY?o.top:o.bottom,n.top<0&&(g-=n.top),{x:p,y:g}}_getOverlayPoint(o,n,r){let p,g;return p="center"==r.overlayX?-n.width/2:"start"===r.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,g="center"==r.overlayY?-n.height/2:"top"==r.overlayY?0:-n.height,{x:o.x+p,y:o.y+g}}_getOverlayFit(o,n,r,p){const g=bs(n);let{x:k,y:A}=o,H=this._getOffset(p,"x"),K=this._getOffset(p,"y");H&&(k+=H),K&&(A+=K);let qt=0-A,zt=A+g.height-r.height,$t=this._subtractOverflows(g.width,0-k,k+g.width-r.width),Zt=this._subtractOverflows(g.height,qt,zt),$i=$t*Zt;return{visibleArea:$i,isCompletelyWithinViewport:g.width*g.height===$i,fitsInViewportVertically:Zt===g.height,fitsInViewportHorizontally:$t==g.width}}_canFitWithFlexibleDimensions(o,n,r){if(this._hasFlexibleDimensions){const p=r.bottom-n.y,g=r.right-n.x,k=ys(this._overlayRef.getConfig().minHeight),A=ys(this._overlayRef.getConfig().minWidth);return(o.fitsInViewportVertically||null!=k&&k<=p)&&(o.fitsInViewportHorizontally||null!=A&&A<=g)}return!1}_pushOverlayOnScreen(o,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};const p=bs(n),g=this._viewportRect,k=Math.max(o.x+p.width-g.width,0),A=Math.max(o.y+p.height-g.height,0),H=Math.max(g.top-r.top-o.y,0),K=Math.max(g.left-r.left-o.x,0);let $=0,xt=0;return $=p.width<=g.width?K||-k:o.x<this._viewportMargin?g.left-r.left-o.x:0,xt=p.height<=g.height?H||-A:o.y<this._viewportMargin?g.top-r.top-o.y:0,this._previousPushAmount={x:$,y:xt},{x:o.x+$,y:o.y+xt}}_applyPosition(o,n){if(this._setTransformOrigin(o),this._setOverlayElementStyles(n,o),this._setBoundingBoxStyles(n,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(o!==this._lastPosition||!this._lastScrollVisibility||!function Os(d,o){return d===o||d.isOriginClipped===o.isOriginClipped&&d.isOriginOutsideView===o.isOriginOutsideView&&d.isOverlayClipped===o.isOverlayClipped&&d.isOverlayOutsideView===o.isOverlayOutsideView}(this._lastScrollVisibility,r)){const p=new Ts(o,r);this._positionChanges.next(p)}this._lastScrollVisibility=r}this._lastPosition=o,this._isInitialRender=!1}_setTransformOrigin(o){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,p=o.overlayY;r="center"===o.overlayX?"center":this._isRtl()?"start"===o.overlayX?"right":"left":"start"===o.overlayX?"left":"right";for(let g=0;g<n.length;g++)n[g].style.transformOrigin=`${r} ${p}`}_calculateBoundingBoxRect(o,n){const r=this._viewportRect,p=this._isRtl();let g,k,A,$,xt,qt;if("top"===n.overlayY)k=o.y,g=r.height-k+this._viewportMargin;else if("bottom"===n.overlayY)A=r.height-o.y+2*this._viewportMargin,g=r.height-A+this._viewportMargin;else{const zt=Math.min(r.bottom-o.y+r.top,o.y),$t=this._lastBoundingBoxSize.height;g=2*zt,k=o.y-zt,g>$t&&!this._isInitialRender&&!this._growAfterOpen&&(k=o.y-$t/2)}if("end"===n.overlayX&&!p||"start"===n.overlayX&&p)qt=r.width-o.x+2*this._viewportMargin,$=o.x-this._viewportMargin;else if("start"===n.overlayX&&!p||"end"===n.overlayX&&p)xt=o.x,$=r.right-o.x;else{const zt=Math.min(r.right-o.x+r.left,o.x),$t=this._lastBoundingBoxSize.width;$=2*zt,xt=o.x-zt,$>$t&&!this._isInitialRender&&!this._growAfterOpen&&(xt=o.x-$t/2)}return{top:k,left:xt,bottom:A,right:qt,width:$,height:g}}_setBoundingBoxStyles(o,n){const r=this._calculateBoundingBoxRect(o,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const p={};if(this._hasExactPosition())p.top=p.left="0",p.bottom=p.right=p.maxHeight=p.maxWidth="",p.width=p.height="100%";else{const g=this._overlayRef.getConfig().maxHeight,k=this._overlayRef.getConfig().maxWidth;p.height=(0,dt.a1)(r.height),p.top=(0,dt.a1)(r.top),p.bottom=(0,dt.a1)(r.bottom),p.width=(0,dt.a1)(r.width),p.left=(0,dt.a1)(r.left),p.right=(0,dt.a1)(r.right),p.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",p.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",g&&(p.maxHeight=(0,dt.a1)(g)),k&&(p.maxWidth=(0,dt.a1)(k))}this._lastBoundingBoxSize=r,ci(this._boundingBox.style,p)}_resetBoundingBoxStyles(){ci(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ci(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(o,n){const r={},p=this._hasExactPosition(),g=this._hasFlexibleDimensions,k=this._overlayRef.getConfig();if(p){const $=this._viewportRuler.getViewportScrollPosition();ci(r,this._getExactOverlayY(n,o,$)),ci(r,this._getExactOverlayX(n,o,$))}else r.position="static";let A="",H=this._getOffset(n,"x"),K=this._getOffset(n,"y");H&&(A+=`translateX(${H}px) `),K&&(A+=`translateY(${K}px)`),r.transform=A.trim(),k.maxHeight&&(p?r.maxHeight=(0,dt.a1)(k.maxHeight):g&&(r.maxHeight="")),k.maxWidth&&(p?r.maxWidth=(0,dt.a1)(k.maxWidth):g&&(r.maxWidth="")),ci(this._pane.style,r)}_getExactOverlayY(o,n,r){let p={top:"",bottom:""},g=this._getOverlayPoint(n,this._overlayRect,o);return this._isPushed&&(g=this._pushOverlayOnScreen(g,this._overlayRect,r)),"bottom"===o.overlayY?p.bottom=this._document.documentElement.clientHeight-(g.y+this._overlayRect.height)+"px":p.top=(0,dt.a1)(g.y),p}_getExactOverlayX(o,n,r){let k,p={left:"",right:""},g=this._getOverlayPoint(n,this._overlayRect,o);return this._isPushed&&(g=this._pushOverlayOnScreen(g,this._overlayRect,r)),k=this._isRtl()?"end"===o.overlayX?"left":"right":"end"===o.overlayX?"right":"left","right"===k?p.right=this._document.documentElement.clientWidth-(g.x+this._overlayRect.width)+"px":p.left=(0,dt.a1)(g.x),p}_getScrollVisibility(){const o=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(p=>p.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fs(o,r),isOriginOutsideView:Ho(o,r),isOverlayClipped:fs(n,r),isOverlayOutsideView:Ho(n,r)}}_subtractOverflows(o,...n){return n.reduce((r,p)=>r-Math.max(p,0),o)}_getNarrowedViewportRect(){const o=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+o-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:o-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(o,n){return"x"===n?null==o.offsetX?this._offsetX:o.offsetX:null==o.offsetY?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&(0,dt.FG)(o).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o)}),this._appliedPanelClasses=[])}_getOriginRect(){const o=this._origin;if(o instanceof a.aKT)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();const n=o.width||0,r=o.height||0;return{top:o.y,bottom:o.y+r,left:o.x,right:o.x+n,height:r,width:n}}}function ci(d,o){for(let n in o)o.hasOwnProperty(n)&&(d[n]=o[n]);return d}function ys(d){if("number"!=typeof d&&null!=d){const[o,n]=d.split(Is);return n&&"px"!==n?null:parseFloat(o)}return d||null}function bs(d){return{top:Math.floor(d.top),right:Math.floor(d.right),bottom:Math.floor(d.bottom),left:Math.floor(d.left),width:Math.floor(d.width),height:Math.floor(d.height)}}const Wn="cdk-global-overlay-wrapper";class As{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(o){const n=o.getConfig();this._overlayRef=o,this._width&&!n.width&&o.updateSize({width:this._width}),this._height&&!n.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(Wn),this._isDisposed=!1}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const o=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:p,height:g,maxWidth:k,maxHeight:A}=r,H=!("100%"!==p&&"100vw"!==p||k&&"100%"!==k&&"100vw"!==k),K=!("100%"!==g&&"100vh"!==g||A&&"100%"!==A&&"100vh"!==A),$=this._xPosition,xt=this._xOffset,qt="rtl"===this._overlayRef.getConfig().direction;let zt="",$t="",Zt="";H?Zt="flex-start":"center"===$?(Zt="center",qt?$t=xt:zt=xt):qt?"left"===$||"end"===$?(Zt="flex-end",zt=xt):("right"===$||"start"===$)&&(Zt="flex-start",$t=xt):"left"===$||"start"===$?(Zt="flex-start",zt=xt):("right"===$||"end"===$)&&(Zt="flex-end",$t=xt),o.position=this._cssPosition,o.marginLeft=H?"0":zt,o.marginTop=K?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=H?"0":$t,n.justifyContent=Zt,n.alignItems=K?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const o=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(Wn),r.justifyContent=r.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=!0}}let Rs=(()=>{class d{constructor(n,r,p,g){this._viewportRuler=n,this._document=r,this._platform=p,this._overlayContainer=g}global(){return new As}flexibleConnectedTo(n){return new Ls(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(Gi),a.KVO(F.qQ),a.KVO(U.OD),a.KVO(gs))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),er=0,Vo=(()=>{class d{constructor(n,r,p,g,k,A,H,K,$,xt,qt,zt){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=p,this._positionBuilder=g,this._keyboardDispatcher=k,this._injector=A,this._ngZone=H,this._document=K,this._directionality=$,this._location=xt,this._outsideClickDispatcher=qt,this._animationsModuleType=zt}create(n){const r=this._createHostElement(),p=this._createPaneElement(r),g=this._createPortalOutlet(p),k=new Es(n);return k.direction=k.direction||this._directionality.value,new Ms(g,r,p,k,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(a.uvJ))}position(){return this._positionBuilder}_createPaneElement(n){const r=this._document.createElement("div");return r.id="cdk-overlay-"+er++,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(a.o8S)),new Bo(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(ks),a.KVO(gs),a.KVO(a.OM3),a.KVO(Rs),a.KVO(Ps),a.KVO(a.zZn),a.KVO(a.SKi),a.KVO(F.qQ),a.KVO(So),a.KVO(F.aZ),a.KVO(Ss),a.KVO(a.bc$,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const or={provide:new a.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const d=(0,a.WQX)(Vo);return()=>d.scrollStrategies.reposition()}}),deps:[Vo],useFactory:function nr(d){return()=>d.scrollStrategies.reposition()}};let sr=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({providers:[Vo,or],imports:[Ke,Mt,c,c]})}return d})();C(9969);const ar=new a.nKC("mat-sanity-checks",{providedIn:"root",factory:function rr(){return!0}});let Ws=(()=>{class d{constructor(n,r,p){this._sanityChecks=r,this._document=p,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!(0,U.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#t=this.\u0275fac=function(r){return new(r||d)(a.KVO(Fe),a.KVO(ar,8),a.KVO(F.qQ))};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({imports:[Ke,Ke]})}return d})();var Se=function(d){return d[d.FADING_IN=0]="FADING_IN",d[d.VISIBLE=1]="VISIBLE",d[d.FADING_OUT=2]="FADING_OUT",d[d.HIDDEN=3]="HIDDEN",d}(Se||{});class fr{constructor(o,n,r,p=!1){this._renderer=o,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=p,this.state=Se.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ys=(0,U.BQ)({passive:!0,capture:!0});class mr{constructor(){this._events=new Map,this._delegateEventHandler=o=>{const n=(0,U.Fb)(o);n&&this._events.get(o.type)?.forEach((r,p)=>{(p===n||p.contains(n))&&r.forEach(g=>g.handleEvent(o))})}}addHandler(o,n,r,p){const g=this._events.get(n);if(g){const k=g.get(r);k?k.add(p):g.set(r,new Set([p]))}else this._events.set(n,new Map([[r,new Set([p])]])),o.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Ys)})}removeHandler(o,n,r){const p=this._events.get(o);if(!p)return;const g=p.get(n);g&&(g.delete(r),0===g.size&&p.delete(n),0===p.size&&(this._events.delete(o),document.removeEventListener(o,this._delegateEventHandler,Ys)))}}const $s={enterDuration:225,exitDuration:150},Ks=(0,U.BQ)({passive:!0,capture:!0}),Xs=["mousedown","touchstart"],qs=["mouseup","mouseleave","touchend","touchcancel"];class Fs{static#t=this._eventManager=new mr;constructor(o,n,r,p){this._target=o,this._ngZone=n,this._platform=p,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,p.isBrowser&&(this._containerElement=(0,dt.i8)(r))}fadeInRipple(o,n,r={}){const p=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),g={...$s,...r.animation};r.centered&&(o=p.left+p.width/2,n=p.top+p.height/2);const k=r.radius||function gr(d,o,n){const r=Math.max(Math.abs(d-n.left),Math.abs(d-n.right)),p=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom));return Math.sqrt(r*r+p*p)}(o,n,p),A=o-p.left,H=n-p.top,K=g.enterDuration,$=document.createElement("div");$.classList.add("mat-ripple-element"),$.style.left=A-k+"px",$.style.top=H-k+"px",$.style.height=2*k+"px",$.style.width=2*k+"px",null!=r.color&&($.style.backgroundColor=r.color),$.style.transitionDuration=`${K}ms`,this._containerElement.appendChild($);const xt=window.getComputedStyle($),zt=xt.transitionDuration,$t="none"===xt.transitionProperty||"0s"===zt||"0s, 0s"===zt||0===p.width&&0===p.height,Zt=new fr(this,$,r,$t);$.style.transform="scale3d(1, 1, 1)",Zt.state=Se.FADING_IN,r.persistent||(this._mostRecentTransientRipple=Zt);let $i=null;return!$t&&(K||g.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qs=()=>{$i&&($i.fallbackTimer=null),clearTimeout(tr),this._finishRippleTransition(Zt)},Bs=()=>this._destroyRipple(Zt),tr=setTimeout(Bs,K+100);$.addEventListener("transitionend",Qs),$.addEventListener("transitioncancel",Bs),$i={onTransitionEnd:Qs,onTransitionCancel:Bs,fallbackTimer:tr}}),this._activeRipples.set(Zt,$i),($t||!K)&&this._finishRippleTransition(Zt),Zt}fadeOutRipple(o){if(o.state===Se.FADING_OUT||o.state===Se.HIDDEN)return;const n=o.element,r={...$s,...o.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",o.state=Se.FADING_OUT,(o._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(o)}fadeOutAll(){this._getActiveRipples().forEach(o=>o.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(o=>{o.config.persistent||o.fadeOut()})}setupTriggerEvents(o){const n=(0,dt.i8)(o);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Xs.forEach(r=>{Fs._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(o){"mousedown"===o.type?this._onMousedown(o):"touchstart"===o.type?this._onTouchStart(o):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qs.forEach(n=>{this._triggerElement.addEventListener(n,this,Ks)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(o){o.state===Se.FADING_IN?this._startFadeOutTransition(o):o.state===Se.FADING_OUT&&this._destroyRipple(o)}_startFadeOutTransition(o){const n=o===this._mostRecentTransientRipple,{persistent:r}=o.config;o.state=Se.VISIBLE,!r&&(!n||!this._isPointerDown)&&o.fadeOut()}_destroyRipple(o){const n=this._activeRipples.get(o)??null;this._activeRipples.delete(o),this._activeRipples.size||(this._containerRect=null),o===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),o.state=Se.HIDDEN,null!==n&&(o.element.removeEventListener("transitionend",n.onTransitionEnd),o.element.removeEventListener("transitioncancel",n.onTransitionCancel),null!==n.fallbackTimer&&clearTimeout(n.fallbackTimer)),o.element.remove()}_onMousedown(o){const n=function Sn(d){return 0===d.buttons||0===d.detail}(o),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(o.clientX,o.clientY,this._target.rippleConfig))}_onTouchStart(o){if(!this._target.rippleDisabled&&!function fo(d){const o=d.touches&&d.touches[0]||d.changedTouches&&d.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(o)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=o.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(o=>{!o.config.persistent&&(o.state===Se.VISIBLE||o.config.terminateOnPointerUp&&o.state===Se.FADING_IN)&&o.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const o=this._triggerElement;o&&(Xs.forEach(n=>Fs._eventManager.removeHandler(n,o,this)),this._pointerUpEventsRegistered&&(qs.forEach(n=>o.removeEventListener(n,this,Ks)),this._pointerUpEventsRegistered=!1))}}const br={provide:new a.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const d=(0,a.WQX)(Vo);return()=>d.scrollStrategies.reposition({scrollThrottle:20})}}),deps:[Vo],useFactory:function yr(d){return()=>d.scrollStrategies.reposition({scrollThrottle:20})}};let Cr=(()=>{class d{static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({providers:[br],imports:[vo,F.MD,sr,Ws,Ws,s]})}return d})()}}]);